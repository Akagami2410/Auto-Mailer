(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function Xh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Pg={exports:{}},Fu={};var gT;function JR(){if(gT)return Fu;gT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,o){var l=null;if(o!==void 0&&(l=""+o),i.key!==void 0&&(l=""+i.key),"key"in i){o={};for(var c in i)c!=="key"&&(o[c]=i[c])}else o=i;return i=o.ref,{$$typeof:n,type:r,key:l,ref:i!==void 0?i:null,props:o}}return Fu.Fragment=e,Fu.jsx=t,Fu.jsxs=t,Fu}var yT;function XR(){return yT||(yT=1,Pg.exports=JR()),Pg.exports}var C=XR(),jg={exports:{}},Be={};var vT;function QR(){if(vT)return Be;vT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),g=Symbol.iterator;function y(H){return H===null||typeof H!="object"?null:(H=g&&H[g]||H["@@iterator"],typeof H=="function"?H:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,T={};function A(H,Y,oe){this.props=H,this.context=Y,this.refs=T,this.updater=oe||b}A.prototype.isReactComponent={},A.prototype.setState=function(H,Y){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,Y,"setState")},A.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function M(){}M.prototype=A.prototype;function w(H,Y,oe){this.props=H,this.context=Y,this.refs=T,this.updater=oe||b}var x=w.prototype=new M;x.constructor=w,S(x,A.prototype),x.isPureReactComponent=!0;var N=Array.isArray;function z(){}var P={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function j(H,Y,oe){var fe=oe.ref;return{$$typeof:n,type:H,key:Y,ref:fe!==void 0?fe:null,props:oe}}function B(H,Y){return j(H.type,Y,H.props)}function G(H){return typeof H=="object"&&H!==null&&H.$$typeof===n}function $(H){var Y={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(oe){return Y[oe]})}var ne=/\/+/g;function le(H,Y){return typeof H=="object"&&H!==null&&H.key!=null?$(""+H.key):Y.toString(36)}function ee(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(z,z):(H.status="pending",H.then(function(Y){H.status==="pending"&&(H.status="fulfilled",H.value=Y)},function(Y){H.status==="pending"&&(H.status="rejected",H.reason=Y)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function I(H,Y,oe,fe,Ae){var Se=typeof H;(Se==="undefined"||Se==="boolean")&&(H=null);var De=!1;if(H===null)De=!0;else switch(Se){case"bigint":case"string":case"number":De=!0;break;case"object":switch(H.$$typeof){case n:case e:De=!0;break;case p:return De=H._init,I(De(H._payload),Y,oe,fe,Ae)}}if(De)return Ae=Ae(H),De=fe===""?"."+le(H,0):fe,N(Ae)?(oe="",De!=null&&(oe=De.replace(ne,"$&/")+"/"),I(Ae,Y,oe,"",function(Mt){return Mt})):Ae!=null&&(G(Ae)&&(Ae=B(Ae,oe+(Ae.key==null||H&&H.key===Ae.key?"":(""+Ae.key).replace(ne,"$&/")+"/")+De)),Y.push(Ae)),1;De=0;var Fe=fe===""?".":fe+":";if(N(H))for(var We=0;We<H.length;We++)fe=H[We],Se=Fe+le(fe,We),De+=I(fe,Y,oe,Se,Ae);else if(We=y(H),typeof We=="function")for(H=We.call(H),We=0;!(fe=H.next()).done;)fe=fe.value,Se=Fe+le(fe,We++),De+=I(fe,Y,oe,Se,Ae);else if(Se==="object"){if(typeof H.then=="function")return I(ee(H),Y,oe,fe,Ae);throw Y=String(H),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return De}function W(H,Y,oe){if(H==null)return H;var fe=[],Ae=0;return I(H,fe,"","",function(Se){return Y.call(oe,Se,Ae++)}),fe}function ae(H){if(H._status===-1){var Y=H._result;Y=Y(),Y.then(function(oe){(H._status===0||H._status===-1)&&(H._status=1,H._result=oe)},function(oe){(H._status===0||H._status===-1)&&(H._status=2,H._result=oe)}),H._status===-1&&(H._status=0,H._result=Y)}if(H._status===1)return H._result.default;throw H._result}var de=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},xe={map:W,forEach:function(H,Y,oe){W(H,function(){Y.apply(this,arguments)},oe)},count:function(H){var Y=0;return W(H,function(){Y++}),Y},toArray:function(H){return W(H,function(Y){return Y})||[]},only:function(H){if(!G(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return Be.Activity=m,Be.Children=xe,Be.Component=A,Be.Fragment=t,Be.Profiler=i,Be.PureComponent=w,Be.StrictMode=r,Be.Suspense=f,Be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Be.__COMPILER_RUNTIME={__proto__:null,c:function(H){return P.H.useMemoCache(H)}},Be.cache=function(H){return function(){return H.apply(null,arguments)}},Be.cacheSignal=function(){return null},Be.cloneElement=function(H,Y,oe){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var fe=S({},H.props),Ae=H.key;if(Y!=null)for(Se in Y.key!==void 0&&(Ae=""+Y.key),Y)!k.call(Y,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&Y.ref===void 0||(fe[Se]=Y[Se]);var Se=arguments.length-2;if(Se===1)fe.children=oe;else if(1<Se){for(var De=Array(Se),Fe=0;Fe<Se;Fe++)De[Fe]=arguments[Fe+2];fe.children=De}return j(H.type,Ae,fe)},Be.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:o,_context:H},H},Be.createElement=function(H,Y,oe){var fe,Ae={},Se=null;if(Y!=null)for(fe in Y.key!==void 0&&(Se=""+Y.key),Y)k.call(Y,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Ae[fe]=Y[fe]);var De=arguments.length-2;if(De===1)Ae.children=oe;else if(1<De){for(var Fe=Array(De),We=0;We<De;We++)Fe[We]=arguments[We+2];Ae.children=Fe}if(H&&H.defaultProps)for(fe in De=H.defaultProps,De)Ae[fe]===void 0&&(Ae[fe]=De[fe]);return j(H,Se,Ae)},Be.createRef=function(){return{current:null}},Be.forwardRef=function(H){return{$$typeof:c,render:H}},Be.isValidElement=G,Be.lazy=function(H){return{$$typeof:p,_payload:{_status:-1,_result:H},_init:ae}},Be.memo=function(H,Y){return{$$typeof:h,type:H,compare:Y===void 0?null:Y}},Be.startTransition=function(H){var Y=P.T,oe={};P.T=oe;try{var fe=H(),Ae=P.S;Ae!==null&&Ae(oe,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(z,de)}catch(Se){de(Se)}finally{Y!==null&&oe.types!==null&&(Y.types=oe.types),P.T=Y}},Be.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Be.use=function(H){return P.H.use(H)},Be.useActionState=function(H,Y,oe){return P.H.useActionState(H,Y,oe)},Be.useCallback=function(H,Y){return P.H.useCallback(H,Y)},Be.useContext=function(H){return P.H.useContext(H)},Be.useDebugValue=function(){},Be.useDeferredValue=function(H,Y){return P.H.useDeferredValue(H,Y)},Be.useEffect=function(H,Y){return P.H.useEffect(H,Y)},Be.useEffectEvent=function(H){return P.H.useEffectEvent(H)},Be.useId=function(){return P.H.useId()},Be.useImperativeHandle=function(H,Y,oe){return P.H.useImperativeHandle(H,Y,oe)},Be.useInsertionEffect=function(H,Y){return P.H.useInsertionEffect(H,Y)},Be.useLayoutEffect=function(H,Y){return P.H.useLayoutEffect(H,Y)},Be.useMemo=function(H,Y){return P.H.useMemo(H,Y)},Be.useOptimistic=function(H,Y){return P.H.useOptimistic(H,Y)},Be.useReducer=function(H,Y,oe){return P.H.useReducer(H,Y,oe)},Be.useRef=function(H){return P.H.useRef(H)},Be.useState=function(H){return P.H.useState(H)},Be.useSyncExternalStore=function(H,Y,oe){return P.H.useSyncExternalStore(H,Y,oe)},Be.useTransition=function(){return P.H.useTransition()},Be.version="19.2.4",Be}var bT;function Vc(){return bT||(bT=1,jg.exports=QR()),jg.exports}var L=Vc();const ho=Xh(L);var Lg={exports:{}},Vu={},Ig={exports:{}},Bg={};var ST;function $R(){return ST||(ST=1,(function(n){function e(I,W){var ae=I.length;I.push(W);e:for(;0<ae;){var de=ae-1>>>1,xe=I[de];if(0<i(xe,W))I[de]=W,I[ae]=xe,ae=de;else break e}}function t(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var W=I[0],ae=I.pop();if(ae!==W){I[0]=ae;e:for(var de=0,xe=I.length,H=xe>>>1;de<H;){var Y=2*(de+1)-1,oe=I[Y],fe=Y+1,Ae=I[fe];if(0>i(oe,ae))fe<xe&&0>i(Ae,oe)?(I[de]=Ae,I[fe]=ae,de=fe):(I[de]=oe,I[Y]=ae,de=Y);else if(fe<xe&&0>i(Ae,ae))I[de]=Ae,I[fe]=ae,de=fe;else break e}}return W}function i(I,W){var ae=I.sortIndex-W.sortIndex;return ae!==0?ae:I.id-W.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var f=[],h=[],p=1,m=null,g=3,y=!1,b=!1,S=!1,T=!1,A=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function x(I){for(var W=t(h);W!==null;){if(W.callback===null)r(h);else if(W.startTime<=I)r(h),W.sortIndex=W.expirationTime,e(f,W);else break;W=t(h)}}function N(I){if(S=!1,x(I),!b)if(t(f)!==null)b=!0,z||(z=!0,$());else{var W=t(h);W!==null&&ee(N,W.startTime-I)}}var z=!1,P=-1,k=5,j=-1;function B(){return T?!0:!(n.unstable_now()-j<k)}function G(){if(T=!1,z){var I=n.unstable_now();j=I;var W=!0;try{e:{b=!1,S&&(S=!1,M(P),P=-1),y=!0;var ae=g;try{t:{for(x(I),m=t(f);m!==null&&!(m.expirationTime>I&&B());){var de=m.callback;if(typeof de=="function"){m.callback=null,g=m.priorityLevel;var xe=de(m.expirationTime<=I);if(I=n.unstable_now(),typeof xe=="function"){m.callback=xe,x(I),W=!0;break t}m===t(f)&&r(f),x(I)}else r(f);m=t(f)}if(m!==null)W=!0;else{var H=t(h);H!==null&&ee(N,H.startTime-I),W=!1}}break e}finally{m=null,g=ae,y=!1}W=void 0}}finally{W?$():z=!1}}}var $;if(typeof w=="function")$=function(){w(G)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,le=ne.port2;ne.port1.onmessage=G,$=function(){le.postMessage(null)}}else $=function(){A(G,0)};function ee(I,W){P=A(function(){I(n.unstable_now())},W)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(I){I.callback=null},n.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<I?Math.floor(1e3/I):5},n.unstable_getCurrentPriorityLevel=function(){return g},n.unstable_next=function(I){switch(g){case 1:case 2:case 3:var W=3;break;default:W=g}var ae=g;g=W;try{return I()}finally{g=ae}},n.unstable_requestPaint=function(){T=!0},n.unstable_runWithPriority=function(I,W){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var ae=g;g=I;try{return W()}finally{g=ae}},n.unstable_scheduleCallback=function(I,W,ae){var de=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?de+ae:de):ae=de,I){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=ae+xe,I={id:p++,callback:W,priorityLevel:I,startTime:ae,expirationTime:xe,sortIndex:-1},ae>de?(I.sortIndex=ae,e(h,I),t(f)===null&&I===t(h)&&(S?(M(P),P=-1):S=!0,ee(N,ae-de))):(I.sortIndex=xe,e(f,I),b||y||(b=!0,z||(z=!0,$()))),I},n.unstable_shouldYield=B,n.unstable_wrapCallback=function(I){var W=g;return function(){var ae=g;g=W;try{return I.apply(this,arguments)}finally{g=ae}}}})(Bg)),Bg}var ET;function eP(){return ET||(ET=1,Ig.exports=$R()),Ig.exports}var zg={exports:{}},Pn={};var TT;function tP(){if(TT)return Pn;TT=1;var n=Vc();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(f,h,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:f,containerInfo:h,implementation:p}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Pn.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(f,h,null,p)},Pn.flushSync=function(f){var h=l.T,p=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=h,r.p=p,r.d.f()}},Pn.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},Pn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Pn.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,m=c(p,h.crossOrigin),g=typeof h.integrity=="string"?h.integrity:void 0,y=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:y}):p==="script"&&r.d.X(f,{crossOrigin:m,integrity:g,fetchPriority:y,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Pn.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=c(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},Pn.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,m=c(p,h.crossOrigin);r.d.L(f,p,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Pn.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=c(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},Pn.requestFormReset=function(f){r.d.r(f)},Pn.unstable_batchedUpdates=function(f,h){return f(h)},Pn.useFormState=function(f,h,p){return l.H.useFormState(f,h,p)},Pn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Pn.version="19.2.4",Pn}var AT;function lw(){if(AT)return zg.exports;AT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),zg.exports=tP(),zg.exports}var OT;function nP(){if(OT)return Vu;OT=1;var n=eP(),e=Vc(),t=lw();function r(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var s=a,u=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(u=s.return),a=s.return;while(a)}return s.tag===3?u:null}function l(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function c(a){if(a.tag===31){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function f(a){if(o(a)!==a)throw Error(r(188))}function h(a){var s=a.alternate;if(!s){if(s=o(a),s===null)throw Error(r(188));return s!==a?null:a}for(var u=a,d=s;;){var v=u.return;if(v===null)break;var E=v.alternate;if(E===null){if(d=v.return,d!==null){u=d;continue}break}if(v.child===E.child){for(E=v.child;E;){if(E===u)return f(v),a;if(E===d)return f(v),s;E=E.sibling}throw Error(r(188))}if(u.return!==d.return)u=v,d=E;else{for(var O=!1,_=v.child;_;){if(_===u){O=!0,u=v,d=E;break}if(_===d){O=!0,d=v,u=E;break}_=_.sibling}if(!O){for(_=E.child;_;){if(_===u){O=!0,u=E,d=v;break}if(_===d){O=!0,d=E,u=v;break}_=_.sibling}if(!O)throw Error(r(189))}}if(u.alternate!==d)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?a:s}function p(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=p(a),s!==null)return s;a=a.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),w=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function $(a){return a===null||typeof a!="object"?null:(a=G&&a[G]||a["@@iterator"],typeof a=="function"?a:null)}var ne=Symbol.for("react.client.reference");function le(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===ne?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case S:return"Fragment";case A:return"Profiler";case T:return"StrictMode";case N:return"Suspense";case z:return"SuspenseList";case j:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case b:return"Portal";case w:return a.displayName||"Context";case M:return(a._context.displayName||"Context")+".Consumer";case x:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case P:return s=a.displayName||null,s!==null?s:le(a.type)||"Memo";case k:s=a._payload,a=a._init;try{return le(a(s))}catch{}}return null}var ee=Array.isArray,I=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},de=[],xe=-1;function H(a){return{current:a}}function Y(a){0>xe||(a.current=de[xe],de[xe]=null,xe--)}function oe(a,s){xe++,de[xe]=a.current,a.current=s}var fe=H(null),Ae=H(null),Se=H(null),De=H(null);function Fe(a,s){switch(oe(Se,s),oe(Ae,a),oe(fe,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?z1(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=z1(s),a=U1(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}Y(fe),oe(fe,a)}function We(){Y(fe),Y(Ae),Y(Se)}function Mt(a){a.memoizedState!==null&&oe(De,a);var s=fe.current,u=U1(s,a.type);s!==u&&(oe(Ae,a),oe(fe,u))}function gn(a){Ae.current===a&&(Y(fe),Y(Ae)),De.current===a&&(Y(De),Bu._currentValue=ae)}var Un,So;function ur(a){if(Un===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);Un=s&&s[1]||"",So=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Un+a+So}var gi=!1;function va(a,s){if(!a||gi)return"";gi=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(s){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(X){var J=X}Reflect.construct(a,[],ie)}else{try{ie.call()}catch(X){J=X}a.call(ie.prototype)}}else{try{throw Error()}catch(X){J=X}(ie=a())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(X){if(X&&J&&typeof X.stack=="string")return[X.stack,J.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=d.DetermineComponentFrameRoot(),O=E[0],_=E[1];if(O&&_){var U=O.split(`
`),Z=_.split(`
`);for(v=d=0;d<U.length&&!U[d].includes("DetermineComponentFrameRoot");)d++;for(;v<Z.length&&!Z[v].includes("DetermineComponentFrameRoot");)v++;if(d===U.length||v===Z.length)for(d=U.length-1,v=Z.length-1;1<=d&&0<=v&&U[d]!==Z[v];)v--;for(;1<=d&&0<=v;d--,v--)if(U[d]!==Z[v]){if(d!==1||v!==1)do if(d--,v--,0>v||U[d]!==Z[v]){var te=`
`+U[d].replace(" at new "," at ");return a.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",a.displayName)),te}while(1<=d&&0<=v);break}}}finally{gi=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?ur(u):""}function ba(a,s){switch(a.tag){case 26:case 27:case 5:return ur(a.type);case 16:return ur("Lazy");case 13:return a.child!==s&&s!==null?ur("Suspense Fallback"):ur("Suspense");case 19:return ur("SuspenseList");case 0:case 15:return va(a.type,!1);case 11:return va(a.type.render,!1);case 1:return va(a.type,!0);case 31:return ur("Activity");default:return""}}function Eo(a){try{var s="",u=null;do s+=ba(a,u),u=a,a=a.return;while(a);return s}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var ti=Object.prototype.hasOwnProperty,ye=n.unstable_scheduleCallback,he=n.unstable_cancelCallback,Me=n.unstable_shouldYield,ze=n.unstable_requestPaint,ge=n.unstable_now,Ze=n.unstable_getCurrentPriorityLevel,Tt=n.unstable_ImmediatePriority,Ct=n.unstable_UserBlockingPriority,st=n.unstable_NormalPriority,It=n.unstable_LowPriority,cr=n.unstable_IdlePriority,To=n.log,Ao=n.unstable_setDisableYieldValue,Oo=null,Hn=null;function it(a){if(typeof To=="function"&&Ao(a),Hn&&typeof Hn.setStrictMode=="function")try{Hn.setStrictMode(Oo,a)}catch{}}var yn=Math.clz32?Math.clz32:Rs,Xl=Math.log,Op=Math.LN2;function Rs(a){return a>>>=0,a===0?32:31-(Xl(a)/Op|0)|0}var Sa=256,Qn=262144,Ps=4194304;function ki(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function D(a,s,u){var d=a.pendingLanes;if(d===0)return 0;var v=0,E=a.suspendedLanes,O=a.pingedLanes;a=a.warmLanes;var _=d&134217727;return _!==0?(d=_&~E,d!==0?v=ki(d):(O&=_,O!==0?v=ki(O):u||(u=_&~a,u!==0&&(v=ki(u))))):(_=d&~E,_!==0?v=ki(_):O!==0?v=ki(O):u||(u=d&~a,u!==0&&(v=ki(u)))),v===0?0:s!==0&&s!==v&&(s&E)===0&&(E=v&-v,u=s&-s,E>=u||E===32&&(u&4194048)!==0)?s:v}function R(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function V(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Q(){var a=Ps;return Ps<<=1,(Ps&62914560)===0&&(Ps=4194304),a}function ce(a){for(var s=[],u=0;31>u;u++)s.push(a);return s}function pe(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Ue(a,s,u,d,v,E){var O=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var _=a.entanglements,U=a.expirationTimes,Z=a.hiddenUpdates;for(u=O&~u;0<u;){var te=31-yn(u),ie=1<<te;_[te]=0,U[te]=-1;var J=Z[te];if(J!==null)for(Z[te]=null,te=0;te<J.length;te++){var X=J[te];X!==null&&(X.lane&=-536870913)}u&=~ie}d!==0&&Oe(a,d,0),E!==0&&v===0&&a.tag!==0&&(a.suspendedLanes|=E&~(O&~s))}function Oe(a,s,u){a.pendingLanes|=s,a.suspendedLanes&=~s;var d=31-yn(s);a.entangledLanes|=s,a.entanglements[d]=a.entanglements[d]|1073741824|u&261930}function qe(a,s){var u=a.entangledLanes|=s;for(a=a.entanglements;u;){var d=31-yn(u),v=1<<d;v&s|a[d]&s&&(a[d]|=s),u&=~v}}function Ee(a,s){var u=s&-s;return u=(u&42)!==0?1:Ne(u),(u&(a.suspendedLanes|s))!==0?0:u}function Ne(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function lt(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function fr(){var a=W.p;return a!==0?a:(a=window.event,a===void 0?32:uT(a.type))}function Nn(a,s){var u=W.p;try{return W.p=a,s()}finally{W.p=u}}var $n=Math.random().toString(36).slice(2),kt="__reactFiber$"+$n,Rn="__reactProps$"+$n,yi="__reactContainer$"+$n,Ql="__reactEvents$"+$n,Cp="__reactListeners$"+$n,Mp="__reactHandles$"+$n,nf="__reactResources$"+$n,Co="__reactMarker$"+$n;function $l(a){delete a[kt],delete a[Rn],delete a[Ql],delete a[Cp],delete a[Mp]}function Ea(a){var s=a[kt];if(s)return s;for(var u=a.parentNode;u;){if(s=u[yi]||u[kt]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(a=Y1(a);a!==null;){if(u=a[kt])return u;a=Y1(a)}return s}a=u,u=a.parentNode}return null}function Ta(a){if(a=a[kt]||a[yi]){var s=a.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return a}return null}function eu(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(r(33))}function js(a){var s=a[nf];return s||(s=a[nf]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function cn(a){a[Co]=!0}var wb=new Set,xb={};function Mo(a,s){Ls(a,s),Ls(a+"Capture",s)}function Ls(a,s){for(xb[a]=s,a=0;a<s.length;a++)wb.add(s[a])}var HD=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_b={},kb={};function FD(a){return ti.call(kb,a)?!0:ti.call(_b,a)?!1:HD.test(a)?kb[a]=!0:(_b[a]=!0,!1)}function rf(a,s,u){if(FD(s))if(u===null)a.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var d=s.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+u)}}function af(a,s,u){if(u===null)a.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+u)}}function Di(a,s,u,d){if(d===null)a.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(s,u,""+d)}}function Pr(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Db(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function VD(a,s,u){var d=Object.getOwnPropertyDescriptor(a.constructor.prototype,s);if(!a.hasOwnProperty(s)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var v=d.get,E=d.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return v.call(this)},set:function(O){u=""+O,E.call(this,O)}}),Object.defineProperty(a,s,{enumerable:d.enumerable}),{getValue:function(){return u},setValue:function(O){u=""+O},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function wp(a){if(!a._valueTracker){var s=Db(a)?"checked":"value";a._valueTracker=VD(a,s,""+a[s])}}function Nb(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var u=s.getValue(),d="";return a&&(d=Db(a)?a.checked?"true":"false":a.value),a=d,a!==u?(s.setValue(a),!0):!1}function of(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var qD=/[\n"\\]/g;function jr(a){return a.replace(qD,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function xp(a,s,u,d,v,E,O,_){a.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?a.type=O:a.removeAttribute("type"),s!=null?O==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+Pr(s)):a.value!==""+Pr(s)&&(a.value=""+Pr(s)):O!=="submit"&&O!=="reset"||a.removeAttribute("value"),s!=null?_p(a,O,Pr(s)):u!=null?_p(a,O,Pr(u)):d!=null&&a.removeAttribute("value"),v==null&&E!=null&&(a.defaultChecked=!!E),v!=null&&(a.checked=v&&typeof v!="function"&&typeof v!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?a.name=""+Pr(_):a.removeAttribute("name")}function Rb(a,s,u,d,v,E,O,_){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(a.type=E),s!=null||u!=null){if(!(E!=="submit"&&E!=="reset"||s!=null)){wp(a);return}u=u!=null?""+Pr(u):"",s=s!=null?""+Pr(s):u,_||s===a.value||(a.value=s),a.defaultValue=s}d=d??v,d=typeof d!="function"&&typeof d!="symbol"&&!!d,a.checked=_?a.checked:!!d,a.defaultChecked=!!d,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(a.name=O),wp(a)}function _p(a,s,u){s==="number"&&of(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function Is(a,s,u,d){if(a=a.options,s){s={};for(var v=0;v<u.length;v++)s["$"+u[v]]=!0;for(u=0;u<a.length;u++)v=s.hasOwnProperty("$"+a[u].value),a[u].selected!==v&&(a[u].selected=v),v&&d&&(a[u].defaultSelected=!0)}else{for(u=""+Pr(u),s=null,v=0;v<a.length;v++){if(a[v].value===u){a[v].selected=!0,d&&(a[v].defaultSelected=!0);return}s!==null||a[v].disabled||(s=a[v])}s!==null&&(s.selected=!0)}}function Pb(a,s,u){if(s!=null&&(s=""+Pr(s),s!==a.value&&(a.value=s),u==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=u!=null?""+Pr(u):""}function jb(a,s,u,d){if(s==null){if(d!=null){if(u!=null)throw Error(r(92));if(ee(d)){if(1<d.length)throw Error(r(93));d=d[0]}u=d}u==null&&(u=""),s=u}u=Pr(s),a.defaultValue=u,d=a.textContent,d===u&&d!==""&&d!==null&&(a.value=d),wp(a)}function Bs(a,s){if(s){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=s;return}}a.textContent=s}var GD=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lb(a,s,u){var d=s.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?d?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":d?a.setProperty(s,u):typeof u!="number"||u===0||GD.has(s)?s==="float"?a.cssFloat=u:a[s]=(""+u).trim():a[s]=u+"px"}function Ib(a,s,u){if(s!=null&&typeof s!="object")throw Error(r(62));if(a=a.style,u!=null){for(var d in u)!u.hasOwnProperty(d)||s!=null&&s.hasOwnProperty(d)||(d.indexOf("--")===0?a.setProperty(d,""):d==="float"?a.cssFloat="":a[d]="");for(var v in s)d=s[v],s.hasOwnProperty(v)&&u[v]!==d&&Lb(a,v,d)}else for(var E in s)s.hasOwnProperty(E)&&Lb(a,E,s[E])}function kp(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var WD=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),YD=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sf(a){return YD.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Ni(){}var Dp=null;function Np(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var zs=null,Us=null;function Bb(a){var s=Ta(a);if(s&&(a=s.stateNode)){var u=a[Rn]||null;e:switch(a=s.stateNode,s.type){case"input":if(xp(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),s=u.name,u.type==="radio"&&s!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+jr(""+s)+'"][type="radio"]'),s=0;s<u.length;s++){var d=u[s];if(d!==a&&d.form===a.form){var v=d[Rn]||null;if(!v)throw Error(r(90));xp(d,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(s=0;s<u.length;s++)d=u[s],d.form===a.form&&Nb(d)}break e;case"textarea":Pb(a,u.value,u.defaultValue);break e;case"select":s=u.value,s!=null&&Is(a,!!u.multiple,s,!1)}}}var Rp=!1;function zb(a,s,u){if(Rp)return a(s,u);Rp=!0;try{var d=a(s);return d}finally{if(Rp=!1,(zs!==null||Us!==null)&&(Kf(),zs&&(s=zs,a=Us,Us=zs=null,Bb(s),a)))for(s=0;s<a.length;s++)Bb(a[s])}}function tu(a,s){var u=a.stateNode;if(u===null)return null;var d=u[Rn]||null;if(d===null)return null;u=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(a=a.type,d=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!d;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(r(231,s,typeof u));return u}var Ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pp=!1;if(Ri)try{var nu={};Object.defineProperty(nu,"passive",{get:function(){Pp=!0}}),window.addEventListener("test",nu,nu),window.removeEventListener("test",nu,nu)}catch{Pp=!1}var Aa=null,jp=null,lf=null;function Ub(){if(lf)return lf;var a,s=jp,u=s.length,d,v="value"in Aa?Aa.value:Aa.textContent,E=v.length;for(a=0;a<u&&s[a]===v[a];a++);var O=u-a;for(d=1;d<=O&&s[u-d]===v[E-d];d++);return lf=v.slice(a,1<d?1-d:void 0)}function uf(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function cf(){return!0}function Hb(){return!1}function er(a){function s(u,d,v,E,O){this._reactName=u,this._targetInst=v,this.type=d,this.nativeEvent=E,this.target=O,this.currentTarget=null;for(var _ in a)a.hasOwnProperty(_)&&(u=a[_],this[_]=u?u(E):E[_]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?cf:Hb,this.isPropagationStopped=Hb,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=cf)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=cf)},persist:function(){},isPersistent:cf}),s}var wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ff=er(wo),ru=m({},wo,{view:0,detail:0}),KD=er(ru),Lp,Ip,iu,df=m({},ru,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zp,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==iu&&(iu&&a.type==="mousemove"?(Lp=a.screenX-iu.screenX,Ip=a.screenY-iu.screenY):Ip=Lp=0,iu=a),Lp)},movementY:function(a){return"movementY"in a?a.movementY:Ip}}),Fb=er(df),ZD=m({},df,{dataTransfer:0}),JD=er(ZD),XD=m({},ru,{relatedTarget:0}),Bp=er(XD),QD=m({},wo,{animationName:0,elapsedTime:0,pseudoElement:0}),$D=er(QD),eN=m({},wo,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),tN=er(eN),nN=m({},wo,{data:0}),Vb=er(nN),rN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oN(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=aN[a])?!!s[a]:!1}function zp(){return oN}var sN=m({},ru,{key:function(a){if(a.key){var s=rN[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=uf(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?iN[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zp,charCode:function(a){return a.type==="keypress"?uf(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?uf(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),lN=er(sN),uN=m({},df,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qb=er(uN),cN=m({},ru,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zp}),fN=er(cN),dN=m({},wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),hN=er(dN),pN=m({},df,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),mN=er(pN),gN=m({},wo,{newState:0,oldState:0}),yN=er(gN),vN=[9,13,27,32],Up=Ri&&"CompositionEvent"in window,au=null;Ri&&"documentMode"in document&&(au=document.documentMode);var bN=Ri&&"TextEvent"in window&&!au,Gb=Ri&&(!Up||au&&8<au&&11>=au),Wb=" ",Yb=!1;function Kb(a,s){switch(a){case"keyup":return vN.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zb(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Hs=!1;function SN(a,s){switch(a){case"compositionend":return Zb(s);case"keypress":return s.which!==32?null:(Yb=!0,Wb);case"textInput":return a=s.data,a===Wb&&Yb?null:a;default:return null}}function EN(a,s){if(Hs)return a==="compositionend"||!Up&&Kb(a,s)?(a=Ub(),lf=jp=Aa=null,Hs=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Gb&&s.locale!=="ko"?null:s.data;default:return null}}var TN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jb(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!TN[a.type]:s==="textarea"}function Xb(a,s,u,d){zs?Us?Us.push(d):Us=[d]:zs=d,s=td(s,"onChange"),0<s.length&&(u=new ff("onChange","change",null,u,d),a.push({event:u,listeners:s}))}var ou=null,su=null;function AN(a){R1(a,0)}function hf(a){var s=eu(a);if(Nb(s))return a}function Qb(a,s){if(a==="change")return s}var $b=!1;if(Ri){var Hp;if(Ri){var Fp="oninput"in document;if(!Fp){var eS=document.createElement("div");eS.setAttribute("oninput","return;"),Fp=typeof eS.oninput=="function"}Hp=Fp}else Hp=!1;$b=Hp&&(!document.documentMode||9<document.documentMode)}function tS(){ou&&(ou.detachEvent("onpropertychange",nS),su=ou=null)}function nS(a){if(a.propertyName==="value"&&hf(su)){var s=[];Xb(s,su,a,Np(a)),zb(AN,s)}}function ON(a,s,u){a==="focusin"?(tS(),ou=s,su=u,ou.attachEvent("onpropertychange",nS)):a==="focusout"&&tS()}function CN(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return hf(su)}function MN(a,s){if(a==="click")return hf(s)}function wN(a,s){if(a==="input"||a==="change")return hf(s)}function xN(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var dr=typeof Object.is=="function"?Object.is:xN;function lu(a,s){if(dr(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var u=Object.keys(a),d=Object.keys(s);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var v=u[d];if(!ti.call(s,v)||!dr(a[v],s[v]))return!1}return!0}function rS(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function iS(a,s){var u=rS(a);a=0;for(var d;u;){if(u.nodeType===3){if(d=a+u.textContent.length,a<=s&&d>=s)return{node:u,offset:s-a};a=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=rS(u)}}function aS(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?aS(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function oS(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=of(a.document);s instanceof a.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)a=s.contentWindow;else break;s=of(a.document)}return s}function Vp(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var _N=Ri&&"documentMode"in document&&11>=document.documentMode,Fs=null,qp=null,uu=null,Gp=!1;function sS(a,s,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Gp||Fs==null||Fs!==of(d)||(d=Fs,"selectionStart"in d&&Vp(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),uu&&lu(uu,d)||(uu=d,d=td(qp,"onSelect"),0<d.length&&(s=new ff("onSelect","select",null,s,u),a.push({event:s,listeners:d}),s.target=Fs)))}function xo(a,s){var u={};return u[a.toLowerCase()]=s.toLowerCase(),u["Webkit"+a]="webkit"+s,u["Moz"+a]="moz"+s,u}var Vs={animationend:xo("Animation","AnimationEnd"),animationiteration:xo("Animation","AnimationIteration"),animationstart:xo("Animation","AnimationStart"),transitionrun:xo("Transition","TransitionRun"),transitionstart:xo("Transition","TransitionStart"),transitioncancel:xo("Transition","TransitionCancel"),transitionend:xo("Transition","TransitionEnd")},Wp={},lS={};Ri&&(lS=document.createElement("div").style,"AnimationEvent"in window||(delete Vs.animationend.animation,delete Vs.animationiteration.animation,delete Vs.animationstart.animation),"TransitionEvent"in window||delete Vs.transitionend.transition);function _o(a){if(Wp[a])return Wp[a];if(!Vs[a])return a;var s=Vs[a],u;for(u in s)if(s.hasOwnProperty(u)&&u in lS)return Wp[a]=s[u];return a}var uS=_o("animationend"),cS=_o("animationiteration"),fS=_o("animationstart"),kN=_o("transitionrun"),DN=_o("transitionstart"),NN=_o("transitioncancel"),dS=_o("transitionend"),hS=new Map,Yp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yp.push("scrollEnd");function ni(a,s){hS.set(a,s),Mo(s,[a])}var pf=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Lr=[],qs=0,Kp=0;function mf(){for(var a=qs,s=Kp=qs=0;s<a;){var u=Lr[s];Lr[s++]=null;var d=Lr[s];Lr[s++]=null;var v=Lr[s];Lr[s++]=null;var E=Lr[s];if(Lr[s++]=null,d!==null&&v!==null){var O=d.pending;O===null?v.next=v:(v.next=O.next,O.next=v),d.pending=v}E!==0&&pS(u,v,E)}}function gf(a,s,u,d){Lr[qs++]=a,Lr[qs++]=s,Lr[qs++]=u,Lr[qs++]=d,Kp|=d,a.lanes|=d,a=a.alternate,a!==null&&(a.lanes|=d)}function Zp(a,s,u,d){return gf(a,s,u,d),yf(a)}function ko(a,s){return gf(a,null,null,s),yf(a)}function pS(a,s,u){a.lanes|=u;var d=a.alternate;d!==null&&(d.lanes|=u);for(var v=!1,E=a.return;E!==null;)E.childLanes|=u,d=E.alternate,d!==null&&(d.childLanes|=u),E.tag===22&&(a=E.stateNode,a===null||a._visibility&1||(v=!0)),a=E,E=E.return;return a.tag===3?(E=a.stateNode,v&&s!==null&&(v=31-yn(u),a=E.hiddenUpdates,d=a[v],d===null?a[v]=[s]:d.push(s),s.lane=u|536870912),E):null}function yf(a){if(50<Du)throw Du=0,ig=null,Error(r(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var Gs={};function RN(a,s,u,d){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hr(a,s,u,d){return new RN(a,s,u,d)}function Jp(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Pi(a,s){var u=a.alternate;return u===null?(u=hr(a.tag,s,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=s,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,s=a.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function mS(a,s){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,s=u.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function vf(a,s,u,d,v,E){var O=0;if(d=a,typeof a=="function")Jp(a)&&(O=1);else if(typeof a=="string")O=BR(a,u,fe.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case j:return a=hr(31,u,s,v),a.elementType=j,a.lanes=E,a;case S:return Do(u.children,v,E,s);case T:O=8,v|=24;break;case A:return a=hr(12,u,s,v|2),a.elementType=A,a.lanes=E,a;case N:return a=hr(13,u,s,v),a.elementType=N,a.lanes=E,a;case z:return a=hr(19,u,s,v),a.elementType=z,a.lanes=E,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case w:O=10;break e;case M:O=9;break e;case x:O=11;break e;case P:O=14;break e;case k:O=16,d=null;break e}O=29,u=Error(r(130,a===null?"null":typeof a,"")),d=null}return s=hr(O,u,s,v),s.elementType=a,s.type=d,s.lanes=E,s}function Do(a,s,u,d){return a=hr(7,a,d,s),a.lanes=u,a}function Xp(a,s,u){return a=hr(6,a,null,s),a.lanes=u,a}function gS(a){var s=hr(18,null,null,0);return s.stateNode=a,s}function Qp(a,s,u){return s=hr(4,a.children!==null?a.children:[],a.key,s),s.lanes=u,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var yS=new WeakMap;function Ir(a,s){if(typeof a=="object"&&a!==null){var u=yS.get(a);return u!==void 0?u:(s={value:a,source:s,stack:Eo(s)},yS.set(a,s),s)}return{value:a,source:s,stack:Eo(s)}}var Ws=[],Ys=0,bf=null,cu=0,Br=[],zr=0,Oa=null,vi=1,bi="";function ji(a,s){Ws[Ys++]=cu,Ws[Ys++]=bf,bf=a,cu=s}function vS(a,s,u){Br[zr++]=vi,Br[zr++]=bi,Br[zr++]=Oa,Oa=a;var d=vi;a=bi;var v=32-yn(d)-1;d&=~(1<<v),u+=1;var E=32-yn(s)+v;if(30<E){var O=v-v%5;E=(d&(1<<O)-1).toString(32),d>>=O,v-=O,vi=1<<32-yn(s)+v|u<<v|d,bi=E+a}else vi=1<<E|u<<v|d,bi=a}function $p(a){a.return!==null&&(ji(a,1),vS(a,1,0))}function em(a){for(;a===bf;)bf=Ws[--Ys],Ws[Ys]=null,cu=Ws[--Ys],Ws[Ys]=null;for(;a===Oa;)Oa=Br[--zr],Br[zr]=null,bi=Br[--zr],Br[zr]=null,vi=Br[--zr],Br[zr]=null}function bS(a,s){Br[zr++]=vi,Br[zr++]=bi,Br[zr++]=Oa,vi=s.id,bi=s.overflow,Oa=a}var vn=null,wt=null,tt=!1,Ca=null,Ur=!1,tm=Error(r(519));function Ma(a){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fu(Ir(s,a)),tm}function SS(a){var s=a.stateNode,u=a.type,d=a.memoizedProps;switch(s[kt]=a,s[Rn]=d,u){case"dialog":Xe("cancel",s),Xe("close",s);break;case"iframe":case"object":case"embed":Xe("load",s);break;case"video":case"audio":for(u=0;u<Ru.length;u++)Xe(Ru[u],s);break;case"source":Xe("error",s);break;case"img":case"image":case"link":Xe("error",s),Xe("load",s);break;case"details":Xe("toggle",s);break;case"input":Xe("invalid",s),Rb(s,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":Xe("invalid",s);break;case"textarea":Xe("invalid",s),jb(s,d.value,d.defaultValue,d.children)}u=d.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||s.textContent===""+u||d.suppressHydrationWarning===!0||I1(s.textContent,u)?(d.popover!=null&&(Xe("beforetoggle",s),Xe("toggle",s)),d.onScroll!=null&&Xe("scroll",s),d.onScrollEnd!=null&&Xe("scrollend",s),d.onClick!=null&&(s.onclick=Ni),s=!0):s=!1,s||Ma(a,!0)}function ES(a){for(vn=a.return;vn;)switch(vn.tag){case 5:case 31:case 13:Ur=!1;return;case 27:case 3:Ur=!0;return;default:vn=vn.return}}function Ks(a){if(a!==vn)return!1;if(!tt)return ES(a),tt=!0,!1;var s=a.tag,u;if((u=s!==3&&s!==27)&&((u=s===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||bg(a.type,a.memoizedProps)),u=!u),u&&wt&&Ma(a),ES(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));wt=W1(a)}else if(s===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));wt=W1(a)}else s===27?(s=wt,Ua(a.type)?(a=Og,Og=null,wt=a):wt=s):wt=vn?Fr(a.stateNode.nextSibling):null;return!0}function No(){wt=vn=null,tt=!1}function nm(){var a=Ca;return a!==null&&(ir===null?ir=a:ir.push.apply(ir,a),Ca=null),a}function fu(a){Ca===null?Ca=[a]:Ca.push(a)}var rm=H(null),Ro=null,Li=null;function wa(a,s,u){oe(rm,s._currentValue),s._currentValue=u}function Ii(a){a._currentValue=rm.current,Y(rm)}function im(a,s,u){for(;a!==null;){var d=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),a===u)break;a=a.return}}function am(a,s,u,d){var v=a.child;for(v!==null&&(v.return=a);v!==null;){var E=v.dependencies;if(E!==null){var O=v.child;E=E.firstContext;e:for(;E!==null;){var _=E;E=v;for(var U=0;U<s.length;U++)if(_.context===s[U]){E.lanes|=u,_=E.alternate,_!==null&&(_.lanes|=u),im(E.return,u,a),d||(O=null);break e}E=_.next}}else if(v.tag===18){if(O=v.return,O===null)throw Error(r(341));O.lanes|=u,E=O.alternate,E!==null&&(E.lanes|=u),im(O,u,a),O=null}else O=v.child;if(O!==null)O.return=v;else for(O=v;O!==null;){if(O===a){O=null;break}if(v=O.sibling,v!==null){v.return=O.return,O=v;break}O=O.return}v=O}}function Zs(a,s,u,d){a=null;for(var v=s,E=!1;v!==null;){if(!E){if((v.flags&524288)!==0)E=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var O=v.alternate;if(O===null)throw Error(r(387));if(O=O.memoizedProps,O!==null){var _=v.type;dr(v.pendingProps.value,O.value)||(a!==null?a.push(_):a=[_])}}else if(v===De.current){if(O=v.alternate,O===null)throw Error(r(387));O.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(a!==null?a.push(Bu):a=[Bu])}v=v.return}a!==null&&am(s,a,u,d),s.flags|=262144}function Sf(a){for(a=a.firstContext;a!==null;){if(!dr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Po(a){Ro=a,Li=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function bn(a){return TS(Ro,a)}function Ef(a,s){return Ro===null&&Po(a),TS(a,s)}function TS(a,s){var u=s._currentValue;if(s={context:s,memoizedValue:u,next:null},Li===null){if(a===null)throw Error(r(308));Li=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else Li=Li.next=s;return u}var PN=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(u,d){a.push(d)}};this.abort=function(){s.aborted=!0,a.forEach(function(u){return u()})}},jN=n.unstable_scheduleCallback,LN=n.unstable_NormalPriority,Jt={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function om(){return{controller:new PN,data:new Map,refCount:0}}function du(a){a.refCount--,a.refCount===0&&jN(LN,function(){a.controller.abort()})}var hu=null,sm=0,Js=0,Xs=null;function IN(a,s){if(hu===null){var u=hu=[];sm=0,Js=cg(),Xs={status:"pending",value:void 0,then:function(d){u.push(d)}}}return sm++,s.then(AS,AS),s}function AS(){if(--sm===0&&hu!==null){Xs!==null&&(Xs.status="fulfilled");var a=hu;hu=null,Js=0,Xs=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function BN(a,s){var u=[],d={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return a.then(function(){d.status="fulfilled",d.value=s;for(var v=0;v<u.length;v++)(0,u[v])(s)},function(v){for(d.status="rejected",d.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),d}var OS=I.S;I.S=function(a,s){s1=ge(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&IN(a,s),OS!==null&&OS(a,s)};var jo=H(null);function lm(){var a=jo.current;return a!==null?a:At.pooledCache}function Tf(a,s){s===null?oe(jo,jo.current):oe(jo,s.pool)}function CS(){var a=lm();return a===null?null:{parent:Jt._currentValue,pool:a}}var Qs=Error(r(460)),um=Error(r(474)),Af=Error(r(542)),Of={then:function(){}};function MS(a){return a=a.status,a==="fulfilled"||a==="rejected"}function wS(a,s,u){switch(u=a[u],u===void 0?a.push(s):u!==s&&(s.then(Ni,Ni),s=u),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,_S(a),a;default:if(typeof s.status=="string")s.then(Ni,Ni);else{if(a=At,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=s,a.status="pending",a.then(function(d){if(s.status==="pending"){var v=s;v.status="fulfilled",v.value=d}},function(d){if(s.status==="pending"){var v=s;v.status="rejected",v.reason=d}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,_S(a),a}throw Io=s,Qs}}function Lo(a){try{var s=a._init;return s(a._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Io=u,Qs):u}}var Io=null;function xS(){if(Io===null)throw Error(r(459));var a=Io;return Io=null,a}function _S(a){if(a===Qs||a===Af)throw Error(r(483))}var $s=null,pu=0;function Cf(a){var s=pu;return pu+=1,$s===null&&($s=[]),wS($s,a,s)}function mu(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function Mf(a,s){throw s.$$typeof===g?Error(r(525)):(a=Object.prototype.toString.call(s),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function kS(a){function s(q,F){if(a){var K=q.deletions;K===null?(q.deletions=[F],q.flags|=16):K.push(F)}}function u(q,F){if(!a)return null;for(;F!==null;)s(q,F),F=F.sibling;return null}function d(q){for(var F=new Map;q!==null;)q.key!==null?F.set(q.key,q):F.set(q.index,q),q=q.sibling;return F}function v(q,F){return q=Pi(q,F),q.index=0,q.sibling=null,q}function E(q,F,K){return q.index=K,a?(K=q.alternate,K!==null?(K=K.index,K<F?(q.flags|=67108866,F):K):(q.flags|=67108866,F)):(q.flags|=1048576,F)}function O(q){return a&&q.alternate===null&&(q.flags|=67108866),q}function _(q,F,K,re){return F===null||F.tag!==6?(F=Xp(K,q.mode,re),F.return=q,F):(F=v(F,K),F.return=q,F)}function U(q,F,K,re){var _e=K.type;return _e===S?te(q,F,K.props.children,re,K.key):F!==null&&(F.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===k&&Lo(_e)===F.type)?(F=v(F,K.props),mu(F,K),F.return=q,F):(F=vf(K.type,K.key,K.props,null,q.mode,re),mu(F,K),F.return=q,F)}function Z(q,F,K,re){return F===null||F.tag!==4||F.stateNode.containerInfo!==K.containerInfo||F.stateNode.implementation!==K.implementation?(F=Qp(K,q.mode,re),F.return=q,F):(F=v(F,K.children||[]),F.return=q,F)}function te(q,F,K,re,_e){return F===null||F.tag!==7?(F=Do(K,q.mode,re,_e),F.return=q,F):(F=v(F,K),F.return=q,F)}function ie(q,F,K){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=Xp(""+F,q.mode,K),F.return=q,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case y:return K=vf(F.type,F.key,F.props,null,q.mode,K),mu(K,F),K.return=q,K;case b:return F=Qp(F,q.mode,K),F.return=q,F;case k:return F=Lo(F),ie(q,F,K)}if(ee(F)||$(F))return F=Do(F,q.mode,K,null),F.return=q,F;if(typeof F.then=="function")return ie(q,Cf(F),K);if(F.$$typeof===w)return ie(q,Ef(q,F),K);Mf(q,F)}return null}function J(q,F,K,re){var _e=F!==null?F.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return _e!==null?null:_(q,F,""+K,re);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case y:return K.key===_e?U(q,F,K,re):null;case b:return K.key===_e?Z(q,F,K,re):null;case k:return K=Lo(K),J(q,F,K,re)}if(ee(K)||$(K))return _e!==null?null:te(q,F,K,re,null);if(typeof K.then=="function")return J(q,F,Cf(K),re);if(K.$$typeof===w)return J(q,F,Ef(q,K),re);Mf(q,K)}return null}function X(q,F,K,re,_e){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return q=q.get(K)||null,_(F,q,""+re,_e);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case y:return q=q.get(re.key===null?K:re.key)||null,U(F,q,re,_e);case b:return q=q.get(re.key===null?K:re.key)||null,Z(F,q,re,_e);case k:return re=Lo(re),X(q,F,K,re,_e)}if(ee(re)||$(re))return q=q.get(K)||null,te(F,q,re,_e,null);if(typeof re.then=="function")return X(q,F,K,Cf(re),_e);if(re.$$typeof===w)return X(q,F,K,Ef(F,re),_e);Mf(F,re)}return null}function Te(q,F,K,re){for(var _e=null,at=null,Ce=F,Ge=F=0,et=null;Ce!==null&&Ge<K.length;Ge++){Ce.index>Ge?(et=Ce,Ce=null):et=Ce.sibling;var ot=J(q,Ce,K[Ge],re);if(ot===null){Ce===null&&(Ce=et);break}a&&Ce&&ot.alternate===null&&s(q,Ce),F=E(ot,F,Ge),at===null?_e=ot:at.sibling=ot,at=ot,Ce=et}if(Ge===K.length)return u(q,Ce),tt&&ji(q,Ge),_e;if(Ce===null){for(;Ge<K.length;Ge++)Ce=ie(q,K[Ge],re),Ce!==null&&(F=E(Ce,F,Ge),at===null?_e=Ce:at.sibling=Ce,at=Ce);return tt&&ji(q,Ge),_e}for(Ce=d(Ce);Ge<K.length;Ge++)et=X(Ce,q,Ge,K[Ge],re),et!==null&&(a&&et.alternate!==null&&Ce.delete(et.key===null?Ge:et.key),F=E(et,F,Ge),at===null?_e=et:at.sibling=et,at=et);return a&&Ce.forEach(function(Ga){return s(q,Ga)}),tt&&ji(q,Ge),_e}function Re(q,F,K,re){if(K==null)throw Error(r(151));for(var _e=null,at=null,Ce=F,Ge=F=0,et=null,ot=K.next();Ce!==null&&!ot.done;Ge++,ot=K.next()){Ce.index>Ge?(et=Ce,Ce=null):et=Ce.sibling;var Ga=J(q,Ce,ot.value,re);if(Ga===null){Ce===null&&(Ce=et);break}a&&Ce&&Ga.alternate===null&&s(q,Ce),F=E(Ga,F,Ge),at===null?_e=Ga:at.sibling=Ga,at=Ga,Ce=et}if(ot.done)return u(q,Ce),tt&&ji(q,Ge),_e;if(Ce===null){for(;!ot.done;Ge++,ot=K.next())ot=ie(q,ot.value,re),ot!==null&&(F=E(ot,F,Ge),at===null?_e=ot:at.sibling=ot,at=ot);return tt&&ji(q,Ge),_e}for(Ce=d(Ce);!ot.done;Ge++,ot=K.next())ot=X(Ce,q,Ge,ot.value,re),ot!==null&&(a&&ot.alternate!==null&&Ce.delete(ot.key===null?Ge:ot.key),F=E(ot,F,Ge),at===null?_e=ot:at.sibling=ot,at=ot);return a&&Ce.forEach(function(ZR){return s(q,ZR)}),tt&&ji(q,Ge),_e}function Et(q,F,K,re){if(typeof K=="object"&&K!==null&&K.type===S&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case y:e:{for(var _e=K.key;F!==null;){if(F.key===_e){if(_e=K.type,_e===S){if(F.tag===7){u(q,F.sibling),re=v(F,K.props.children),re.return=q,q=re;break e}}else if(F.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===k&&Lo(_e)===F.type){u(q,F.sibling),re=v(F,K.props),mu(re,K),re.return=q,q=re;break e}u(q,F);break}else s(q,F);F=F.sibling}K.type===S?(re=Do(K.props.children,q.mode,re,K.key),re.return=q,q=re):(re=vf(K.type,K.key,K.props,null,q.mode,re),mu(re,K),re.return=q,q=re)}return O(q);case b:e:{for(_e=K.key;F!==null;){if(F.key===_e)if(F.tag===4&&F.stateNode.containerInfo===K.containerInfo&&F.stateNode.implementation===K.implementation){u(q,F.sibling),re=v(F,K.children||[]),re.return=q,q=re;break e}else{u(q,F);break}else s(q,F);F=F.sibling}re=Qp(K,q.mode,re),re.return=q,q=re}return O(q);case k:return K=Lo(K),Et(q,F,K,re)}if(ee(K))return Te(q,F,K,re);if($(K)){if(_e=$(K),typeof _e!="function")throw Error(r(150));return K=_e.call(K),Re(q,F,K,re)}if(typeof K.then=="function")return Et(q,F,Cf(K),re);if(K.$$typeof===w)return Et(q,F,Ef(q,K),re);Mf(q,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,F!==null&&F.tag===6?(u(q,F.sibling),re=v(F,K),re.return=q,q=re):(u(q,F),re=Xp(K,q.mode,re),re.return=q,q=re),O(q)):u(q,F)}return function(q,F,K,re){try{pu=0;var _e=Et(q,F,K,re);return $s=null,_e}catch(Ce){if(Ce===Qs||Ce===Af)throw Ce;var at=hr(29,Ce,null,q.mode);return at.lanes=re,at.return=q,at}}}var Bo=kS(!0),DS=kS(!1),xa=!1;function cm(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fm(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function _a(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function ka(a,s,u){var d=a.updateQueue;if(d===null)return null;if(d=d.shared,(ut&2)!==0){var v=d.pending;return v===null?s.next=s:(s.next=v.next,v.next=s),d.pending=s,s=yf(a),pS(a,null,u),s}return gf(a,d,s,u),yf(a)}function gu(a,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194048)!==0)){var d=s.lanes;d&=a.pendingLanes,u|=d,s.lanes=u,qe(a,u)}}function dm(a,s){var u=a.updateQueue,d=a.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var v=null,E=null;if(u=u.firstBaseUpdate,u!==null){do{var O={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};E===null?v=E=O:E=E.next=O,u=u.next}while(u!==null);E===null?v=E=s:E=E.next=s}else v=E=s;u={baseState:d.baseState,firstBaseUpdate:v,lastBaseUpdate:E,shared:d.shared,callbacks:d.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=s:a.next=s,u.lastBaseUpdate=s}var hm=!1;function yu(){if(hm){var a=Xs;if(a!==null)throw a}}function vu(a,s,u,d){hm=!1;var v=a.updateQueue;xa=!1;var E=v.firstBaseUpdate,O=v.lastBaseUpdate,_=v.shared.pending;if(_!==null){v.shared.pending=null;var U=_,Z=U.next;U.next=null,O===null?E=Z:O.next=Z,O=U;var te=a.alternate;te!==null&&(te=te.updateQueue,_=te.lastBaseUpdate,_!==O&&(_===null?te.firstBaseUpdate=Z:_.next=Z,te.lastBaseUpdate=U))}if(E!==null){var ie=v.baseState;O=0,te=Z=U=null,_=E;do{var J=_.lane&-536870913,X=J!==_.lane;if(X?($e&J)===J:(d&J)===J){J!==0&&J===Js&&(hm=!0),te!==null&&(te=te.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var Te=a,Re=_;J=s;var Et=u;switch(Re.tag){case 1:if(Te=Re.payload,typeof Te=="function"){ie=Te.call(Et,ie,J);break e}ie=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=Re.payload,J=typeof Te=="function"?Te.call(Et,ie,J):Te,J==null)break e;ie=m({},ie,J);break e;case 2:xa=!0}}J=_.callback,J!==null&&(a.flags|=64,X&&(a.flags|=8192),X=v.callbacks,X===null?v.callbacks=[J]:X.push(J))}else X={lane:J,tag:_.tag,payload:_.payload,callback:_.callback,next:null},te===null?(Z=te=X,U=ie):te=te.next=X,O|=J;if(_=_.next,_===null){if(_=v.shared.pending,_===null)break;X=_,_=X.next,X.next=null,v.lastBaseUpdate=X,v.shared.pending=null}}while(!0);te===null&&(U=ie),v.baseState=U,v.firstBaseUpdate=Z,v.lastBaseUpdate=te,E===null&&(v.shared.lanes=0),ja|=O,a.lanes=O,a.memoizedState=ie}}function NS(a,s){if(typeof a!="function")throw Error(r(191,a));a.call(s)}function RS(a,s){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)NS(u[a],s)}var el=H(null),wf=H(0);function PS(a,s){a=Wi,oe(wf,a),oe(el,s),Wi=a|s.baseLanes}function pm(){oe(wf,Wi),oe(el,el.current)}function mm(){Wi=wf.current,Y(el),Y(wf)}var pr=H(null),Hr=null;function Da(a){var s=a.alternate;oe(qt,qt.current&1),oe(pr,a),Hr===null&&(s===null||el.current!==null||s.memoizedState!==null)&&(Hr=a)}function gm(a){oe(qt,qt.current),oe(pr,a),Hr===null&&(Hr=a)}function jS(a){a.tag===22?(oe(qt,qt.current),oe(pr,a),Hr===null&&(Hr=a)):Na()}function Na(){oe(qt,qt.current),oe(pr,pr.current)}function mr(a){Y(pr),Hr===a&&(Hr=null),Y(qt)}var qt=H(0);function xf(a){for(var s=a;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Tg(u)||Ag(u)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Bi=0,Ve=null,bt=null,Xt=null,_f=!1,tl=!1,zo=!1,kf=0,bu=0,nl=null,zN=0;function Bt(){throw Error(r(321))}function ym(a,s){if(s===null)return!1;for(var u=0;u<s.length&&u<a.length;u++)if(!dr(a[u],s[u]))return!1;return!0}function vm(a,s,u,d,v,E){return Bi=E,Ve=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,I.H=a===null||a.memoizedState===null?vE:Rm,zo=!1,E=u(d,v),zo=!1,tl&&(E=IS(s,u,d,v)),LS(a),E}function LS(a){I.H=Tu;var s=bt!==null&&bt.next!==null;if(Bi=0,Xt=bt=Ve=null,_f=!1,bu=0,nl=null,s)throw Error(r(300));a===null||Qt||(a=a.dependencies,a!==null&&Sf(a)&&(Qt=!0))}function IS(a,s,u,d){Ve=a;var v=0;do{if(tl&&(nl=null),bu=0,tl=!1,25<=v)throw Error(r(301));if(v+=1,Xt=bt=null,a.updateQueue!=null){var E=a.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}I.H=bE,E=s(u,d)}while(tl);return E}function UN(){var a=I.H,s=a.useState()[0];return s=typeof s.then=="function"?Su(s):s,a=a.useState()[0],(bt!==null?bt.memoizedState:null)!==a&&(Ve.flags|=1024),s}function bm(){var a=kf!==0;return kf=0,a}function Sm(a,s,u){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~u}function Em(a){if(_f){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}_f=!1}Bi=0,Xt=bt=Ve=null,tl=!1,bu=kf=0,nl=null}function Fn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?Ve.memoizedState=Xt=a:Xt=Xt.next=a,Xt}function Gt(){if(bt===null){var a=Ve.alternate;a=a!==null?a.memoizedState:null}else a=bt.next;var s=Xt===null?Ve.memoizedState:Xt.next;if(s!==null)Xt=s,bt=a;else{if(a===null)throw Ve.alternate===null?Error(r(467)):Error(r(310));bt=a,a={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Xt===null?Ve.memoizedState=Xt=a:Xt=Xt.next=a}return Xt}function Df(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Su(a){var s=bu;return bu+=1,nl===null&&(nl=[]),a=wS(nl,a,s),s=Ve,(Xt===null?s.memoizedState:Xt.next)===null&&(s=s.alternate,I.H=s===null||s.memoizedState===null?vE:Rm),a}function Nf(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Su(a);if(a.$$typeof===w)return bn(a)}throw Error(r(438,String(a)))}function Tm(a){var s=null,u=Ve.updateQueue;if(u!==null&&(s=u.memoCache),s==null){var d=Ve.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(s={data:d.data.map(function(v){return v.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),u===null&&(u=Df(),Ve.updateQueue=u),u.memoCache=s,u=s.data[s.index],u===void 0)for(u=s.data[s.index]=Array(a),d=0;d<a;d++)u[d]=B;return s.index++,u}function zi(a,s){return typeof s=="function"?s(a):s}function Rf(a){var s=Gt();return Am(s,bt,a)}function Am(a,s,u){var d=a.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=u;var v=a.baseQueue,E=d.pending;if(E!==null){if(v!==null){var O=v.next;v.next=E.next,E.next=O}s.baseQueue=v=E,d.pending=null}if(E=a.baseState,v===null)a.memoizedState=E;else{s=v.next;var _=O=null,U=null,Z=s,te=!1;do{var ie=Z.lane&-536870913;if(ie!==Z.lane?($e&ie)===ie:(Bi&ie)===ie){var J=Z.revertLane;if(J===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ie===Js&&(te=!0);else if((Bi&J)===J){Z=Z.next,J===Js&&(te=!0);continue}else ie={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},U===null?(_=U=ie,O=E):U=U.next=ie,Ve.lanes|=J,ja|=J;ie=Z.action,zo&&u(E,ie),E=Z.hasEagerState?Z.eagerState:u(E,ie)}else J={lane:ie,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},U===null?(_=U=J,O=E):U=U.next=J,Ve.lanes|=ie,ja|=ie;Z=Z.next}while(Z!==null&&Z!==s);if(U===null?O=E:U.next=_,!dr(E,a.memoizedState)&&(Qt=!0,te&&(u=Xs,u!==null)))throw u;a.memoizedState=E,a.baseState=O,a.baseQueue=U,d.lastRenderedState=E}return v===null&&(d.lanes=0),[a.memoizedState,d.dispatch]}function Om(a){var s=Gt(),u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var d=u.dispatch,v=u.pending,E=s.memoizedState;if(v!==null){u.pending=null;var O=v=v.next;do E=a(E,O.action),O=O.next;while(O!==v);dr(E,s.memoizedState)||(Qt=!0),s.memoizedState=E,s.baseQueue===null&&(s.baseState=E),u.lastRenderedState=E}return[E,d]}function BS(a,s,u){var d=Ve,v=Gt(),E=tt;if(E){if(u===void 0)throw Error(r(407));u=u()}else u=s();var O=!dr((bt||v).memoizedState,u);if(O&&(v.memoizedState=u,Qt=!0),v=v.queue,wm(HS.bind(null,d,v,a),[a]),v.getSnapshot!==s||O||Xt!==null&&Xt.memoizedState.tag&1){if(d.flags|=2048,rl(9,{destroy:void 0},US.bind(null,d,v,u,s),null),At===null)throw Error(r(349));E||(Bi&127)!==0||zS(d,s,u)}return u}function zS(a,s,u){a.flags|=16384,a={getSnapshot:s,value:u},s=Ve.updateQueue,s===null?(s=Df(),Ve.updateQueue=s,s.stores=[a]):(u=s.stores,u===null?s.stores=[a]:u.push(a))}function US(a,s,u,d){s.value=u,s.getSnapshot=d,FS(s)&&VS(a)}function HS(a,s,u){return u(function(){FS(s)&&VS(a)})}function FS(a){var s=a.getSnapshot;a=a.value;try{var u=s();return!dr(a,u)}catch{return!0}}function VS(a){var s=ko(a,2);s!==null&&ar(s,a,2)}function Cm(a){var s=Fn();if(typeof a=="function"){var u=a;if(a=u(),zo){it(!0);try{u()}finally{it(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:a},s}function qS(a,s,u,d){return a.baseState=u,Am(a,bt,typeof d=="function"?d:zi)}function HN(a,s,u,d,v){if(Lf(a))throw Error(r(485));if(a=s.action,a!==null){var E={payload:v,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){E.listeners.push(O)}};I.T!==null?u(!0):E.isTransition=!1,d(E),u=s.pending,u===null?(E.next=s.pending=E,GS(s,E)):(E.next=u.next,s.pending=u.next=E)}}function GS(a,s){var u=s.action,d=s.payload,v=a.state;if(s.isTransition){var E=I.T,O={};I.T=O;try{var _=u(v,d),U=I.S;U!==null&&U(O,_),WS(a,s,_)}catch(Z){Mm(a,s,Z)}finally{E!==null&&O.types!==null&&(E.types=O.types),I.T=E}}else try{E=u(v,d),WS(a,s,E)}catch(Z){Mm(a,s,Z)}}function WS(a,s,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(d){YS(a,s,d)},function(d){return Mm(a,s,d)}):YS(a,s,u)}function YS(a,s,u){s.status="fulfilled",s.value=u,KS(s),a.state=u,s=a.pending,s!==null&&(u=s.next,u===s?a.pending=null:(u=u.next,s.next=u,GS(a,u)))}function Mm(a,s,u){var d=a.pending;if(a.pending=null,d!==null){d=d.next;do s.status="rejected",s.reason=u,KS(s),s=s.next;while(s!==d)}a.action=null}function KS(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function ZS(a,s){return s}function JS(a,s){if(tt){var u=At.formState;if(u!==null){e:{var d=Ve;if(tt){if(wt){t:{for(var v=wt,E=Ur;v.nodeType!==8;){if(!E){v=null;break t}if(v=Fr(v.nextSibling),v===null){v=null;break t}}E=v.data,v=E==="F!"||E==="F"?v:null}if(v){wt=Fr(v.nextSibling),d=v.data==="F!";break e}}Ma(d)}d=!1}d&&(s=u[0])}}return u=Fn(),u.memoizedState=u.baseState=s,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ZS,lastRenderedState:s},u.queue=d,u=mE.bind(null,Ve,d),d.dispatch=u,d=Cm(!1),E=Nm.bind(null,Ve,!1,d.queue),d=Fn(),v={state:s,dispatch:null,action:a,pending:null},d.queue=v,u=HN.bind(null,Ve,v,E,u),v.dispatch=u,d.memoizedState=a,[s,u,!1]}function XS(a){var s=Gt();return QS(s,bt,a)}function QS(a,s,u){if(s=Am(a,s,ZS)[0],a=Rf(zi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var d=Su(s)}catch(O){throw O===Qs?Af:O}else d=s;s=Gt();var v=s.queue,E=v.dispatch;return u!==s.memoizedState&&(Ve.flags|=2048,rl(9,{destroy:void 0},FN.bind(null,v,u),null)),[d,E,a]}function FN(a,s){a.action=s}function $S(a){var s=Gt(),u=bt;if(u!==null)return QS(s,u,a);Gt(),s=s.memoizedState,u=Gt();var d=u.queue.dispatch;return u.memoizedState=a,[s,d,!1]}function rl(a,s,u,d){return a={tag:a,create:u,deps:d,inst:s,next:null},s=Ve.updateQueue,s===null&&(s=Df(),Ve.updateQueue=s),u=s.lastEffect,u===null?s.lastEffect=a.next=a:(d=u.next,u.next=a,a.next=d,s.lastEffect=a),a}function eE(){return Gt().memoizedState}function Pf(a,s,u,d){var v=Fn();Ve.flags|=a,v.memoizedState=rl(1|s,{destroy:void 0},u,d===void 0?null:d)}function jf(a,s,u,d){var v=Gt();d=d===void 0?null:d;var E=v.memoizedState.inst;bt!==null&&d!==null&&ym(d,bt.memoizedState.deps)?v.memoizedState=rl(s,E,u,d):(Ve.flags|=a,v.memoizedState=rl(1|s,E,u,d))}function tE(a,s){Pf(8390656,8,a,s)}function wm(a,s){jf(2048,8,a,s)}function VN(a){Ve.flags|=4;var s=Ve.updateQueue;if(s===null)s=Df(),Ve.updateQueue=s,s.events=[a];else{var u=s.events;u===null?s.events=[a]:u.push(a)}}function nE(a){var s=Gt().memoizedState;return VN({ref:s,nextImpl:a}),function(){if((ut&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function rE(a,s){return jf(4,2,a,s)}function iE(a,s){return jf(4,4,a,s)}function aE(a,s){if(typeof s=="function"){a=a();var u=s(a);return function(){typeof u=="function"?u():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function oE(a,s,u){u=u!=null?u.concat([a]):null,jf(4,4,aE.bind(null,s,a),u)}function xm(){}function sE(a,s){var u=Gt();s=s===void 0?null:s;var d=u.memoizedState;return s!==null&&ym(s,d[1])?d[0]:(u.memoizedState=[a,s],a)}function lE(a,s){var u=Gt();s=s===void 0?null:s;var d=u.memoizedState;if(s!==null&&ym(s,d[1]))return d[0];if(d=a(),zo){it(!0);try{a()}finally{it(!1)}}return u.memoizedState=[d,s],d}function _m(a,s,u){return u===void 0||(Bi&1073741824)!==0&&($e&261930)===0?a.memoizedState=s:(a.memoizedState=u,a=u1(),Ve.lanes|=a,ja|=a,u)}function uE(a,s,u,d){return dr(u,s)?u:el.current!==null?(a=_m(a,u,d),dr(a,s)||(Qt=!0),a):(Bi&42)===0||(Bi&1073741824)!==0&&($e&261930)===0?(Qt=!0,a.memoizedState=u):(a=u1(),Ve.lanes|=a,ja|=a,s)}function cE(a,s,u,d,v){var E=W.p;W.p=E!==0&&8>E?E:8;var O=I.T,_={};I.T=_,Nm(a,!1,s,u);try{var U=v(),Z=I.S;if(Z!==null&&Z(_,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var te=BN(U,d);Eu(a,s,te,vr(a))}else Eu(a,s,d,vr(a))}catch(ie){Eu(a,s,{then:function(){},status:"rejected",reason:ie},vr())}finally{W.p=E,O!==null&&_.types!==null&&(O.types=_.types),I.T=O}}function qN(){}function km(a,s,u,d){if(a.tag!==5)throw Error(r(476));var v=fE(a).queue;cE(a,v,s,ae,u===null?qN:function(){return dE(a),u(d)})}function fE(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:ae},next:null};var u={};return s.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:u},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function dE(a){var s=fE(a);s.next===null&&(s=a.alternate.memoizedState),Eu(a,s.next.queue,{},vr())}function Dm(){return bn(Bu)}function hE(){return Gt().memoizedState}function pE(){return Gt().memoizedState}function GN(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var u=vr();a=_a(u);var d=ka(s,a,u);d!==null&&(ar(d,s,u),gu(d,s,u)),s={cache:om()},a.payload=s;return}s=s.return}}function WN(a,s,u){var d=vr();u={lane:d,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Lf(a)?gE(s,u):(u=Zp(a,s,u,d),u!==null&&(ar(u,a,d),yE(u,s,d)))}function mE(a,s,u){var d=vr();Eu(a,s,u,d)}function Eu(a,s,u,d){var v={lane:d,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Lf(a))gE(s,v);else{var E=a.alternate;if(a.lanes===0&&(E===null||E.lanes===0)&&(E=s.lastRenderedReducer,E!==null))try{var O=s.lastRenderedState,_=E(O,u);if(v.hasEagerState=!0,v.eagerState=_,dr(_,O))return gf(a,s,v,0),At===null&&mf(),!1}catch{}if(u=Zp(a,s,v,d),u!==null)return ar(u,a,d),yE(u,s,d),!0}return!1}function Nm(a,s,u,d){if(d={lane:2,revertLane:cg(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Lf(a)){if(s)throw Error(r(479))}else s=Zp(a,u,d,2),s!==null&&ar(s,a,2)}function Lf(a){var s=a.alternate;return a===Ve||s!==null&&s===Ve}function gE(a,s){tl=_f=!0;var u=a.pending;u===null?s.next=s:(s.next=u.next,u.next=s),a.pending=s}function yE(a,s,u){if((u&4194048)!==0){var d=s.lanes;d&=a.pendingLanes,u|=d,s.lanes=u,qe(a,u)}}var Tu={readContext:bn,use:Nf,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useLayoutEffect:Bt,useInsertionEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useSyncExternalStore:Bt,useId:Bt,useHostTransitionStatus:Bt,useFormState:Bt,useActionState:Bt,useOptimistic:Bt,useMemoCache:Bt,useCacheRefresh:Bt};Tu.useEffectEvent=Bt;var vE={readContext:bn,use:Nf,useCallback:function(a,s){return Fn().memoizedState=[a,s===void 0?null:s],a},useContext:bn,useEffect:tE,useImperativeHandle:function(a,s,u){u=u!=null?u.concat([a]):null,Pf(4194308,4,aE.bind(null,s,a),u)},useLayoutEffect:function(a,s){return Pf(4194308,4,a,s)},useInsertionEffect:function(a,s){Pf(4,2,a,s)},useMemo:function(a,s){var u=Fn();s=s===void 0?null:s;var d=a();if(zo){it(!0);try{a()}finally{it(!1)}}return u.memoizedState=[d,s],d},useReducer:function(a,s,u){var d=Fn();if(u!==void 0){var v=u(s);if(zo){it(!0);try{u(s)}finally{it(!1)}}}else v=s;return d.memoizedState=d.baseState=v,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:v},d.queue=a,a=a.dispatch=WN.bind(null,Ve,a),[d.memoizedState,a]},useRef:function(a){var s=Fn();return a={current:a},s.memoizedState=a},useState:function(a){a=Cm(a);var s=a.queue,u=mE.bind(null,Ve,s);return s.dispatch=u,[a.memoizedState,u]},useDebugValue:xm,useDeferredValue:function(a,s){var u=Fn();return _m(u,a,s)},useTransition:function(){var a=Cm(!1);return a=cE.bind(null,Ve,a.queue,!0,!1),Fn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,u){var d=Ve,v=Fn();if(tt){if(u===void 0)throw Error(r(407));u=u()}else{if(u=s(),At===null)throw Error(r(349));($e&127)!==0||zS(d,s,u)}v.memoizedState=u;var E={value:u,getSnapshot:s};return v.queue=E,tE(HS.bind(null,d,E,a),[a]),d.flags|=2048,rl(9,{destroy:void 0},US.bind(null,d,E,u,s),null),u},useId:function(){var a=Fn(),s=At.identifierPrefix;if(tt){var u=bi,d=vi;u=(d&~(1<<32-yn(d)-1)).toString(32)+u,s="_"+s+"R_"+u,u=kf++,0<u&&(s+="H"+u.toString(32)),s+="_"}else u=zN++,s="_"+s+"r_"+u.toString(32)+"_";return a.memoizedState=s},useHostTransitionStatus:Dm,useFormState:JS,useActionState:JS,useOptimistic:function(a){var s=Fn();s.memoizedState=s.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=u,s=Nm.bind(null,Ve,!0,u),u.dispatch=s,[a,s]},useMemoCache:Tm,useCacheRefresh:function(){return Fn().memoizedState=GN.bind(null,Ve)},useEffectEvent:function(a){var s=Fn(),u={impl:a};return s.memoizedState=u,function(){if((ut&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},Rm={readContext:bn,use:Nf,useCallback:sE,useContext:bn,useEffect:wm,useImperativeHandle:oE,useInsertionEffect:rE,useLayoutEffect:iE,useMemo:lE,useReducer:Rf,useRef:eE,useState:function(){return Rf(zi)},useDebugValue:xm,useDeferredValue:function(a,s){var u=Gt();return uE(u,bt.memoizedState,a,s)},useTransition:function(){var a=Rf(zi)[0],s=Gt().memoizedState;return[typeof a=="boolean"?a:Su(a),s]},useSyncExternalStore:BS,useId:hE,useHostTransitionStatus:Dm,useFormState:XS,useActionState:XS,useOptimistic:function(a,s){var u=Gt();return qS(u,bt,a,s)},useMemoCache:Tm,useCacheRefresh:pE};Rm.useEffectEvent=nE;var bE={readContext:bn,use:Nf,useCallback:sE,useContext:bn,useEffect:wm,useImperativeHandle:oE,useInsertionEffect:rE,useLayoutEffect:iE,useMemo:lE,useReducer:Om,useRef:eE,useState:function(){return Om(zi)},useDebugValue:xm,useDeferredValue:function(a,s){var u=Gt();return bt===null?_m(u,a,s):uE(u,bt.memoizedState,a,s)},useTransition:function(){var a=Om(zi)[0],s=Gt().memoizedState;return[typeof a=="boolean"?a:Su(a),s]},useSyncExternalStore:BS,useId:hE,useHostTransitionStatus:Dm,useFormState:$S,useActionState:$S,useOptimistic:function(a,s){var u=Gt();return bt!==null?qS(u,bt,a,s):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:Tm,useCacheRefresh:pE};bE.useEffectEvent=nE;function Pm(a,s,u,d){s=a.memoizedState,u=u(d,s),u=u==null?s:m({},s,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var jm={enqueueSetState:function(a,s,u){a=a._reactInternals;var d=vr(),v=_a(d);v.payload=s,u!=null&&(v.callback=u),s=ka(a,v,d),s!==null&&(ar(s,a,d),gu(s,a,d))},enqueueReplaceState:function(a,s,u){a=a._reactInternals;var d=vr(),v=_a(d);v.tag=1,v.payload=s,u!=null&&(v.callback=u),s=ka(a,v,d),s!==null&&(ar(s,a,d),gu(s,a,d))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var u=vr(),d=_a(u);d.tag=2,s!=null&&(d.callback=s),s=ka(a,d,u),s!==null&&(ar(s,a,u),gu(s,a,u))}};function SE(a,s,u,d,v,E,O){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(d,E,O):s.prototype&&s.prototype.isPureReactComponent?!lu(u,d)||!lu(v,E):!0}function EE(a,s,u,d){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,d),s.state!==a&&jm.enqueueReplaceState(s,s.state,null)}function Uo(a,s){var u=s;if("ref"in s){u={};for(var d in s)d!=="ref"&&(u[d]=s[d])}if(a=a.defaultProps){u===s&&(u=m({},u));for(var v in a)u[v]===void 0&&(u[v]=a[v])}return u}function TE(a){pf(a)}function AE(a){console.error(a)}function OE(a){pf(a)}function If(a,s){try{var u=a.onUncaughtError;u(s.value,{componentStack:s.stack})}catch(d){setTimeout(function(){throw d})}}function CE(a,s,u){try{var d=a.onCaughtError;d(u.value,{componentStack:u.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Lm(a,s,u){return u=_a(u),u.tag=3,u.payload={element:null},u.callback=function(){If(a,s)},u}function ME(a){return a=_a(a),a.tag=3,a}function wE(a,s,u,d){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var E=d.value;a.payload=function(){return v(E)},a.callback=function(){CE(s,u,d)}}var O=u.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(a.callback=function(){CE(s,u,d),typeof v!="function"&&(La===null?La=new Set([this]):La.add(this));var _=d.stack;this.componentDidCatch(d.value,{componentStack:_!==null?_:""})})}function YN(a,s,u,d,v){if(u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(s=u.alternate,s!==null&&Zs(s,u,v,!0),u=pr.current,u!==null){switch(u.tag){case 31:case 13:return Hr===null?Zf():u.alternate===null&&zt===0&&(zt=3),u.flags&=-257,u.flags|=65536,u.lanes=v,d===Of?u.flags|=16384:(s=u.updateQueue,s===null?u.updateQueue=new Set([d]):s.add(d),sg(a,d,v)),!1;case 22:return u.flags|=65536,d===Of?u.flags|=16384:(s=u.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([d])},u.updateQueue=s):(u=s.retryQueue,u===null?s.retryQueue=new Set([d]):u.add(d)),sg(a,d,v)),!1}throw Error(r(435,u.tag))}return sg(a,d,v),Zf(),!1}if(tt)return s=pr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=v,d!==tm&&(a=Error(r(422),{cause:d}),fu(Ir(a,u)))):(d!==tm&&(s=Error(r(423),{cause:d}),fu(Ir(s,u))),a=a.current.alternate,a.flags|=65536,v&=-v,a.lanes|=v,d=Ir(d,u),v=Lm(a.stateNode,d,v),dm(a,v),zt!==4&&(zt=2)),!1;var E=Error(r(520),{cause:d});if(E=Ir(E,u),ku===null?ku=[E]:ku.push(E),zt!==4&&(zt=2),s===null)return!0;d=Ir(d,u),u=s;do{switch(u.tag){case 3:return u.flags|=65536,a=v&-v,u.lanes|=a,a=Lm(u.stateNode,d,a),dm(u,a),!1;case 1:if(s=u.type,E=u.stateNode,(u.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(La===null||!La.has(E))))return u.flags|=65536,v&=-v,u.lanes|=v,v=ME(v),wE(v,a,u,d),dm(u,v),!1}u=u.return}while(u!==null);return!1}var Im=Error(r(461)),Qt=!1;function Sn(a,s,u,d){s.child=a===null?DS(s,null,u,d):Bo(s,a.child,u,d)}function xE(a,s,u,d,v){u=u.render;var E=s.ref;if("ref"in d){var O={};for(var _ in d)_!=="ref"&&(O[_]=d[_])}else O=d;return Po(s),d=vm(a,s,u,O,E,v),_=bm(),a!==null&&!Qt?(Sm(a,s,v),Ui(a,s,v)):(tt&&_&&$p(s),s.flags|=1,Sn(a,s,d,v),s.child)}function _E(a,s,u,d,v){if(a===null){var E=u.type;return typeof E=="function"&&!Jp(E)&&E.defaultProps===void 0&&u.compare===null?(s.tag=15,s.type=E,kE(a,s,E,d,v)):(a=vf(u.type,null,d,s,s.mode,v),a.ref=s.ref,a.return=s,s.child=a)}if(E=a.child,!Gm(a,v)){var O=E.memoizedProps;if(u=u.compare,u=u!==null?u:lu,u(O,d)&&a.ref===s.ref)return Ui(a,s,v)}return s.flags|=1,a=Pi(E,d),a.ref=s.ref,a.return=s,s.child=a}function kE(a,s,u,d,v){if(a!==null){var E=a.memoizedProps;if(lu(E,d)&&a.ref===s.ref)if(Qt=!1,s.pendingProps=d=E,Gm(a,v))(a.flags&131072)!==0&&(Qt=!0);else return s.lanes=a.lanes,Ui(a,s,v)}return Bm(a,s,u,d,v)}function DE(a,s,u,d){var v=d.children,E=a!==null?a.memoizedState:null;if(a===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((s.flags&128)!==0){if(E=E!==null?E.baseLanes|u:u,a!==null){for(d=s.child=a.child,v=0;d!==null;)v=v|d.lanes|d.childLanes,d=d.sibling;d=v&~E}else d=0,s.child=null;return NE(a,s,E,u,d)}if((u&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&Tf(s,E!==null?E.cachePool:null),E!==null?PS(s,E):pm(),jS(s);else return d=s.lanes=536870912,NE(a,s,E!==null?E.baseLanes|u:u,u,d)}else E!==null?(Tf(s,E.cachePool),PS(s,E),Na(),s.memoizedState=null):(a!==null&&Tf(s,null),pm(),Na());return Sn(a,s,v,u),s.child}function Au(a,s){return a!==null&&a.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function NE(a,s,u,d,v){var E=lm();return E=E===null?null:{parent:Jt._currentValue,pool:E},s.memoizedState={baseLanes:u,cachePool:E},a!==null&&Tf(s,null),pm(),jS(s),a!==null&&Zs(a,s,d,!0),s.childLanes=v,null}function Bf(a,s){return s=Uf({mode:s.mode,children:s.children},a.mode),s.ref=a.ref,a.child=s,s.return=a,s}function RE(a,s,u){return Bo(s,a.child,null,u),a=Bf(s,s.pendingProps),a.flags|=2,mr(s),s.memoizedState=null,a}function KN(a,s,u){var d=s.pendingProps,v=(s.flags&128)!==0;if(s.flags&=-129,a===null){if(tt){if(d.mode==="hidden")return a=Bf(s,d),s.lanes=536870912,Au(null,a);if(gm(s),(a=wt)?(a=G1(a,Ur),a=a!==null&&a.data==="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:Oa!==null?{id:vi,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},u=gS(a),u.return=s,s.child=u,vn=s,wt=null)):a=null,a===null)throw Ma(s);return s.lanes=536870912,null}return Bf(s,d)}var E=a.memoizedState;if(E!==null){var O=E.dehydrated;if(gm(s),v)if(s.flags&256)s.flags&=-257,s=RE(a,s,u);else if(s.memoizedState!==null)s.child=a.child,s.flags|=128,s=null;else throw Error(r(558));else if(Qt||Zs(a,s,u,!1),v=(u&a.childLanes)!==0,Qt||v){if(d=At,d!==null&&(O=Ee(d,u),O!==0&&O!==E.retryLane))throw E.retryLane=O,ko(a,O),ar(d,a,O),Im;Zf(),s=RE(a,s,u)}else a=E.treeContext,wt=Fr(O.nextSibling),vn=s,tt=!0,Ca=null,Ur=!1,a!==null&&bS(s,a),s=Bf(s,d),s.flags|=4096;return s}return a=Pi(a.child,{mode:d.mode,children:d.children}),a.ref=s.ref,s.child=a,a.return=s,a}function zf(a,s){var u=s.ref;if(u===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(a===null||a.ref!==u)&&(s.flags|=4194816)}}function Bm(a,s,u,d,v){return Po(s),u=vm(a,s,u,d,void 0,v),d=bm(),a!==null&&!Qt?(Sm(a,s,v),Ui(a,s,v)):(tt&&d&&$p(s),s.flags|=1,Sn(a,s,u,v),s.child)}function PE(a,s,u,d,v,E){return Po(s),s.updateQueue=null,u=IS(s,d,u,v),LS(a),d=bm(),a!==null&&!Qt?(Sm(a,s,E),Ui(a,s,E)):(tt&&d&&$p(s),s.flags|=1,Sn(a,s,u,E),s.child)}function jE(a,s,u,d,v){if(Po(s),s.stateNode===null){var E=Gs,O=u.contextType;typeof O=="object"&&O!==null&&(E=bn(O)),E=new u(d,E),s.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=jm,s.stateNode=E,E._reactInternals=s,E=s.stateNode,E.props=d,E.state=s.memoizedState,E.refs={},cm(s),O=u.contextType,E.context=typeof O=="object"&&O!==null?bn(O):Gs,E.state=s.memoizedState,O=u.getDerivedStateFromProps,typeof O=="function"&&(Pm(s,u,O,d),E.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(O=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),O!==E.state&&jm.enqueueReplaceState(E,E.state,null),vu(s,d,E,v),yu(),E.state=s.memoizedState),typeof E.componentDidMount=="function"&&(s.flags|=4194308),d=!0}else if(a===null){E=s.stateNode;var _=s.memoizedProps,U=Uo(u,_);E.props=U;var Z=E.context,te=u.contextType;O=Gs,typeof te=="object"&&te!==null&&(O=bn(te));var ie=u.getDerivedStateFromProps;te=typeof ie=="function"||typeof E.getSnapshotBeforeUpdate=="function",_=s.pendingProps!==_,te||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(_||Z!==O)&&EE(s,E,d,O),xa=!1;var J=s.memoizedState;E.state=J,vu(s,d,E,v),yu(),Z=s.memoizedState,_||J!==Z||xa?(typeof ie=="function"&&(Pm(s,u,ie,d),Z=s.memoizedState),(U=xa||SE(s,u,U,d,J,Z,O))?(te||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=Z),E.props=d,E.state=Z,E.context=O,d=U):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{E=s.stateNode,fm(a,s),O=s.memoizedProps,te=Uo(u,O),E.props=te,ie=s.pendingProps,J=E.context,Z=u.contextType,U=Gs,typeof Z=="object"&&Z!==null&&(U=bn(Z)),_=u.getDerivedStateFromProps,(Z=typeof _=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(O!==ie||J!==U)&&EE(s,E,d,U),xa=!1,J=s.memoizedState,E.state=J,vu(s,d,E,v),yu();var X=s.memoizedState;O!==ie||J!==X||xa||a!==null&&a.dependencies!==null&&Sf(a.dependencies)?(typeof _=="function"&&(Pm(s,u,_,d),X=s.memoizedState),(te=xa||SE(s,u,te,d,J,X,U)||a!==null&&a.dependencies!==null&&Sf(a.dependencies))?(Z||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(d,X,U),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(d,X,U)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||O===a.memoizedProps&&J===a.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||O===a.memoizedProps&&J===a.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=X),E.props=d,E.state=X,E.context=U,d=te):(typeof E.componentDidUpdate!="function"||O===a.memoizedProps&&J===a.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||O===a.memoizedProps&&J===a.memoizedState||(s.flags|=1024),d=!1)}return E=d,zf(a,s),d=(s.flags&128)!==0,E||d?(E=s.stateNode,u=d&&typeof u.getDerivedStateFromError!="function"?null:E.render(),s.flags|=1,a!==null&&d?(s.child=Bo(s,a.child,null,v),s.child=Bo(s,null,u,v)):Sn(a,s,u,v),s.memoizedState=E.state,a=s.child):a=Ui(a,s,v),a}function LE(a,s,u,d){return No(),s.flags|=256,Sn(a,s,u,d),s.child}var zm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Um(a){return{baseLanes:a,cachePool:CS()}}function Hm(a,s,u){return a=a!==null?a.childLanes&~u:0,s&&(a|=yr),a}function IE(a,s,u){var d=s.pendingProps,v=!1,E=(s.flags&128)!==0,O;if((O=E)||(O=a!==null&&a.memoizedState===null?!1:(qt.current&2)!==0),O&&(v=!0,s.flags&=-129),O=(s.flags&32)!==0,s.flags&=-33,a===null){if(tt){if(v?Da(s):Na(),(a=wt)?(a=G1(a,Ur),a=a!==null&&a.data!=="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:Oa!==null?{id:vi,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},u=gS(a),u.return=s,s.child=u,vn=s,wt=null)):a=null,a===null)throw Ma(s);return Ag(a)?s.lanes=32:s.lanes=536870912,null}var _=d.children;return d=d.fallback,v?(Na(),v=s.mode,_=Uf({mode:"hidden",children:_},v),d=Do(d,v,u,null),_.return=s,d.return=s,_.sibling=d,s.child=_,d=s.child,d.memoizedState=Um(u),d.childLanes=Hm(a,O,u),s.memoizedState=zm,Au(null,d)):(Da(s),Fm(s,_))}var U=a.memoizedState;if(U!==null&&(_=U.dehydrated,_!==null)){if(E)s.flags&256?(Da(s),s.flags&=-257,s=Vm(a,s,u)):s.memoizedState!==null?(Na(),s.child=a.child,s.flags|=128,s=null):(Na(),_=d.fallback,v=s.mode,d=Uf({mode:"visible",children:d.children},v),_=Do(_,v,u,null),_.flags|=2,d.return=s,_.return=s,d.sibling=_,s.child=d,Bo(s,a.child,null,u),d=s.child,d.memoizedState=Um(u),d.childLanes=Hm(a,O,u),s.memoizedState=zm,s=Au(null,d));else if(Da(s),Ag(_)){if(O=_.nextSibling&&_.nextSibling.dataset,O)var Z=O.dgst;O=Z,d=Error(r(419)),d.stack="",d.digest=O,fu({value:d,source:null,stack:null}),s=Vm(a,s,u)}else if(Qt||Zs(a,s,u,!1),O=(u&a.childLanes)!==0,Qt||O){if(O=At,O!==null&&(d=Ee(O,u),d!==0&&d!==U.retryLane))throw U.retryLane=d,ko(a,d),ar(O,a,d),Im;Tg(_)||Zf(),s=Vm(a,s,u)}else Tg(_)?(s.flags|=192,s.child=a.child,s=null):(a=U.treeContext,wt=Fr(_.nextSibling),vn=s,tt=!0,Ca=null,Ur=!1,a!==null&&bS(s,a),s=Fm(s,d.children),s.flags|=4096);return s}return v?(Na(),_=d.fallback,v=s.mode,U=a.child,Z=U.sibling,d=Pi(U,{mode:"hidden",children:d.children}),d.subtreeFlags=U.subtreeFlags&65011712,Z!==null?_=Pi(Z,_):(_=Do(_,v,u,null),_.flags|=2),_.return=s,d.return=s,d.sibling=_,s.child=d,Au(null,d),d=s.child,_=a.child.memoizedState,_===null?_=Um(u):(v=_.cachePool,v!==null?(U=Jt._currentValue,v=v.parent!==U?{parent:U,pool:U}:v):v=CS(),_={baseLanes:_.baseLanes|u,cachePool:v}),d.memoizedState=_,d.childLanes=Hm(a,O,u),s.memoizedState=zm,Au(a.child,d)):(Da(s),u=a.child,a=u.sibling,u=Pi(u,{mode:"visible",children:d.children}),u.return=s,u.sibling=null,a!==null&&(O=s.deletions,O===null?(s.deletions=[a],s.flags|=16):O.push(a)),s.child=u,s.memoizedState=null,u)}function Fm(a,s){return s=Uf({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function Uf(a,s){return a=hr(22,a,null,s),a.lanes=0,a}function Vm(a,s,u){return Bo(s,a.child,null,u),a=Fm(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function BE(a,s,u){a.lanes|=s;var d=a.alternate;d!==null&&(d.lanes|=s),im(a.return,s,u)}function qm(a,s,u,d,v,E){var O=a.memoizedState;O===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:v,treeForkCount:E}:(O.isBackwards=s,O.rendering=null,O.renderingStartTime=0,O.last=d,O.tail=u,O.tailMode=v,O.treeForkCount=E)}function zE(a,s,u){var d=s.pendingProps,v=d.revealOrder,E=d.tail;d=d.children;var O=qt.current,_=(O&2)!==0;if(_?(O=O&1|2,s.flags|=128):O&=1,oe(qt,O),Sn(a,s,d,u),d=tt?cu:0,!_&&a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&BE(a,u,s);else if(a.tag===19)BE(a,u,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(v){case"forwards":for(u=s.child,v=null;u!==null;)a=u.alternate,a!==null&&xf(a)===null&&(v=u),u=u.sibling;u=v,u===null?(v=s.child,s.child=null):(v=u.sibling,u.sibling=null),qm(s,!1,v,u,E,d);break;case"backwards":case"unstable_legacy-backwards":for(u=null,v=s.child,s.child=null;v!==null;){if(a=v.alternate,a!==null&&xf(a)===null){s.child=v;break}a=v.sibling,v.sibling=u,u=v,v=a}qm(s,!0,u,null,E,d);break;case"together":qm(s,!1,null,null,void 0,d);break;default:s.memoizedState=null}return s.child}function Ui(a,s,u){if(a!==null&&(s.dependencies=a.dependencies),ja|=s.lanes,(u&s.childLanes)===0)if(a!==null){if(Zs(a,s,u,!1),(u&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(r(153));if(s.child!==null){for(a=s.child,u=Pi(a,a.pendingProps),s.child=u,u.return=s;a.sibling!==null;)a=a.sibling,u=u.sibling=Pi(a,a.pendingProps),u.return=s;u.sibling=null}return s.child}function Gm(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&Sf(a)))}function ZN(a,s,u){switch(s.tag){case 3:Fe(s,s.stateNode.containerInfo),wa(s,Jt,a.memoizedState.cache),No();break;case 27:case 5:Mt(s);break;case 4:Fe(s,s.stateNode.containerInfo);break;case 10:wa(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,gm(s),null;break;case 13:var d=s.memoizedState;if(d!==null)return d.dehydrated!==null?(Da(s),s.flags|=128,null):(u&s.child.childLanes)!==0?IE(a,s,u):(Da(s),a=Ui(a,s,u),a!==null?a.sibling:null);Da(s);break;case 19:var v=(a.flags&128)!==0;if(d=(u&s.childLanes)!==0,d||(Zs(a,s,u,!1),d=(u&s.childLanes)!==0),v){if(d)return zE(a,s,u);s.flags|=128}if(v=s.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),oe(qt,qt.current),d)break;return null;case 22:return s.lanes=0,DE(a,s,u,s.pendingProps);case 24:wa(s,Jt,a.memoizedState.cache)}return Ui(a,s,u)}function UE(a,s,u){if(a!==null)if(a.memoizedProps!==s.pendingProps)Qt=!0;else{if(!Gm(a,u)&&(s.flags&128)===0)return Qt=!1,ZN(a,s,u);Qt=(a.flags&131072)!==0}else Qt=!1,tt&&(s.flags&1048576)!==0&&vS(s,cu,s.index);switch(s.lanes=0,s.tag){case 16:e:{var d=s.pendingProps;if(a=Lo(s.elementType),s.type=a,typeof a=="function")Jp(a)?(d=Uo(a,d),s.tag=1,s=jE(null,s,a,d,u)):(s.tag=0,s=Bm(null,s,a,d,u));else{if(a!=null){var v=a.$$typeof;if(v===x){s.tag=11,s=xE(null,s,a,d,u);break e}else if(v===P){s.tag=14,s=_E(null,s,a,d,u);break e}}throw s=le(a)||a,Error(r(306,s,""))}}return s;case 0:return Bm(a,s,s.type,s.pendingProps,u);case 1:return d=s.type,v=Uo(d,s.pendingProps),jE(a,s,d,v,u);case 3:e:{if(Fe(s,s.stateNode.containerInfo),a===null)throw Error(r(387));d=s.pendingProps;var E=s.memoizedState;v=E.element,fm(a,s),vu(s,d,null,u);var O=s.memoizedState;if(d=O.cache,wa(s,Jt,d),d!==E.cache&&am(s,[Jt],u,!0),yu(),d=O.element,E.isDehydrated)if(E={element:d,isDehydrated:!1,cache:O.cache},s.updateQueue.baseState=E,s.memoizedState=E,s.flags&256){s=LE(a,s,d,u);break e}else if(d!==v){v=Ir(Error(r(424)),s),fu(v),s=LE(a,s,d,u);break e}else for(a=s.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,wt=Fr(a.firstChild),vn=s,tt=!0,Ca=null,Ur=!0,u=DS(s,null,d,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(No(),d===v){s=Ui(a,s,u);break e}Sn(a,s,d,u)}s=s.child}return s;case 26:return zf(a,s),a===null?(u=X1(s.type,null,s.pendingProps,null))?s.memoizedState=u:tt||(u=s.type,a=s.pendingProps,d=nd(Se.current).createElement(u),d[kt]=s,d[Rn]=a,En(d,u,a),cn(d),s.stateNode=d):s.memoizedState=X1(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return Mt(s),a===null&&tt&&(d=s.stateNode=K1(s.type,s.pendingProps,Se.current),vn=s,Ur=!0,v=wt,Ua(s.type)?(Og=v,wt=Fr(d.firstChild)):wt=v),Sn(a,s,s.pendingProps.children,u),zf(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&tt&&((v=d=wt)&&(d=CR(d,s.type,s.pendingProps,Ur),d!==null?(s.stateNode=d,vn=s,wt=Fr(d.firstChild),Ur=!1,v=!0):v=!1),v||Ma(s)),Mt(s),v=s.type,E=s.pendingProps,O=a!==null?a.memoizedProps:null,d=E.children,bg(v,E)?d=null:O!==null&&bg(v,O)&&(s.flags|=32),s.memoizedState!==null&&(v=vm(a,s,UN,null,null,u),Bu._currentValue=v),zf(a,s),Sn(a,s,d,u),s.child;case 6:return a===null&&tt&&((a=u=wt)&&(u=MR(u,s.pendingProps,Ur),u!==null?(s.stateNode=u,vn=s,wt=null,a=!0):a=!1),a||Ma(s)),null;case 13:return IE(a,s,u);case 4:return Fe(s,s.stateNode.containerInfo),d=s.pendingProps,a===null?s.child=Bo(s,null,d,u):Sn(a,s,d,u),s.child;case 11:return xE(a,s,s.type,s.pendingProps,u);case 7:return Sn(a,s,s.pendingProps,u),s.child;case 8:return Sn(a,s,s.pendingProps.children,u),s.child;case 12:return Sn(a,s,s.pendingProps.children,u),s.child;case 10:return d=s.pendingProps,wa(s,s.type,d.value),Sn(a,s,d.children,u),s.child;case 9:return v=s.type._context,d=s.pendingProps.children,Po(s),v=bn(v),d=d(v),s.flags|=1,Sn(a,s,d,u),s.child;case 14:return _E(a,s,s.type,s.pendingProps,u);case 15:return kE(a,s,s.type,s.pendingProps,u);case 19:return zE(a,s,u);case 31:return KN(a,s,u);case 22:return DE(a,s,u,s.pendingProps);case 24:return Po(s),d=bn(Jt),a===null?(v=lm(),v===null&&(v=At,E=om(),v.pooledCache=E,E.refCount++,E!==null&&(v.pooledCacheLanes|=u),v=E),s.memoizedState={parent:d,cache:v},cm(s),wa(s,Jt,v)):((a.lanes&u)!==0&&(fm(a,s),vu(s,null,null,u),yu()),v=a.memoizedState,E=s.memoizedState,v.parent!==d?(v={parent:d,cache:d},s.memoizedState=v,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=v),wa(s,Jt,d)):(d=E.cache,wa(s,Jt,d),d!==v.cache&&am(s,[Jt],u,!0))),Sn(a,s,s.pendingProps.children,u),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Hi(a){a.flags|=4}function Wm(a,s,u,d,v){if((s=(a.mode&32)!==0)&&(s=!1),s){if(a.flags|=16777216,(v&335544128)===v)if(a.stateNode.complete)a.flags|=8192;else if(h1())a.flags|=8192;else throw Io=Of,um}else a.flags&=-16777217}function HE(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!nT(s))if(h1())a.flags|=8192;else throw Io=Of,um}function Hf(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?Q():536870912,a.lanes|=s,sl|=s)}function Ou(a,s){if(!tt)switch(a.tailMode){case"hidden":s=a.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:d.sibling=null}}function xt(a){var s=a.alternate!==null&&a.alternate.child===a.child,u=0,d=0;if(s)for(var v=a.child;v!==null;)u|=v.lanes|v.childLanes,d|=v.subtreeFlags&65011712,d|=v.flags&65011712,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)u|=v.lanes|v.childLanes,d|=v.subtreeFlags,d|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=d,a.childLanes=u,s}function JN(a,s,u){var d=s.pendingProps;switch(em(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(s),null;case 1:return xt(s),null;case 3:return u=s.stateNode,d=null,a!==null&&(d=a.memoizedState.cache),s.memoizedState.cache!==d&&(s.flags|=2048),Ii(Jt),We(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(Ks(s)?Hi(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,nm())),xt(s),null;case 26:var v=s.type,E=s.memoizedState;return a===null?(Hi(s),E!==null?(xt(s),HE(s,E)):(xt(s),Wm(s,v,null,d,u))):E?E!==a.memoizedState?(Hi(s),xt(s),HE(s,E)):(xt(s),s.flags&=-16777217):(a=a.memoizedProps,a!==d&&Hi(s),xt(s),Wm(s,v,a,d,u)),null;case 27:if(gn(s),u=Se.current,v=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==d&&Hi(s);else{if(!d){if(s.stateNode===null)throw Error(r(166));return xt(s),null}a=fe.current,Ks(s)?SS(s):(a=K1(v,d,u),s.stateNode=a,Hi(s))}return xt(s),null;case 5:if(gn(s),v=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==d&&Hi(s);else{if(!d){if(s.stateNode===null)throw Error(r(166));return xt(s),null}if(E=fe.current,Ks(s))SS(s);else{var O=nd(Se.current);switch(E){case 1:E=O.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:E=O.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":E=O.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":E=O.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":E=O.createElement("div"),E.innerHTML="<script><\/script>",E=E.removeChild(E.firstChild);break;case"select":E=typeof d.is=="string"?O.createElement("select",{is:d.is}):O.createElement("select"),d.multiple?E.multiple=!0:d.size&&(E.size=d.size);break;default:E=typeof d.is=="string"?O.createElement(v,{is:d.is}):O.createElement(v)}}E[kt]=s,E[Rn]=d;e:for(O=s.child;O!==null;){if(O.tag===5||O.tag===6)E.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===s)break e;for(;O.sibling===null;){if(O.return===null||O.return===s)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}s.stateNode=E;e:switch(En(E,v,d),v){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&Hi(s)}}return xt(s),Wm(s,s.type,a===null?null:a.memoizedProps,s.pendingProps,u),null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==d&&Hi(s);else{if(typeof d!="string"&&s.stateNode===null)throw Error(r(166));if(a=Se.current,Ks(s)){if(a=s.stateNode,u=s.memoizedProps,d=null,v=vn,v!==null)switch(v.tag){case 27:case 5:d=v.memoizedProps}a[kt]=s,a=!!(a.nodeValue===u||d!==null&&d.suppressHydrationWarning===!0||I1(a.nodeValue,u)),a||Ma(s,!0)}else a=nd(a).createTextNode(d),a[kt]=s,s.stateNode=a}return xt(s),null;case 31:if(u=s.memoizedState,a===null||a.memoizedState!==null){if(d=Ks(s),u!==null){if(a===null){if(!d)throw Error(r(318));if(a=s.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[kt]=s}else No(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;xt(s),a=!1}else u=nm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=u),a=!0;if(!a)return s.flags&256?(mr(s),s):(mr(s),null);if((s.flags&128)!==0)throw Error(r(558))}return xt(s),null;case 13:if(d=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(v=Ks(s),d!==null&&d.dehydrated!==null){if(a===null){if(!v)throw Error(r(318));if(v=s.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[kt]=s}else No(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;xt(s),v=!1}else v=nm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=v),v=!0;if(!v)return s.flags&256?(mr(s),s):(mr(s),null)}return mr(s),(s.flags&128)!==0?(s.lanes=u,s):(u=d!==null,a=a!==null&&a.memoizedState!==null,u&&(d=s.child,v=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(v=d.alternate.memoizedState.cachePool.pool),E=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(E=d.memoizedState.cachePool.pool),E!==v&&(d.flags|=2048)),u!==a&&u&&(s.child.flags|=8192),Hf(s,s.updateQueue),xt(s),null);case 4:return We(),a===null&&pg(s.stateNode.containerInfo),xt(s),null;case 10:return Ii(s.type),xt(s),null;case 19:if(Y(qt),d=s.memoizedState,d===null)return xt(s),null;if(v=(s.flags&128)!==0,E=d.rendering,E===null)if(v)Ou(d,!1);else{if(zt!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(E=xf(a),E!==null){for(s.flags|=128,Ou(d,!1),a=E.updateQueue,s.updateQueue=a,Hf(s,a),s.subtreeFlags=0,a=u,u=s.child;u!==null;)mS(u,a),u=u.sibling;return oe(qt,qt.current&1|2),tt&&ji(s,d.treeForkCount),s.child}a=a.sibling}d.tail!==null&&ge()>Wf&&(s.flags|=128,v=!0,Ou(d,!1),s.lanes=4194304)}else{if(!v)if(a=xf(E),a!==null){if(s.flags|=128,v=!0,a=a.updateQueue,s.updateQueue=a,Hf(s,a),Ou(d,!0),d.tail===null&&d.tailMode==="hidden"&&!E.alternate&&!tt)return xt(s),null}else 2*ge()-d.renderingStartTime>Wf&&u!==536870912&&(s.flags|=128,v=!0,Ou(d,!1),s.lanes=4194304);d.isBackwards?(E.sibling=s.child,s.child=E):(a=d.last,a!==null?a.sibling=E:s.child=E,d.last=E)}return d.tail!==null?(a=d.tail,d.rendering=a,d.tail=a.sibling,d.renderingStartTime=ge(),a.sibling=null,u=qt.current,oe(qt,v?u&1|2:u&1),tt&&ji(s,d.treeForkCount),a):(xt(s),null);case 22:case 23:return mr(s),mm(),d=s.memoizedState!==null,a!==null?a.memoizedState!==null!==d&&(s.flags|=8192):d&&(s.flags|=8192),d?(u&536870912)!==0&&(s.flags&128)===0&&(xt(s),s.subtreeFlags&6&&(s.flags|=8192)):xt(s),u=s.updateQueue,u!==null&&Hf(s,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),d=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),d!==u&&(s.flags|=2048),a!==null&&Y(jo),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Ii(Jt),xt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function XN(a,s){switch(em(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return Ii(Jt),We(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return gn(s),null;case 31:if(s.memoizedState!==null){if(mr(s),s.alternate===null)throw Error(r(340));No()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 13:if(mr(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(r(340));No()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return Y(qt),null;case 4:return We(),null;case 10:return Ii(s.type),null;case 22:case 23:return mr(s),mm(),a!==null&&Y(jo),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return Ii(Jt),null;case 25:return null;default:return null}}function FE(a,s){switch(em(s),s.tag){case 3:Ii(Jt),We();break;case 26:case 27:case 5:gn(s);break;case 4:We();break;case 31:s.memoizedState!==null&&mr(s);break;case 13:mr(s);break;case 19:Y(qt);break;case 10:Ii(s.type);break;case 22:case 23:mr(s),mm(),a!==null&&Y(jo);break;case 24:Ii(Jt)}}function Cu(a,s){try{var u=s.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var v=d.next;u=v;do{if((u.tag&a)===a){d=void 0;var E=u.create,O=u.inst;d=E(),O.destroy=d}u=u.next}while(u!==v)}}catch(_){yt(s,s.return,_)}}function Ra(a,s,u){try{var d=s.updateQueue,v=d!==null?d.lastEffect:null;if(v!==null){var E=v.next;d=E;do{if((d.tag&a)===a){var O=d.inst,_=O.destroy;if(_!==void 0){O.destroy=void 0,v=s;var U=u,Z=_;try{Z()}catch(te){yt(v,U,te)}}}d=d.next}while(d!==E)}}catch(te){yt(s,s.return,te)}}function VE(a){var s=a.updateQueue;if(s!==null){var u=a.stateNode;try{RS(s,u)}catch(d){yt(a,a.return,d)}}}function qE(a,s,u){u.props=Uo(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(d){yt(a,s,d)}}function Mu(a,s){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var d=a.stateNode;break;case 30:d=a.stateNode;break;default:d=a.stateNode}typeof u=="function"?a.refCleanup=u(d):u.current=d}}catch(v){yt(a,s,v)}}function Si(a,s){var u=a.ref,d=a.refCleanup;if(u!==null)if(typeof d=="function")try{d()}catch(v){yt(a,s,v)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){yt(a,s,v)}else u.current=null}function GE(a){var s=a.type,u=a.memoizedProps,d=a.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":u.autoFocus&&d.focus();break e;case"img":u.src?d.src=u.src:u.srcSet&&(d.srcset=u.srcSet)}}catch(v){yt(a,a.return,v)}}function Ym(a,s,u){try{var d=a.stateNode;bR(d,a.type,u,s),d[Rn]=s}catch(v){yt(a,a.return,v)}}function WE(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Ua(a.type)||a.tag===4}function Km(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||WE(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Ua(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Zm(a,s,u){var d=a.tag;if(d===5||d===6)a=a.stateNode,s?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,s):(s=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,s.appendChild(a),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=Ni));else if(d!==4&&(d===27&&Ua(a.type)&&(u=a.stateNode,s=null),a=a.child,a!==null))for(Zm(a,s,u),a=a.sibling;a!==null;)Zm(a,s,u),a=a.sibling}function Ff(a,s,u){var d=a.tag;if(d===5||d===6)a=a.stateNode,s?u.insertBefore(a,s):u.appendChild(a);else if(d!==4&&(d===27&&Ua(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(Ff(a,s,u),a=a.sibling;a!==null;)Ff(a,s,u),a=a.sibling}function YE(a){var s=a.stateNode,u=a.memoizedProps;try{for(var d=a.type,v=s.attributes;v.length;)s.removeAttributeNode(v[0]);En(s,d,u),s[kt]=a,s[Rn]=u}catch(E){yt(a,a.return,E)}}var Fi=!1,$t=!1,Jm=!1,KE=typeof WeakSet=="function"?WeakSet:Set,fn=null;function QN(a,s){if(a=a.containerInfo,yg=ud,a=oS(a),Vp(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var v=d.anchorOffset,E=d.focusNode;d=d.focusOffset;try{u.nodeType,E.nodeType}catch{u=null;break e}var O=0,_=-1,U=-1,Z=0,te=0,ie=a,J=null;t:for(;;){for(var X;ie!==u||v!==0&&ie.nodeType!==3||(_=O+v),ie!==E||d!==0&&ie.nodeType!==3||(U=O+d),ie.nodeType===3&&(O+=ie.nodeValue.length),(X=ie.firstChild)!==null;)J=ie,ie=X;for(;;){if(ie===a)break t;if(J===u&&++Z===v&&(_=O),J===E&&++te===d&&(U=O),(X=ie.nextSibling)!==null)break;ie=J,J=ie.parentNode}ie=X}u=_===-1||U===-1?null:{start:_,end:U}}else u=null}u=u||{start:0,end:0}}else u=null;for(vg={focusedElem:a,selectionRange:u},ud=!1,fn=s;fn!==null;)if(s=fn,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,fn=a;else for(;fn!==null;){switch(s=fn,E=s.alternate,a=s.flags,s.tag){case 0:if((a&4)!==0&&(a=s.updateQueue,a=a!==null?a.events:null,a!==null))for(u=0;u<a.length;u++)v=a[u],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&E!==null){a=void 0,u=s,v=E.memoizedProps,E=E.memoizedState,d=u.stateNode;try{var Te=Uo(u.type,v);a=d.getSnapshotBeforeUpdate(Te,E),d.__reactInternalSnapshotBeforeUpdate=a}catch(Re){yt(u,u.return,Re)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,u=a.nodeType,u===9)Eg(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Eg(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=s.sibling,a!==null){a.return=s.return,fn=a;break}fn=s.return}}function ZE(a,s,u){var d=u.flags;switch(u.tag){case 0:case 11:case 15:qi(a,u),d&4&&Cu(5,u);break;case 1:if(qi(a,u),d&4)if(a=u.stateNode,s===null)try{a.componentDidMount()}catch(O){yt(u,u.return,O)}else{var v=Uo(u.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(v,s,a.__reactInternalSnapshotBeforeUpdate)}catch(O){yt(u,u.return,O)}}d&64&&VE(u),d&512&&Mu(u,u.return);break;case 3:if(qi(a,u),d&64&&(a=u.updateQueue,a!==null)){if(s=null,u.child!==null)switch(u.child.tag){case 27:case 5:s=u.child.stateNode;break;case 1:s=u.child.stateNode}try{RS(a,s)}catch(O){yt(u,u.return,O)}}break;case 27:s===null&&d&4&&YE(u);case 26:case 5:qi(a,u),s===null&&d&4&&GE(u),d&512&&Mu(u,u.return);break;case 12:qi(a,u);break;case 31:qi(a,u),d&4&&QE(a,u);break;case 13:qi(a,u),d&4&&$E(a,u),d&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=sR.bind(null,u),wR(a,u))));break;case 22:if(d=u.memoizedState!==null||Fi,!d){s=s!==null&&s.memoizedState!==null||$t,v=Fi;var E=$t;Fi=d,($t=s)&&!E?Gi(a,u,(u.subtreeFlags&8772)!==0):qi(a,u),Fi=v,$t=E}break;case 30:break;default:qi(a,u)}}function JE(a){var s=a.alternate;s!==null&&(a.alternate=null,JE(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&$l(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Dt=null,tr=!1;function Vi(a,s,u){for(u=u.child;u!==null;)XE(a,s,u),u=u.sibling}function XE(a,s,u){if(Hn&&typeof Hn.onCommitFiberUnmount=="function")try{Hn.onCommitFiberUnmount(Oo,u)}catch{}switch(u.tag){case 26:$t||Si(u,s),Vi(a,s,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:$t||Si(u,s);var d=Dt,v=tr;Ua(u.type)&&(Dt=u.stateNode,tr=!1),Vi(a,s,u),ju(u.stateNode),Dt=d,tr=v;break;case 5:$t||Si(u,s);case 6:if(d=Dt,v=tr,Dt=null,Vi(a,s,u),Dt=d,tr=v,Dt!==null)if(tr)try{(Dt.nodeType===9?Dt.body:Dt.nodeName==="HTML"?Dt.ownerDocument.body:Dt).removeChild(u.stateNode)}catch(E){yt(u,s,E)}else try{Dt.removeChild(u.stateNode)}catch(E){yt(u,s,E)}break;case 18:Dt!==null&&(tr?(a=Dt,V1(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),ml(a)):V1(Dt,u.stateNode));break;case 4:d=Dt,v=tr,Dt=u.stateNode.containerInfo,tr=!0,Vi(a,s,u),Dt=d,tr=v;break;case 0:case 11:case 14:case 15:Ra(2,u,s),$t||Ra(4,u,s),Vi(a,s,u);break;case 1:$t||(Si(u,s),d=u.stateNode,typeof d.componentWillUnmount=="function"&&qE(u,s,d)),Vi(a,s,u);break;case 21:Vi(a,s,u);break;case 22:$t=(d=$t)||u.memoizedState!==null,Vi(a,s,u),$t=d;break;default:Vi(a,s,u)}}function QE(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{ml(a)}catch(u){yt(s,s.return,u)}}}function $E(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{ml(a)}catch(u){yt(s,s.return,u)}}function $N(a){switch(a.tag){case 31:case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new KE),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new KE),s;default:throw Error(r(435,a.tag))}}function Vf(a,s){var u=$N(a);s.forEach(function(d){if(!u.has(d)){u.add(d);var v=lR.bind(null,a,d);d.then(v,v)}})}function nr(a,s){var u=s.deletions;if(u!==null)for(var d=0;d<u.length;d++){var v=u[d],E=a,O=s,_=O;e:for(;_!==null;){switch(_.tag){case 27:if(Ua(_.type)){Dt=_.stateNode,tr=!1;break e}break;case 5:Dt=_.stateNode,tr=!1;break e;case 3:case 4:Dt=_.stateNode.containerInfo,tr=!0;break e}_=_.return}if(Dt===null)throw Error(r(160));XE(E,O,v),Dt=null,tr=!1,E=v.alternate,E!==null&&(E.return=null),v.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)e1(s,a),s=s.sibling}var ri=null;function e1(a,s){var u=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:nr(s,a),rr(a),d&4&&(Ra(3,a,a.return),Cu(3,a),Ra(5,a,a.return));break;case 1:nr(s,a),rr(a),d&512&&($t||u===null||Si(u,u.return)),d&64&&Fi&&(a=a.updateQueue,a!==null&&(d=a.callbacks,d!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?d:u.concat(d))));break;case 26:var v=ri;if(nr(s,a),rr(a),d&512&&($t||u===null||Si(u,u.return)),d&4){var E=u!==null?u.memoizedState:null;if(d=a.memoizedState,u===null)if(d===null)if(a.stateNode===null){e:{d=a.type,u=a.memoizedProps,v=v.ownerDocument||v;t:switch(d){case"title":E=v.getElementsByTagName("title")[0],(!E||E[Co]||E[kt]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=v.createElement(d),v.head.insertBefore(E,v.querySelector("head > title"))),En(E,d,u),E[kt]=a,cn(E),d=E;break e;case"link":var O=eT("link","href",v).get(d+(u.href||""));if(O){for(var _=0;_<O.length;_++)if(E=O[_],E.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&E.getAttribute("rel")===(u.rel==null?null:u.rel)&&E.getAttribute("title")===(u.title==null?null:u.title)&&E.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){O.splice(_,1);break t}}E=v.createElement(d),En(E,d,u),v.head.appendChild(E);break;case"meta":if(O=eT("meta","content",v).get(d+(u.content||""))){for(_=0;_<O.length;_++)if(E=O[_],E.getAttribute("content")===(u.content==null?null:""+u.content)&&E.getAttribute("name")===(u.name==null?null:u.name)&&E.getAttribute("property")===(u.property==null?null:u.property)&&E.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&E.getAttribute("charset")===(u.charSet==null?null:u.charSet)){O.splice(_,1);break t}}E=v.createElement(d),En(E,d,u),v.head.appendChild(E);break;default:throw Error(r(468,d))}E[kt]=a,cn(E),d=E}a.stateNode=d}else tT(v,a.type,a.stateNode);else a.stateNode=$1(v,d,a.memoizedProps);else E!==d?(E===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):E.count--,d===null?tT(v,a.type,a.stateNode):$1(v,d,a.memoizedProps)):d===null&&a.stateNode!==null&&Ym(a,a.memoizedProps,u.memoizedProps)}break;case 27:nr(s,a),rr(a),d&512&&($t||u===null||Si(u,u.return)),u!==null&&d&4&&Ym(a,a.memoizedProps,u.memoizedProps);break;case 5:if(nr(s,a),rr(a),d&512&&($t||u===null||Si(u,u.return)),a.flags&32){v=a.stateNode;try{Bs(v,"")}catch(Te){yt(a,a.return,Te)}}d&4&&a.stateNode!=null&&(v=a.memoizedProps,Ym(a,v,u!==null?u.memoizedProps:v)),d&1024&&(Jm=!0);break;case 6:if(nr(s,a),rr(a),d&4){if(a.stateNode===null)throw Error(r(162));d=a.memoizedProps,u=a.stateNode;try{u.nodeValue=d}catch(Te){yt(a,a.return,Te)}}break;case 3:if(ad=null,v=ri,ri=rd(s.containerInfo),nr(s,a),ri=v,rr(a),d&4&&u!==null&&u.memoizedState.isDehydrated)try{ml(s.containerInfo)}catch(Te){yt(a,a.return,Te)}Jm&&(Jm=!1,t1(a));break;case 4:d=ri,ri=rd(a.stateNode.containerInfo),nr(s,a),rr(a),ri=d;break;case 12:nr(s,a),rr(a);break;case 31:nr(s,a),rr(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,Vf(a,d)));break;case 13:nr(s,a),rr(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Gf=ge()),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,Vf(a,d)));break;case 22:v=a.memoizedState!==null;var U=u!==null&&u.memoizedState!==null,Z=Fi,te=$t;if(Fi=Z||v,$t=te||U,nr(s,a),$t=te,Fi=Z,rr(a),d&8192)e:for(s=a.stateNode,s._visibility=v?s._visibility&-2:s._visibility|1,v&&(u===null||U||Fi||$t||Ho(a)),u=null,s=a;;){if(s.tag===5||s.tag===26){if(u===null){U=u=s;try{if(E=U.stateNode,v)O=E.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{_=U.stateNode;var ie=U.memoizedProps.style,J=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;_.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(Te){yt(U,U.return,Te)}}}else if(s.tag===6){if(u===null){U=s;try{U.stateNode.nodeValue=v?"":U.memoizedProps}catch(Te){yt(U,U.return,Te)}}}else if(s.tag===18){if(u===null){U=s;try{var X=U.stateNode;v?q1(X,!0):q1(U.stateNode,!1)}catch(Te){yt(U,U.return,Te)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;u===s&&(u=null),s=s.return}u===s&&(u=null),s.sibling.return=s.return,s=s.sibling}d&4&&(d=a.updateQueue,d!==null&&(u=d.retryQueue,u!==null&&(d.retryQueue=null,Vf(a,u))));break;case 19:nr(s,a),rr(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,Vf(a,d)));break;case 30:break;case 21:break;default:nr(s,a),rr(a)}}function rr(a){var s=a.flags;if(s&2){try{for(var u,d=a.return;d!==null;){if(WE(d)){u=d;break}d=d.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var v=u.stateNode,E=Km(a);Ff(a,E,v);break;case 5:var O=u.stateNode;u.flags&32&&(Bs(O,""),u.flags&=-33);var _=Km(a);Ff(a,_,O);break;case 3:case 4:var U=u.stateNode.containerInfo,Z=Km(a);Zm(a,Z,U);break;default:throw Error(r(161))}}catch(te){yt(a,a.return,te)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function t1(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;t1(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function qi(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)ZE(a,s.alternate,s),s=s.sibling}function Ho(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:Ra(4,s,s.return),Ho(s);break;case 1:Si(s,s.return);var u=s.stateNode;typeof u.componentWillUnmount=="function"&&qE(s,s.return,u),Ho(s);break;case 27:ju(s.stateNode);case 26:case 5:Si(s,s.return),Ho(s);break;case 22:s.memoizedState===null&&Ho(s);break;case 30:Ho(s);break;default:Ho(s)}a=a.sibling}}function Gi(a,s,u){for(u=u&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var d=s.alternate,v=a,E=s,O=E.flags;switch(E.tag){case 0:case 11:case 15:Gi(v,E,u),Cu(4,E);break;case 1:if(Gi(v,E,u),d=E,v=d.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(Z){yt(d,d.return,Z)}if(d=E,v=d.updateQueue,v!==null){var _=d.stateNode;try{var U=v.shared.hiddenCallbacks;if(U!==null)for(v.shared.hiddenCallbacks=null,v=0;v<U.length;v++)NS(U[v],_)}catch(Z){yt(d,d.return,Z)}}u&&O&64&&VE(E),Mu(E,E.return);break;case 27:YE(E);case 26:case 5:Gi(v,E,u),u&&d===null&&O&4&&GE(E),Mu(E,E.return);break;case 12:Gi(v,E,u);break;case 31:Gi(v,E,u),u&&O&4&&QE(v,E);break;case 13:Gi(v,E,u),u&&O&4&&$E(v,E);break;case 22:E.memoizedState===null&&Gi(v,E,u),Mu(E,E.return);break;case 30:break;default:Gi(v,E,u)}s=s.sibling}}function Xm(a,s){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&du(u))}function Qm(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&du(a))}function ii(a,s,u,d){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)n1(a,s,u,d),s=s.sibling}function n1(a,s,u,d){var v=s.flags;switch(s.tag){case 0:case 11:case 15:ii(a,s,u,d),v&2048&&Cu(9,s);break;case 1:ii(a,s,u,d);break;case 3:ii(a,s,u,d),v&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&du(a)));break;case 12:if(v&2048){ii(a,s,u,d),a=s.stateNode;try{var E=s.memoizedProps,O=E.id,_=E.onPostCommit;typeof _=="function"&&_(O,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(U){yt(s,s.return,U)}}else ii(a,s,u,d);break;case 31:ii(a,s,u,d);break;case 13:ii(a,s,u,d);break;case 23:break;case 22:E=s.stateNode,O=s.alternate,s.memoizedState!==null?E._visibility&2?ii(a,s,u,d):wu(a,s):E._visibility&2?ii(a,s,u,d):(E._visibility|=2,il(a,s,u,d,(s.subtreeFlags&10256)!==0||!1)),v&2048&&Xm(O,s);break;case 24:ii(a,s,u,d),v&2048&&Qm(s.alternate,s);break;default:ii(a,s,u,d)}}function il(a,s,u,d,v){for(v=v&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var E=a,O=s,_=u,U=d,Z=O.flags;switch(O.tag){case 0:case 11:case 15:il(E,O,_,U,v),Cu(8,O);break;case 23:break;case 22:var te=O.stateNode;O.memoizedState!==null?te._visibility&2?il(E,O,_,U,v):wu(E,O):(te._visibility|=2,il(E,O,_,U,v)),v&&Z&2048&&Xm(O.alternate,O);break;case 24:il(E,O,_,U,v),v&&Z&2048&&Qm(O.alternate,O);break;default:il(E,O,_,U,v)}s=s.sibling}}function wu(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var u=a,d=s,v=d.flags;switch(d.tag){case 22:wu(u,d),v&2048&&Xm(d.alternate,d);break;case 24:wu(u,d),v&2048&&Qm(d.alternate,d);break;default:wu(u,d)}s=s.sibling}}var xu=8192;function al(a,s,u){if(a.subtreeFlags&xu)for(a=a.child;a!==null;)r1(a,s,u),a=a.sibling}function r1(a,s,u){switch(a.tag){case 26:al(a,s,u),a.flags&xu&&a.memoizedState!==null&&zR(u,ri,a.memoizedState,a.memoizedProps);break;case 5:al(a,s,u);break;case 3:case 4:var d=ri;ri=rd(a.stateNode.containerInfo),al(a,s,u),ri=d;break;case 22:a.memoizedState===null&&(d=a.alternate,d!==null&&d.memoizedState!==null?(d=xu,xu=16777216,al(a,s,u),xu=d):al(a,s,u));break;default:al(a,s,u)}}function i1(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function _u(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var d=s[u];fn=d,o1(d,a)}i1(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)a1(a),a=a.sibling}function a1(a){switch(a.tag){case 0:case 11:case 15:_u(a),a.flags&2048&&Ra(9,a,a.return);break;case 3:_u(a);break;case 12:_u(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,qf(a)):_u(a);break;default:_u(a)}}function qf(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var d=s[u];fn=d,o1(d,a)}i1(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:Ra(8,s,s.return),qf(s);break;case 22:u=s.stateNode,u._visibility&2&&(u._visibility&=-3,qf(s));break;default:qf(s)}a=a.sibling}}function o1(a,s){for(;fn!==null;){var u=fn;switch(u.tag){case 0:case 11:case 15:Ra(8,u,s);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var d=u.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:du(u.memoizedState.cache)}if(d=u.child,d!==null)d.return=u,fn=d;else e:for(u=a;fn!==null;){d=fn;var v=d.sibling,E=d.return;if(JE(d),d===u){fn=null;break e}if(v!==null){v.return=E,fn=v;break e}fn=E}}}var eR={getCacheForType:function(a){var s=bn(Jt),u=s.data.get(a);return u===void 0&&(u=a(),s.data.set(a,u)),u},cacheSignal:function(){return bn(Jt).controller.signal}},tR=typeof WeakMap=="function"?WeakMap:Map,ut=0,At=null,Je=null,$e=0,gt=0,gr=null,Pa=!1,ol=!1,$m=!1,Wi=0,zt=0,ja=0,Fo=0,eg=0,yr=0,sl=0,ku=null,ir=null,tg=!1,Gf=0,s1=0,Wf=1/0,Yf=null,La=null,an=0,Ia=null,ll=null,Yi=0,ng=0,rg=null,l1=null,Du=0,ig=null;function vr(){return(ut&2)!==0&&$e!==0?$e&-$e:I.T!==null?cg():fr()}function u1(){if(yr===0)if(($e&536870912)===0||tt){var a=Qn;Qn<<=1,(Qn&3932160)===0&&(Qn=262144),yr=a}else yr=536870912;return a=pr.current,a!==null&&(a.flags|=32),yr}function ar(a,s,u){(a===At&&(gt===2||gt===9)||a.cancelPendingCommit!==null)&&(ul(a,0),Ba(a,$e,yr,!1)),pe(a,u),((ut&2)===0||a!==At)&&(a===At&&((ut&2)===0&&(Fo|=u),zt===4&&Ba(a,$e,yr,!1)),Ei(a))}function c1(a,s,u){if((ut&6)!==0)throw Error(r(327));var d=!u&&(s&127)===0&&(s&a.expiredLanes)===0||R(a,s),v=d?iR(a,s):og(a,s,!0),E=d;do{if(v===0){ol&&!d&&Ba(a,s,0,!1);break}else{if(u=a.current.alternate,E&&!nR(u)){v=og(a,s,!1),E=!1;continue}if(v===2){if(E=s,a.errorRecoveryDisabledLanes&E)var O=0;else O=a.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){s=O;e:{var _=a;v=ku;var U=_.current.memoizedState.isDehydrated;if(U&&(ul(_,O).flags|=256),O=og(_,O,!1),O!==2){if($m&&!U){_.errorRecoveryDisabledLanes|=E,Fo|=E,v=4;break e}E=ir,ir=v,E!==null&&(ir===null?ir=E:ir.push.apply(ir,E))}v=O}if(E=!1,v!==2)continue}}if(v===1){ul(a,0),Ba(a,s,0,!0);break}e:{switch(d=a,E=v,E){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ba(d,s,yr,!Pa);break e;case 2:ir=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(v=Gf+300-ge(),10<v)){if(Ba(d,s,yr,!Pa),D(d,0,!0)!==0)break e;Yi=s,d.timeoutHandle=H1(f1.bind(null,d,u,ir,Yf,tg,s,yr,Fo,sl,Pa,E,"Throttled",-0,0),v);break e}f1(d,u,ir,Yf,tg,s,yr,Fo,sl,Pa,E,null,-0,0)}}break}while(!0);Ei(a)}function f1(a,s,u,d,v,E,O,_,U,Z,te,ie,J,X){if(a.timeoutHandle=-1,ie=s.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ni},r1(s,E,ie);var Te=(E&62914560)===E?Gf-ge():(E&4194048)===E?s1-ge():0;if(Te=UR(ie,Te),Te!==null){Yi=E,a.cancelPendingCommit=Te(b1.bind(null,a,s,E,u,d,v,O,_,U,te,ie,null,J,X)),Ba(a,E,O,!Z);return}}b1(a,s,E,u,d,v,O,_,U)}function nR(a){for(var s=a;;){var u=s.tag;if((u===0||u===11||u===15)&&s.flags&16384&&(u=s.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var d=0;d<u.length;d++){var v=u[d],E=v.getSnapshot;v=v.value;try{if(!dr(E(),v))return!1}catch{return!1}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ba(a,s,u,d){s&=~eg,s&=~Fo,a.suspendedLanes|=s,a.pingedLanes&=~s,d&&(a.warmLanes|=s),d=a.expirationTimes;for(var v=s;0<v;){var E=31-yn(v),O=1<<E;d[E]=-1,v&=~O}u!==0&&Oe(a,u,s)}function Kf(){return(ut&6)===0?(Nu(0),!1):!0}function ag(){if(Je!==null){if(gt===0)var a=Je.return;else a=Je,Li=Ro=null,Em(a),$s=null,pu=0,a=Je;for(;a!==null;)FE(a.alternate,a),a=a.return;Je=null}}function ul(a,s){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,TR(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),Yi=0,ag(),At=a,Je=u=Pi(a.current,null),$e=s,gt=0,gr=null,Pa=!1,ol=R(a,s),$m=!1,sl=yr=eg=Fo=ja=zt=0,ir=ku=null,tg=!1,(s&8)!==0&&(s|=s&32);var d=a.entangledLanes;if(d!==0)for(a=a.entanglements,d&=s;0<d;){var v=31-yn(d),E=1<<v;s|=a[v],d&=~E}return Wi=s,mf(),u}function d1(a,s){Ve=null,I.H=Tu,s===Qs||s===Af?(s=xS(),gt=3):s===um?(s=xS(),gt=4):gt=s===Im?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,gr=s,Je===null&&(zt=1,If(a,Ir(s,a.current)))}function h1(){var a=pr.current;return a===null?!0:($e&4194048)===$e?Hr===null:($e&62914560)===$e||($e&536870912)!==0?a===Hr:!1}function p1(){var a=I.H;return I.H=Tu,a===null?Tu:a}function m1(){var a=I.A;return I.A=eR,a}function Zf(){zt=4,Pa||($e&4194048)!==$e&&pr.current!==null||(ol=!0),(ja&134217727)===0&&(Fo&134217727)===0||At===null||Ba(At,$e,yr,!1)}function og(a,s,u){var d=ut;ut|=2;var v=p1(),E=m1();(At!==a||$e!==s)&&(Yf=null,ul(a,s)),s=!1;var O=zt;e:do try{if(gt!==0&&Je!==null){var _=Je,U=gr;switch(gt){case 8:ag(),O=6;break e;case 3:case 2:case 9:case 6:pr.current===null&&(s=!0);var Z=gt;if(gt=0,gr=null,cl(a,_,U,Z),u&&ol){O=0;break e}break;default:Z=gt,gt=0,gr=null,cl(a,_,U,Z)}}rR(),O=zt;break}catch(te){d1(a,te)}while(!0);return s&&a.shellSuspendCounter++,Li=Ro=null,ut=d,I.H=v,I.A=E,Je===null&&(At=null,$e=0,mf()),O}function rR(){for(;Je!==null;)g1(Je)}function iR(a,s){var u=ut;ut|=2;var d=p1(),v=m1();At!==a||$e!==s?(Yf=null,Wf=ge()+500,ul(a,s)):ol=R(a,s);e:do try{if(gt!==0&&Je!==null){s=Je;var E=gr;t:switch(gt){case 1:gt=0,gr=null,cl(a,s,E,1);break;case 2:case 9:if(MS(E)){gt=0,gr=null,y1(s);break}s=function(){gt!==2&&gt!==9||At!==a||(gt=7),Ei(a)},E.then(s,s);break e;case 3:gt=7;break e;case 4:gt=5;break e;case 7:MS(E)?(gt=0,gr=null,y1(s)):(gt=0,gr=null,cl(a,s,E,7));break;case 5:var O=null;switch(Je.tag){case 26:O=Je.memoizedState;case 5:case 27:var _=Je;if(O?nT(O):_.stateNode.complete){gt=0,gr=null;var U=_.sibling;if(U!==null)Je=U;else{var Z=_.return;Z!==null?(Je=Z,Jf(Z)):Je=null}break t}}gt=0,gr=null,cl(a,s,E,5);break;case 6:gt=0,gr=null,cl(a,s,E,6);break;case 8:ag(),zt=6;break e;default:throw Error(r(462))}}aR();break}catch(te){d1(a,te)}while(!0);return Li=Ro=null,I.H=d,I.A=v,ut=u,Je!==null?0:(At=null,$e=0,mf(),zt)}function aR(){for(;Je!==null&&!Me();)g1(Je)}function g1(a){var s=UE(a.alternate,a,Wi);a.memoizedProps=a.pendingProps,s===null?Jf(a):Je=s}function y1(a){var s=a,u=s.alternate;switch(s.tag){case 15:case 0:s=PE(u,s,s.pendingProps,s.type,void 0,$e);break;case 11:s=PE(u,s,s.pendingProps,s.type.render,s.ref,$e);break;case 5:Em(s);default:FE(u,s),s=Je=mS(s,Wi),s=UE(u,s,Wi)}a.memoizedProps=a.pendingProps,s===null?Jf(a):Je=s}function cl(a,s,u,d){Li=Ro=null,Em(s),$s=null,pu=0;var v=s.return;try{if(YN(a,v,s,u,$e)){zt=1,If(a,Ir(u,a.current)),Je=null;return}}catch(E){if(v!==null)throw Je=v,E;zt=1,If(a,Ir(u,a.current)),Je=null;return}s.flags&32768?(tt||d===1?a=!0:ol||($e&536870912)!==0?a=!1:(Pa=a=!0,(d===2||d===9||d===3||d===6)&&(d=pr.current,d!==null&&d.tag===13&&(d.flags|=16384))),v1(s,a)):Jf(s)}function Jf(a){var s=a;do{if((s.flags&32768)!==0){v1(s,Pa);return}a=s.return;var u=JN(s.alternate,s,Wi);if(u!==null){Je=u;return}if(s=s.sibling,s!==null){Je=s;return}Je=s=a}while(s!==null);zt===0&&(zt=5)}function v1(a,s){do{var u=XN(a.alternate,a);if(u!==null){u.flags&=32767,Je=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!s&&(a=a.sibling,a!==null)){Je=a;return}Je=a=u}while(a!==null);zt=6,Je=null}function b1(a,s,u,d,v,E,O,_,U){a.cancelPendingCommit=null;do Xf();while(an!==0);if((ut&6)!==0)throw Error(r(327));if(s!==null){if(s===a.current)throw Error(r(177));if(E=s.lanes|s.childLanes,E|=Kp,Ue(a,u,E,O,_,U),a===At&&(Je=At=null,$e=0),ll=s,Ia=a,Yi=u,ng=E,rg=v,l1=d,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,uR(st,function(){return O1(),null})):(a.callbackNode=null,a.callbackPriority=0),d=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||d){d=I.T,I.T=null,v=W.p,W.p=2,O=ut,ut|=4;try{QN(a,s,u)}finally{ut=O,W.p=v,I.T=d}}an=1,S1(),E1(),T1()}}function S1(){if(an===1){an=0;var a=Ia,s=ll,u=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||u){u=I.T,I.T=null;var d=W.p;W.p=2;var v=ut;ut|=4;try{e1(s,a);var E=vg,O=oS(a.containerInfo),_=E.focusedElem,U=E.selectionRange;if(O!==_&&_&&_.ownerDocument&&aS(_.ownerDocument.documentElement,_)){if(U!==null&&Vp(_)){var Z=U.start,te=U.end;if(te===void 0&&(te=Z),"selectionStart"in _)_.selectionStart=Z,_.selectionEnd=Math.min(te,_.value.length);else{var ie=_.ownerDocument||document,J=ie&&ie.defaultView||window;if(J.getSelection){var X=J.getSelection(),Te=_.textContent.length,Re=Math.min(U.start,Te),Et=U.end===void 0?Re:Math.min(U.end,Te);!X.extend&&Re>Et&&(O=Et,Et=Re,Re=O);var q=iS(_,Re),F=iS(_,Et);if(q&&F&&(X.rangeCount!==1||X.anchorNode!==q.node||X.anchorOffset!==q.offset||X.focusNode!==F.node||X.focusOffset!==F.offset)){var K=ie.createRange();K.setStart(q.node,q.offset),X.removeAllRanges(),Re>Et?(X.addRange(K),X.extend(F.node,F.offset)):(K.setEnd(F.node,F.offset),X.addRange(K))}}}}for(ie=[],X=_;X=X.parentNode;)X.nodeType===1&&ie.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<ie.length;_++){var re=ie[_];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}ud=!!yg,vg=yg=null}finally{ut=v,W.p=d,I.T=u}}a.current=s,an=2}}function E1(){if(an===2){an=0;var a=Ia,s=ll,u=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||u){u=I.T,I.T=null;var d=W.p;W.p=2;var v=ut;ut|=4;try{ZE(a,s.alternate,s)}finally{ut=v,W.p=d,I.T=u}}an=3}}function T1(){if(an===4||an===3){an=0,ze();var a=Ia,s=ll,u=Yi,d=l1;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?an=5:(an=0,ll=Ia=null,A1(a,a.pendingLanes));var v=a.pendingLanes;if(v===0&&(La=null),lt(u),s=s.stateNode,Hn&&typeof Hn.onCommitFiberRoot=="function")try{Hn.onCommitFiberRoot(Oo,s,void 0,(s.current.flags&128)===128)}catch{}if(d!==null){s=I.T,v=W.p,W.p=2,I.T=null;try{for(var E=a.onRecoverableError,O=0;O<d.length;O++){var _=d[O];E(_.value,{componentStack:_.stack})}}finally{I.T=s,W.p=v}}(Yi&3)!==0&&Xf(),Ei(a),v=a.pendingLanes,(u&261930)!==0&&(v&42)!==0?a===ig?Du++:(Du=0,ig=a):Du=0,Nu(0)}}function A1(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,du(s)))}function Xf(){return S1(),E1(),T1(),O1()}function O1(){if(an!==5)return!1;var a=Ia,s=ng;ng=0;var u=lt(Yi),d=I.T,v=W.p;try{W.p=32>u?32:u,I.T=null,u=rg,rg=null;var E=Ia,O=Yi;if(an=0,ll=Ia=null,Yi=0,(ut&6)!==0)throw Error(r(331));var _=ut;if(ut|=4,a1(E.current),n1(E,E.current,O,u),ut=_,Nu(0,!1),Hn&&typeof Hn.onPostCommitFiberRoot=="function")try{Hn.onPostCommitFiberRoot(Oo,E)}catch{}return!0}finally{W.p=v,I.T=d,A1(a,s)}}function C1(a,s,u){s=Ir(u,s),s=Lm(a.stateNode,s,2),a=ka(a,s,2),a!==null&&(pe(a,2),Ei(a))}function yt(a,s,u){if(a.tag===3)C1(a,a,u);else for(;s!==null;){if(s.tag===3){C1(s,a,u);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(La===null||!La.has(d))){a=Ir(u,a),u=ME(2),d=ka(s,u,2),d!==null&&(wE(u,d,s,a),pe(d,2),Ei(d));break}}s=s.return}}function sg(a,s,u){var d=a.pingCache;if(d===null){d=a.pingCache=new tR;var v=new Set;d.set(s,v)}else v=d.get(s),v===void 0&&(v=new Set,d.set(s,v));v.has(u)||($m=!0,v.add(u),a=oR.bind(null,a,s,u),s.then(a,a))}function oR(a,s,u){var d=a.pingCache;d!==null&&d.delete(s),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,At===a&&($e&u)===u&&(zt===4||zt===3&&($e&62914560)===$e&&300>ge()-Gf?(ut&2)===0&&ul(a,0):eg|=u,sl===$e&&(sl=0)),Ei(a)}function M1(a,s){s===0&&(s=Q()),a=ko(a,s),a!==null&&(pe(a,s),Ei(a))}function sR(a){var s=a.memoizedState,u=0;s!==null&&(u=s.retryLane),M1(a,u)}function lR(a,s){var u=0;switch(a.tag){case 31:case 13:var d=a.stateNode,v=a.memoizedState;v!==null&&(u=v.retryLane);break;case 19:d=a.stateNode;break;case 22:d=a.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(s),M1(a,u)}function uR(a,s){return ye(a,s)}var Qf=null,fl=null,lg=!1,$f=!1,ug=!1,za=0;function Ei(a){a!==fl&&a.next===null&&(fl===null?Qf=fl=a:fl=fl.next=a),$f=!0,lg||(lg=!0,fR())}function Nu(a,s){if(!ug&&$f){ug=!0;do for(var u=!1,d=Qf;d!==null;){if(a!==0){var v=d.pendingLanes;if(v===0)var E=0;else{var O=d.suspendedLanes,_=d.pingedLanes;E=(1<<31-yn(42|a)+1)-1,E&=v&~(O&~_),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(u=!0,k1(d,E))}else E=$e,E=D(d,d===At?E:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(E&3)===0||R(d,E)||(u=!0,k1(d,E));d=d.next}while(u);ug=!1}}function cR(){w1()}function w1(){$f=lg=!1;var a=0;za!==0&&ER()&&(a=za);for(var s=ge(),u=null,d=Qf;d!==null;){var v=d.next,E=x1(d,s);E===0?(d.next=null,u===null?Qf=v:u.next=v,v===null&&(fl=u)):(u=d,(a!==0||(E&3)!==0)&&($f=!0)),d=v}an!==0&&an!==5||Nu(a),za!==0&&(za=0)}function x1(a,s){for(var u=a.suspendedLanes,d=a.pingedLanes,v=a.expirationTimes,E=a.pendingLanes&-62914561;0<E;){var O=31-yn(E),_=1<<O,U=v[O];U===-1?((_&u)===0||(_&d)!==0)&&(v[O]=V(_,s)):U<=s&&(a.expiredLanes|=_),E&=~_}if(s=At,u=$e,u=D(a,a===s?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d=a.callbackNode,u===0||a===s&&(gt===2||gt===9)||a.cancelPendingCommit!==null)return d!==null&&d!==null&&he(d),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||R(a,u)){if(s=u&-u,s===a.callbackPriority)return s;switch(d!==null&&he(d),lt(u)){case 2:case 8:u=Ct;break;case 32:u=st;break;case 268435456:u=cr;break;default:u=st}return d=_1.bind(null,a),u=ye(u,d),a.callbackPriority=s,a.callbackNode=u,s}return d!==null&&d!==null&&he(d),a.callbackPriority=2,a.callbackNode=null,2}function _1(a,s){if(an!==0&&an!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(Xf()&&a.callbackNode!==u)return null;var d=$e;return d=D(a,a===At?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d===0?null:(c1(a,d,s),x1(a,ge()),a.callbackNode!=null&&a.callbackNode===u?_1.bind(null,a):null)}function k1(a,s){if(Xf())return null;c1(a,s,!0)}function fR(){AR(function(){(ut&6)!==0?ye(Tt,cR):w1()})}function cg(){if(za===0){var a=Js;a===0&&(a=Sa,Sa<<=1,(Sa&261888)===0&&(Sa=256)),za=a}return za}function D1(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:sf(""+a)}function N1(a,s){var u=s.ownerDocument.createElement("input");return u.name=s.name,u.value=s.value,a.id&&u.setAttribute("form",a.id),s.parentNode.insertBefore(u,s),a=new FormData(a),u.parentNode.removeChild(u),a}function dR(a,s,u,d,v){if(s==="submit"&&u&&u.stateNode===v){var E=D1((v[Rn]||null).action),O=d.submitter;O&&(s=(s=O[Rn]||null)?D1(s.formAction):O.getAttribute("formAction"),s!==null&&(E=s,O=null));var _=new ff("action","action",null,d,v);a.push({event:_,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(za!==0){var U=O?N1(v,O):new FormData(v);km(u,{pending:!0,data:U,method:v.method,action:E},null,U)}}else typeof E=="function"&&(_.preventDefault(),U=O?N1(v,O):new FormData(v),km(u,{pending:!0,data:U,method:v.method,action:E},E,U))},currentTarget:v}]})}}for(var fg=0;fg<Yp.length;fg++){var dg=Yp[fg],hR=dg.toLowerCase(),pR=dg[0].toUpperCase()+dg.slice(1);ni(hR,"on"+pR)}ni(uS,"onAnimationEnd"),ni(cS,"onAnimationIteration"),ni(fS,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(kN,"onTransitionRun"),ni(DN,"onTransitionStart"),ni(NN,"onTransitionCancel"),ni(dS,"onTransitionEnd"),Ls("onMouseEnter",["mouseout","mouseover"]),Ls("onMouseLeave",["mouseout","mouseover"]),Ls("onPointerEnter",["pointerout","pointerover"]),Ls("onPointerLeave",["pointerout","pointerover"]),Mo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mo("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ru));function R1(a,s){s=(s&4)!==0;for(var u=0;u<a.length;u++){var d=a[u],v=d.event;d=d.listeners;e:{var E=void 0;if(s)for(var O=d.length-1;0<=O;O--){var _=d[O],U=_.instance,Z=_.currentTarget;if(_=_.listener,U!==E&&v.isPropagationStopped())break e;E=_,v.currentTarget=Z;try{E(v)}catch(te){pf(te)}v.currentTarget=null,E=U}else for(O=0;O<d.length;O++){if(_=d[O],U=_.instance,Z=_.currentTarget,_=_.listener,U!==E&&v.isPropagationStopped())break e;E=_,v.currentTarget=Z;try{E(v)}catch(te){pf(te)}v.currentTarget=null,E=U}}}}function Xe(a,s){var u=s[Ql];u===void 0&&(u=s[Ql]=new Set);var d=a+"__bubble";u.has(d)||(P1(s,a,2,!1),u.add(d))}function hg(a,s,u){var d=0;s&&(d|=4),P1(u,a,d,s)}var ed="_reactListening"+Math.random().toString(36).slice(2);function pg(a){if(!a[ed]){a[ed]=!0,wb.forEach(function(u){u!=="selectionchange"&&(mR.has(u)||hg(u,!1,a),hg(u,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[ed]||(s[ed]=!0,hg("selectionchange",!1,s))}}function P1(a,s,u,d){switch(uT(s)){case 2:var v=VR;break;case 8:v=qR;break;default:v=_g}u=v.bind(null,s,u,a),v=void 0,!Pp||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(v=!0),d?v!==void 0?a.addEventListener(s,u,{capture:!0,passive:v}):a.addEventListener(s,u,!0):v!==void 0?a.addEventListener(s,u,{passive:v}):a.addEventListener(s,u,!1)}function mg(a,s,u,d,v){var E=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var O=d.tag;if(O===3||O===4){var _=d.stateNode.containerInfo;if(_===v)break;if(O===4)for(O=d.return;O!==null;){var U=O.tag;if((U===3||U===4)&&O.stateNode.containerInfo===v)return;O=O.return}for(;_!==null;){if(O=Ea(_),O===null)return;if(U=O.tag,U===5||U===6||U===26||U===27){d=E=O;continue e}_=_.parentNode}}d=d.return}zb(function(){var Z=E,te=Np(u),ie=[];e:{var J=hS.get(a);if(J!==void 0){var X=ff,Te=a;switch(a){case"keypress":if(uf(u)===0)break e;case"keydown":case"keyup":X=lN;break;case"focusin":Te="focus",X=Bp;break;case"focusout":Te="blur",X=Bp;break;case"beforeblur":case"afterblur":X=Bp;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Fb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=JD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=fN;break;case uS:case cS:case fS:X=$D;break;case dS:X=hN;break;case"scroll":case"scrollend":X=KD;break;case"wheel":X=mN;break;case"copy":case"cut":case"paste":X=tN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=qb;break;case"toggle":case"beforetoggle":X=yN}var Re=(s&4)!==0,Et=!Re&&(a==="scroll"||a==="scrollend"),q=Re?J!==null?J+"Capture":null:J;Re=[];for(var F=Z,K;F!==null;){var re=F;if(K=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||K===null||q===null||(re=tu(F,q),re!=null&&Re.push(Pu(F,re,K))),Et)break;F=F.return}0<Re.length&&(J=new X(J,Te,null,u,te),ie.push({event:J,listeners:Re}))}}if((s&7)===0){e:{if(J=a==="mouseover"||a==="pointerover",X=a==="mouseout"||a==="pointerout",J&&u!==Dp&&(Te=u.relatedTarget||u.fromElement)&&(Ea(Te)||Te[yi]))break e;if((X||J)&&(J=te.window===te?te:(J=te.ownerDocument)?J.defaultView||J.parentWindow:window,X?(Te=u.relatedTarget||u.toElement,X=Z,Te=Te?Ea(Te):null,Te!==null&&(Et=o(Te),Re=Te.tag,Te!==Et||Re!==5&&Re!==27&&Re!==6)&&(Te=null)):(X=null,Te=Z),X!==Te)){if(Re=Fb,re="onMouseLeave",q="onMouseEnter",F="mouse",(a==="pointerout"||a==="pointerover")&&(Re=qb,re="onPointerLeave",q="onPointerEnter",F="pointer"),Et=X==null?J:eu(X),K=Te==null?J:eu(Te),J=new Re(re,F+"leave",X,u,te),J.target=Et,J.relatedTarget=K,re=null,Ea(te)===Z&&(Re=new Re(q,F+"enter",Te,u,te),Re.target=K,Re.relatedTarget=Et,re=Re),Et=re,X&&Te)t:{for(Re=gR,q=X,F=Te,K=0,re=q;re;re=Re(re))K++;re=0;for(var _e=F;_e;_e=Re(_e))re++;for(;0<K-re;)q=Re(q),K--;for(;0<re-K;)F=Re(F),re--;for(;K--;){if(q===F||F!==null&&q===F.alternate){Re=q;break t}q=Re(q),F=Re(F)}Re=null}else Re=null;X!==null&&j1(ie,J,X,Re,!1),Te!==null&&Et!==null&&j1(ie,Et,Te,Re,!0)}}e:{if(J=Z?eu(Z):window,X=J.nodeName&&J.nodeName.toLowerCase(),X==="select"||X==="input"&&J.type==="file")var at=Qb;else if(Jb(J))if($b)at=wN;else{at=CN;var Ce=ON}else X=J.nodeName,!X||X.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?Z&&kp(Z.elementType)&&(at=Qb):at=MN;if(at&&(at=at(a,Z))){Xb(ie,at,u,te);break e}Ce&&Ce(a,J,Z),a==="focusout"&&Z&&J.type==="number"&&Z.memoizedProps.value!=null&&_p(J,"number",J.value)}switch(Ce=Z?eu(Z):window,a){case"focusin":(Jb(Ce)||Ce.contentEditable==="true")&&(Fs=Ce,qp=Z,uu=null);break;case"focusout":uu=qp=Fs=null;break;case"mousedown":Gp=!0;break;case"contextmenu":case"mouseup":case"dragend":Gp=!1,sS(ie,u,te);break;case"selectionchange":if(_N)break;case"keydown":case"keyup":sS(ie,u,te)}var Ge;if(Up)e:{switch(a){case"compositionstart":var et="onCompositionStart";break e;case"compositionend":et="onCompositionEnd";break e;case"compositionupdate":et="onCompositionUpdate";break e}et=void 0}else Hs?Kb(a,u)&&(et="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(et="onCompositionStart");et&&(Gb&&u.locale!=="ko"&&(Hs||et!=="onCompositionStart"?et==="onCompositionEnd"&&Hs&&(Ge=Ub()):(Aa=te,jp="value"in Aa?Aa.value:Aa.textContent,Hs=!0)),Ce=td(Z,et),0<Ce.length&&(et=new Vb(et,a,null,u,te),ie.push({event:et,listeners:Ce}),Ge?et.data=Ge:(Ge=Zb(u),Ge!==null&&(et.data=Ge)))),(Ge=bN?SN(a,u):EN(a,u))&&(et=td(Z,"onBeforeInput"),0<et.length&&(Ce=new Vb("onBeforeInput","beforeinput",null,u,te),ie.push({event:Ce,listeners:et}),Ce.data=Ge)),dR(ie,a,Z,u,te)}R1(ie,s)})}function Pu(a,s,u){return{instance:a,listener:s,currentTarget:u}}function td(a,s){for(var u=s+"Capture",d=[];a!==null;){var v=a,E=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||E===null||(v=tu(a,u),v!=null&&d.unshift(Pu(a,v,E)),v=tu(a,s),v!=null&&d.push(Pu(a,v,E))),a.tag===3)return d;a=a.return}return[]}function gR(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function j1(a,s,u,d,v){for(var E=s._reactName,O=[];u!==null&&u!==d;){var _=u,U=_.alternate,Z=_.stateNode;if(_=_.tag,U!==null&&U===d)break;_!==5&&_!==26&&_!==27||Z===null||(U=Z,v?(Z=tu(u,E),Z!=null&&O.unshift(Pu(u,Z,U))):v||(Z=tu(u,E),Z!=null&&O.push(Pu(u,Z,U)))),u=u.return}O.length!==0&&a.push({event:s,listeners:O})}var yR=/\r\n?/g,vR=/\u0000|\uFFFD/g;function L1(a){return(typeof a=="string"?a:""+a).replace(yR,`
`).replace(vR,"")}function I1(a,s){return s=L1(s),L1(a)===s}function St(a,s,u,d,v,E){switch(u){case"children":typeof d=="string"?s==="body"||s==="textarea"&&d===""||Bs(a,d):(typeof d=="number"||typeof d=="bigint")&&s!=="body"&&Bs(a,""+d);break;case"className":af(a,"class",d);break;case"tabIndex":af(a,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":af(a,u,d);break;case"style":Ib(a,d,E);break;case"data":if(s!=="object"){af(a,"data",d);break}case"src":case"href":if(d===""&&(s!=="a"||u!=="href")){a.removeAttribute(u);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(u);break}d=sf(""+d),a.setAttribute(u,d);break;case"action":case"formAction":if(typeof d=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(u==="formAction"?(s!=="input"&&St(a,s,"name",v.name,v,null),St(a,s,"formEncType",v.formEncType,v,null),St(a,s,"formMethod",v.formMethod,v,null),St(a,s,"formTarget",v.formTarget,v,null)):(St(a,s,"encType",v.encType,v,null),St(a,s,"method",v.method,v,null),St(a,s,"target",v.target,v,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(u);break}d=sf(""+d),a.setAttribute(u,d);break;case"onClick":d!=null&&(a.onclick=Ni);break;case"onScroll":d!=null&&Xe("scroll",a);break;case"onScrollEnd":d!=null&&Xe("scrollend",a);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(u=d.__html,u!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"multiple":a.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":a.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){a.removeAttribute("xlink:href");break}u=sf(""+d),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(u,""+d):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":d===!0?a.setAttribute(u,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(u,d):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?a.setAttribute(u,d):a.removeAttribute(u);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?a.removeAttribute(u):a.setAttribute(u,d);break;case"popover":Xe("beforetoggle",a),Xe("toggle",a),rf(a,"popover",d);break;case"xlinkActuate":Di(a,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Di(a,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Di(a,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Di(a,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Di(a,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Di(a,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Di(a,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Di(a,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Di(a,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":rf(a,"is",d);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=WD.get(u)||u,rf(a,u,d))}}function gg(a,s,u,d,v,E){switch(u){case"style":Ib(a,d,E);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(u=d.__html,u!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"children":typeof d=="string"?Bs(a,d):(typeof d=="number"||typeof d=="bigint")&&Bs(a,""+d);break;case"onScroll":d!=null&&Xe("scroll",a);break;case"onScrollEnd":d!=null&&Xe("scrollend",a);break;case"onClick":d!=null&&(a.onclick=Ni);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xb.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),s=u.slice(2,v?u.length-7:void 0),E=a[Rn]||null,E=E!=null?E[u]:null,typeof E=="function"&&a.removeEventListener(s,E,v),typeof d=="function")){typeof E!="function"&&E!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(s,d,v);break e}u in a?a[u]=d:d===!0?a.setAttribute(u,""):rf(a,u,d)}}}function En(a,s,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xe("error",a),Xe("load",a);var d=!1,v=!1,E;for(E in u)if(u.hasOwnProperty(E)){var O=u[E];if(O!=null)switch(E){case"src":d=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:St(a,s,E,O,u,null)}}v&&St(a,s,"srcSet",u.srcSet,u,null),d&&St(a,s,"src",u.src,u,null);return;case"input":Xe("invalid",a);var _=E=O=v=null,U=null,Z=null;for(d in u)if(u.hasOwnProperty(d)){var te=u[d];if(te!=null)switch(d){case"name":v=te;break;case"type":O=te;break;case"checked":U=te;break;case"defaultChecked":Z=te;break;case"value":E=te;break;case"defaultValue":_=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,s));break;default:St(a,s,d,te,u,null)}}Rb(a,E,_,U,Z,O,v,!1);return;case"select":Xe("invalid",a),d=O=E=null;for(v in u)if(u.hasOwnProperty(v)&&(_=u[v],_!=null))switch(v){case"value":E=_;break;case"defaultValue":O=_;break;case"multiple":d=_;default:St(a,s,v,_,u,null)}s=E,u=O,a.multiple=!!d,s!=null?Is(a,!!d,s,!1):u!=null&&Is(a,!!d,u,!0);return;case"textarea":Xe("invalid",a),E=v=d=null;for(O in u)if(u.hasOwnProperty(O)&&(_=u[O],_!=null))switch(O){case"value":d=_;break;case"defaultValue":v=_;break;case"children":E=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:St(a,s,O,_,u,null)}jb(a,d,v,E);return;case"option":for(U in u)u.hasOwnProperty(U)&&(d=u[U],d!=null)&&(U==="selected"?a.selected=d&&typeof d!="function"&&typeof d!="symbol":St(a,s,U,d,u,null));return;case"dialog":Xe("beforetoggle",a),Xe("toggle",a),Xe("cancel",a),Xe("close",a);break;case"iframe":case"object":Xe("load",a);break;case"video":case"audio":for(d=0;d<Ru.length;d++)Xe(Ru[d],a);break;case"image":Xe("error",a),Xe("load",a);break;case"details":Xe("toggle",a);break;case"embed":case"source":case"link":Xe("error",a),Xe("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in u)if(u.hasOwnProperty(Z)&&(d=u[Z],d!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:St(a,s,Z,d,u,null)}return;default:if(kp(s)){for(te in u)u.hasOwnProperty(te)&&(d=u[te],d!==void 0&&gg(a,s,te,d,u,void 0));return}}for(_ in u)u.hasOwnProperty(_)&&(d=u[_],d!=null&&St(a,s,_,d,u,null))}function bR(a,s,u,d){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,E=null,O=null,_=null,U=null,Z=null,te=null;for(X in u){var ie=u[X];if(u.hasOwnProperty(X)&&ie!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":U=ie;default:d.hasOwnProperty(X)||St(a,s,X,null,d,ie)}}for(var J in d){var X=d[J];if(ie=u[J],d.hasOwnProperty(J)&&(X!=null||ie!=null))switch(J){case"type":E=X;break;case"name":v=X;break;case"checked":Z=X;break;case"defaultChecked":te=X;break;case"value":O=X;break;case"defaultValue":_=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,s));break;default:X!==ie&&St(a,s,J,X,d,ie)}}xp(a,O,_,U,Z,te,E,v);return;case"select":X=O=_=J=null;for(E in u)if(U=u[E],u.hasOwnProperty(E)&&U!=null)switch(E){case"value":break;case"multiple":X=U;default:d.hasOwnProperty(E)||St(a,s,E,null,d,U)}for(v in d)if(E=d[v],U=u[v],d.hasOwnProperty(v)&&(E!=null||U!=null))switch(v){case"value":J=E;break;case"defaultValue":_=E;break;case"multiple":O=E;default:E!==U&&St(a,s,v,E,d,U)}s=_,u=O,d=X,J!=null?Is(a,!!u,J,!1):!!d!=!!u&&(s!=null?Is(a,!!u,s,!0):Is(a,!!u,u?[]:"",!1));return;case"textarea":X=J=null;for(_ in u)if(v=u[_],u.hasOwnProperty(_)&&v!=null&&!d.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:St(a,s,_,null,d,v)}for(O in d)if(v=d[O],E=u[O],d.hasOwnProperty(O)&&(v!=null||E!=null))switch(O){case"value":J=v;break;case"defaultValue":X=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==E&&St(a,s,O,v,d,E)}Pb(a,J,X);return;case"option":for(var Te in u)J=u[Te],u.hasOwnProperty(Te)&&J!=null&&!d.hasOwnProperty(Te)&&(Te==="selected"?a.selected=!1:St(a,s,Te,null,d,J));for(U in d)J=d[U],X=u[U],d.hasOwnProperty(U)&&J!==X&&(J!=null||X!=null)&&(U==="selected"?a.selected=J&&typeof J!="function"&&typeof J!="symbol":St(a,s,U,J,d,X));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in u)J=u[Re],u.hasOwnProperty(Re)&&J!=null&&!d.hasOwnProperty(Re)&&St(a,s,Re,null,d,J);for(Z in d)if(J=d[Z],X=u[Z],d.hasOwnProperty(Z)&&J!==X&&(J!=null||X!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,s));break;default:St(a,s,Z,J,d,X)}return;default:if(kp(s)){for(var Et in u)J=u[Et],u.hasOwnProperty(Et)&&J!==void 0&&!d.hasOwnProperty(Et)&&gg(a,s,Et,void 0,d,J);for(te in d)J=d[te],X=u[te],!d.hasOwnProperty(te)||J===X||J===void 0&&X===void 0||gg(a,s,te,J,d,X);return}}for(var q in u)J=u[q],u.hasOwnProperty(q)&&J!=null&&!d.hasOwnProperty(q)&&St(a,s,q,null,d,J);for(ie in d)J=d[ie],X=u[ie],!d.hasOwnProperty(ie)||J===X||J==null&&X==null||St(a,s,ie,J,d,X)}function B1(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function SR(){if(typeof performance.getEntriesByType=="function"){for(var a=0,s=0,u=performance.getEntriesByType("resource"),d=0;d<u.length;d++){var v=u[d],E=v.transferSize,O=v.initiatorType,_=v.duration;if(E&&_&&B1(O)){for(O=0,_=v.responseEnd,d+=1;d<u.length;d++){var U=u[d],Z=U.startTime;if(Z>_)break;var te=U.transferSize,ie=U.initiatorType;te&&B1(ie)&&(U=U.responseEnd,O+=te*(U<_?1:(_-Z)/(U-Z)))}if(--d,s+=8*(E+O)/(v.duration/1e3),a++,10<a)break}}if(0<a)return s/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var yg=null,vg=null;function nd(a){return a.nodeType===9?a:a.ownerDocument}function z1(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function U1(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function bg(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Sg=null;function ER(){var a=window.event;return a&&a.type==="popstate"?a===Sg?!1:(Sg=a,!0):(Sg=null,!1)}var H1=typeof setTimeout=="function"?setTimeout:void 0,TR=typeof clearTimeout=="function"?clearTimeout:void 0,F1=typeof Promise=="function"?Promise:void 0,AR=typeof queueMicrotask=="function"?queueMicrotask:typeof F1<"u"?function(a){return F1.resolve(null).then(a).catch(OR)}:H1;function OR(a){setTimeout(function(){throw a})}function Ua(a){return a==="head"}function V1(a,s){var u=s,d=0;do{var v=u.nextSibling;if(a.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"||u==="/&"){if(d===0){a.removeChild(v),ml(s);return}d--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")d++;else if(u==="html")ju(a.ownerDocument.documentElement);else if(u==="head"){u=a.ownerDocument.head,ju(u);for(var E=u.firstChild;E;){var O=E.nextSibling,_=E.nodeName;E[Co]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&E.rel.toLowerCase()==="stylesheet"||u.removeChild(E),E=O}}else u==="body"&&ju(a.ownerDocument.body);u=v}while(u);ml(s)}function q1(a,s){var u=a;a=0;do{var d=u.nextSibling;if(u.nodeType===1?s?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(s?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),d&&d.nodeType===8)if(u=d.data,u==="/$"){if(a===0)break;a--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||a++;u=d}while(u)}function Eg(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var u=s;switch(s=s.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Eg(u),$l(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function CR(a,s,u,d){for(;a.nodeType===1;){var v=u;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!d&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(d){if(!a[Co])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(E=a.getAttribute("rel"),E==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(E!==v.rel||a.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||a.getAttribute("title")!==(v.title==null?null:v.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(E=a.getAttribute("src"),(E!==(v.src==null?null:v.src)||a.getAttribute("type")!==(v.type==null?null:v.type)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&E&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var E=v.name==null?null:""+v.name;if(v.type==="hidden"&&a.getAttribute("name")===E)return a}else return a;if(a=Fr(a.nextSibling),a===null)break}return null}function MR(a,s,u){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=Fr(a.nextSibling),a===null))return null;return a}function G1(a,s){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!s||(a=Fr(a.nextSibling),a===null))return null;return a}function Tg(a){return a.data==="$?"||a.data==="$~"}function Ag(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function wR(a,s){var u=a.ownerDocument;if(a.data==="$~")a._reactRetry=s;else if(a.data!=="$?"||u.readyState!=="loading")s();else{var d=function(){s(),u.removeEventListener("DOMContentLoaded",d)};u.addEventListener("DOMContentLoaded",d),a._reactRetry=d}}function Fr(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return a}var Og=null;function W1(a){a=a.nextSibling;for(var s=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"||u==="/&"){if(s===0)return Fr(a.nextSibling);s--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||s++}a=a.nextSibling}return null}function Y1(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(s===0)return a;s--}else u!=="/$"&&u!=="/&"||s++}a=a.previousSibling}return null}function K1(a,s,u){switch(s=nd(u),a){case"html":if(a=s.documentElement,!a)throw Error(r(452));return a;case"head":if(a=s.head,!a)throw Error(r(453));return a;case"body":if(a=s.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function ju(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);$l(a)}var Vr=new Map,Z1=new Set;function rd(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Ki=W.d;W.d={f:xR,r:_R,D:kR,C:DR,L:NR,m:RR,X:jR,S:PR,M:LR};function xR(){var a=Ki.f(),s=Kf();return a||s}function _R(a){var s=Ta(a);s!==null&&s.tag===5&&s.type==="form"?dE(s):Ki.r(a)}var dl=typeof document>"u"?null:document;function J1(a,s,u){var d=dl;if(d&&typeof s=="string"&&s){var v=jr(s);v='link[rel="'+a+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),Z1.has(v)||(Z1.add(v),a={rel:a,crossOrigin:u,href:s},d.querySelector(v)===null&&(s=d.createElement("link"),En(s,"link",a),cn(s),d.head.appendChild(s)))}}function kR(a){Ki.D(a),J1("dns-prefetch",a,null)}function DR(a,s){Ki.C(a,s),J1("preconnect",a,s)}function NR(a,s,u){Ki.L(a,s,u);var d=dl;if(d&&a&&s){var v='link[rel="preload"][as="'+jr(s)+'"]';s==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+jr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+jr(u.imageSizes)+'"]')):v+='[href="'+jr(a)+'"]';var E=v;switch(s){case"style":E=hl(a);break;case"script":E=pl(a)}Vr.has(E)||(a=m({rel:"preload",href:s==="image"&&u&&u.imageSrcSet?void 0:a,as:s},u),Vr.set(E,a),d.querySelector(v)!==null||s==="style"&&d.querySelector(Lu(E))||s==="script"&&d.querySelector(Iu(E))||(s=d.createElement("link"),En(s,"link",a),cn(s),d.head.appendChild(s)))}}function RR(a,s){Ki.m(a,s);var u=dl;if(u&&a){var d=s&&typeof s.as=="string"?s.as:"script",v='link[rel="modulepreload"][as="'+jr(d)+'"][href="'+jr(a)+'"]',E=v;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=pl(a)}if(!Vr.has(E)&&(a=m({rel:"modulepreload",href:a},s),Vr.set(E,a),u.querySelector(v)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Iu(E)))return}d=u.createElement("link"),En(d,"link",a),cn(d),u.head.appendChild(d)}}}function PR(a,s,u){Ki.S(a,s,u);var d=dl;if(d&&a){var v=js(d).hoistableStyles,E=hl(a);s=s||"default";var O=v.get(E);if(!O){var _={loading:0,preload:null};if(O=d.querySelector(Lu(E)))_.loading=5;else{a=m({rel:"stylesheet",href:a,"data-precedence":s},u),(u=Vr.get(E))&&Cg(a,u);var U=O=d.createElement("link");cn(U),En(U,"link",a),U._p=new Promise(function(Z,te){U.onload=Z,U.onerror=te}),U.addEventListener("load",function(){_.loading|=1}),U.addEventListener("error",function(){_.loading|=2}),_.loading|=4,id(O,s,d)}O={type:"stylesheet",instance:O,count:1,state:_},v.set(E,O)}}}function jR(a,s){Ki.X(a,s);var u=dl;if(u&&a){var d=js(u).hoistableScripts,v=pl(a),E=d.get(v);E||(E=u.querySelector(Iu(v)),E||(a=m({src:a,async:!0},s),(s=Vr.get(v))&&Mg(a,s),E=u.createElement("script"),cn(E),En(E,"link",a),u.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},d.set(v,E))}}function LR(a,s){Ki.M(a,s);var u=dl;if(u&&a){var d=js(u).hoistableScripts,v=pl(a),E=d.get(v);E||(E=u.querySelector(Iu(v)),E||(a=m({src:a,async:!0,type:"module"},s),(s=Vr.get(v))&&Mg(a,s),E=u.createElement("script"),cn(E),En(E,"link",a),u.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},d.set(v,E))}}function X1(a,s,u,d){var v=(v=Se.current)?rd(v):null;if(!v)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(s=hl(u.href),u=js(v).hoistableStyles,d=u.get(s),d||(d={type:"style",instance:null,count:0,state:null},u.set(s,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=hl(u.href);var E=js(v).hoistableStyles,O=E.get(a);if(O||(v=v.ownerDocument||v,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(a,O),(E=v.querySelector(Lu(a)))&&!E._p&&(O.instance=E,O.state.loading=5),Vr.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Vr.set(a,u),E||IR(v,a,u,O.state))),s&&d===null)throw Error(r(528,""));return O}if(s&&d!==null)throw Error(r(529,""));return null;case"script":return s=u.async,u=u.src,typeof u=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=pl(u),u=js(v).hoistableScripts,d=u.get(s),d||(d={type:"script",instance:null,count:0,state:null},u.set(s,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function hl(a){return'href="'+jr(a)+'"'}function Lu(a){return'link[rel="stylesheet"]['+a+"]"}function Q1(a){return m({},a,{"data-precedence":a.precedence,precedence:null})}function IR(a,s,u,d){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?d.loading=1:(s=a.createElement("link"),d.preload=s,s.addEventListener("load",function(){return d.loading|=1}),s.addEventListener("error",function(){return d.loading|=2}),En(s,"link",u),cn(s),a.head.appendChild(s))}function pl(a){return'[src="'+jr(a)+'"]'}function Iu(a){return"script[async]"+a}function $1(a,s,u){if(s.count++,s.instance===null)switch(s.type){case"style":var d=a.querySelector('style[data-href~="'+jr(u.href)+'"]');if(d)return s.instance=d,cn(d),d;var v=m({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return d=(a.ownerDocument||a).createElement("style"),cn(d),En(d,"style",v),id(d,u.precedence,a),s.instance=d;case"stylesheet":v=hl(u.href);var E=a.querySelector(Lu(v));if(E)return s.state.loading|=4,s.instance=E,cn(E),E;d=Q1(u),(v=Vr.get(v))&&Cg(d,v),E=(a.ownerDocument||a).createElement("link"),cn(E);var O=E;return O._p=new Promise(function(_,U){O.onload=_,O.onerror=U}),En(E,"link",d),s.state.loading|=4,id(E,u.precedence,a),s.instance=E;case"script":return E=pl(u.src),(v=a.querySelector(Iu(E)))?(s.instance=v,cn(v),v):(d=u,(v=Vr.get(E))&&(d=m({},u),Mg(d,v)),a=a.ownerDocument||a,v=a.createElement("script"),cn(v),En(v,"link",d),a.head.appendChild(v),s.instance=v);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(d=s.instance,s.state.loading|=4,id(d,u.precedence,a));return s.instance}function id(a,s,u){for(var d=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=d.length?d[d.length-1]:null,E=v,O=0;O<d.length;O++){var _=d[O];if(_.dataset.precedence===s)E=_;else if(E!==v)break}E?E.parentNode.insertBefore(a,E.nextSibling):(s=u.nodeType===9?u.head:u,s.insertBefore(a,s.firstChild))}function Cg(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function Mg(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var ad=null;function eT(a,s,u){if(ad===null){var d=new Map,v=ad=new Map;v.set(u,d)}else v=ad,d=v.get(u),d||(d=new Map,v.set(u,d));if(d.has(a))return d;for(d.set(a,null),u=u.getElementsByTagName(a),v=0;v<u.length;v++){var E=u[v];if(!(E[Co]||E[kt]||a==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var O=E.getAttribute(s)||"";O=a+O;var _=d.get(O);_?_.push(E):d.set(O,[E])}}return d}function tT(a,s,u){a=a.ownerDocument||a,a.head.insertBefore(u,s==="title"?a.querySelector("head > title"):null)}function BR(a,s,u){if(u===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(a=s.disabled,typeof s.precedence=="string"&&a==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function nT(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function zR(a,s,u,d){if(u.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var v=hl(d.href),E=s.querySelector(Lu(v));if(E){s=E._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(a.count++,a=od.bind(a),s.then(a,a)),u.state.loading|=4,u.instance=E,cn(E);return}E=s.ownerDocument||s,d=Q1(d),(v=Vr.get(v))&&Cg(d,v),E=E.createElement("link"),cn(E);var O=E;O._p=new Promise(function(_,U){O.onload=_,O.onerror=U}),En(E,"link",d),u.instance=E}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(u,s),(s=u.state.preload)&&(u.state.loading&3)===0&&(a.count++,u=od.bind(a),s.addEventListener("load",u),s.addEventListener("error",u))}}var wg=0;function UR(a,s){return a.stylesheets&&a.count===0&&ld(a,a.stylesheets),0<a.count||0<a.imgCount?function(u){var d=setTimeout(function(){if(a.stylesheets&&ld(a,a.stylesheets),a.unsuspend){var E=a.unsuspend;a.unsuspend=null,E()}},6e4+s);0<a.imgBytes&&wg===0&&(wg=62500*SR());var v=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&ld(a,a.stylesheets),a.unsuspend)){var E=a.unsuspend;a.unsuspend=null,E()}},(a.imgBytes>wg?50:800)+s);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(d),clearTimeout(v)}}:null}function od(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ld(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var sd=null;function ld(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,sd=new Map,s.forEach(HR,a),sd=null,od.call(a))}function HR(a,s){if(!(s.state.loading&4)){var u=sd.get(a);if(u)var d=u.get(null);else{u=new Map,sd.set(a,u);for(var v=a.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<v.length;E++){var O=v[E];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(u.set(O.dataset.precedence,O),d=O)}d&&u.set(null,d)}v=s.instance,O=v.getAttribute("data-precedence"),E=u.get(O)||d,E===d&&u.set(null,v),u.set(O,v),this.count++,d=od.bind(this),v.addEventListener("load",d),v.addEventListener("error",d),E?E.parentNode.insertBefore(v,E.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(v,a.firstChild)),s.state.loading|=4}}var Bu={$$typeof:w,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function FR(a,s,u,d,v,E,O,_,U){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ce(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ce(0),this.hiddenUpdates=ce(null),this.identifierPrefix=d,this.onUncaughtError=v,this.onCaughtError=E,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function rT(a,s,u,d,v,E,O,_,U,Z,te,ie){return a=new FR(a,s,u,O,U,Z,te,ie,_),s=1,E===!0&&(s|=24),E=hr(3,null,null,s),a.current=E,E.stateNode=a,s=om(),s.refCount++,a.pooledCache=s,s.refCount++,E.memoizedState={element:d,isDehydrated:u,cache:s},cm(E),a}function iT(a){return a?(a=Gs,a):Gs}function aT(a,s,u,d,v,E){v=iT(v),d.context===null?d.context=v:d.pendingContext=v,d=_a(s),d.payload={element:u},E=E===void 0?null:E,E!==null&&(d.callback=E),u=ka(a,d,s),u!==null&&(ar(u,a,s),gu(u,a,s))}function oT(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<s?u:s}}function xg(a,s){oT(a,s),(a=a.alternate)&&oT(a,s)}function sT(a){if(a.tag===13||a.tag===31){var s=ko(a,67108864);s!==null&&ar(s,a,67108864),xg(a,67108864)}}function lT(a){if(a.tag===13||a.tag===31){var s=vr();s=Ne(s);var u=ko(a,s);u!==null&&ar(u,a,s),xg(a,s)}}var ud=!0;function VR(a,s,u,d){var v=I.T;I.T=null;var E=W.p;try{W.p=2,_g(a,s,u,d)}finally{W.p=E,I.T=v}}function qR(a,s,u,d){var v=I.T;I.T=null;var E=W.p;try{W.p=8,_g(a,s,u,d)}finally{W.p=E,I.T=v}}function _g(a,s,u,d){if(ud){var v=kg(d);if(v===null)mg(a,s,d,cd,u),cT(a,d);else if(WR(v,a,s,u,d))d.stopPropagation();else if(cT(a,d),s&4&&-1<GR.indexOf(a)){for(;v!==null;){var E=Ta(v);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var O=ki(E.pendingLanes);if(O!==0){var _=E;for(_.pendingLanes|=2,_.entangledLanes|=2;O;){var U=1<<31-yn(O);_.entanglements[1]|=U,O&=~U}Ei(E),(ut&6)===0&&(Wf=ge()+500,Nu(0))}}break;case 31:case 13:_=ko(E,2),_!==null&&ar(_,E,2),Kf(),xg(E,2)}if(E=kg(d),E===null&&mg(a,s,d,cd,u),E===v)break;v=E}v!==null&&d.stopPropagation()}else mg(a,s,d,null,u)}}function kg(a){return a=Np(a),Dg(a)}var cd=null;function Dg(a){if(cd=null,a=Ea(a),a!==null){var s=o(a);if(s===null)a=null;else{var u=s.tag;if(u===13){if(a=l(s),a!==null)return a;a=null}else if(u===31){if(a=c(s),a!==null)return a;a=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return cd=a,null}function uT(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ze()){case Tt:return 2;case Ct:return 8;case st:case It:return 32;case cr:return 268435456;default:return 32}default:return 32}}var Ng=!1,Ha=null,Fa=null,Va=null,zu=new Map,Uu=new Map,qa=[],GR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cT(a,s){switch(a){case"focusin":case"focusout":Ha=null;break;case"dragenter":case"dragleave":Fa=null;break;case"mouseover":case"mouseout":Va=null;break;case"pointerover":case"pointerout":zu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uu.delete(s.pointerId)}}function Hu(a,s,u,d,v,E){return a===null||a.nativeEvent!==E?(a={blockedOn:s,domEventName:u,eventSystemFlags:d,nativeEvent:E,targetContainers:[v]},s!==null&&(s=Ta(s),s!==null&&sT(s)),a):(a.eventSystemFlags|=d,s=a.targetContainers,v!==null&&s.indexOf(v)===-1&&s.push(v),a)}function WR(a,s,u,d,v){switch(s){case"focusin":return Ha=Hu(Ha,a,s,u,d,v),!0;case"dragenter":return Fa=Hu(Fa,a,s,u,d,v),!0;case"mouseover":return Va=Hu(Va,a,s,u,d,v),!0;case"pointerover":var E=v.pointerId;return zu.set(E,Hu(zu.get(E)||null,a,s,u,d,v)),!0;case"gotpointercapture":return E=v.pointerId,Uu.set(E,Hu(Uu.get(E)||null,a,s,u,d,v)),!0}return!1}function fT(a){var s=Ea(a.target);if(s!==null){var u=o(s);if(u!==null){if(s=u.tag,s===13){if(s=l(u),s!==null){a.blockedOn=s,Nn(a.priority,function(){lT(u)});return}}else if(s===31){if(s=c(u),s!==null){a.blockedOn=s,Nn(a.priority,function(){lT(u)});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function fd(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var u=kg(a.nativeEvent);if(u===null){u=a.nativeEvent;var d=new u.constructor(u.type,u);Dp=d,u.target.dispatchEvent(d),Dp=null}else return s=Ta(u),s!==null&&sT(s),a.blockedOn=u,!1;s.shift()}return!0}function dT(a,s,u){fd(a)&&u.delete(s)}function YR(){Ng=!1,Ha!==null&&fd(Ha)&&(Ha=null),Fa!==null&&fd(Fa)&&(Fa=null),Va!==null&&fd(Va)&&(Va=null),zu.forEach(dT),Uu.forEach(dT)}function dd(a,s){a.blockedOn===s&&(a.blockedOn=null,Ng||(Ng=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,YR)))}var hd=null;function hT(a){hd!==a&&(hd=a,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){hd===a&&(hd=null);for(var s=0;s<a.length;s+=3){var u=a[s],d=a[s+1],v=a[s+2];if(typeof d!="function"){if(Dg(d||u)===null)continue;break}var E=Ta(u);E!==null&&(a.splice(s,3),s-=3,km(E,{pending:!0,data:v,method:u.method,action:d},d,v))}}))}function ml(a){function s(U){return dd(U,a)}Ha!==null&&dd(Ha,a),Fa!==null&&dd(Fa,a),Va!==null&&dd(Va,a),zu.forEach(s),Uu.forEach(s);for(var u=0;u<qa.length;u++){var d=qa[u];d.blockedOn===a&&(d.blockedOn=null)}for(;0<qa.length&&(u=qa[0],u.blockedOn===null);)fT(u),u.blockedOn===null&&qa.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(d=0;d<u.length;d+=3){var v=u[d],E=u[d+1],O=v[Rn]||null;if(typeof E=="function")O||hT(u);else if(O){var _=null;if(E&&E.hasAttribute("formAction")){if(v=E,O=E[Rn]||null)_=O.formAction;else if(Dg(v)!==null)continue}else _=O.action;typeof _=="function"?u[d+1]=_:(u.splice(d,3),d-=3),hT(u)}}}function pT(){function a(E){E.canIntercept&&E.info==="react-transition"&&E.intercept({handler:function(){return new Promise(function(O){return v=O})},focusReset:"manual",scroll:"manual"})}function s(){v!==null&&(v(),v=null),d||setTimeout(u,20)}function u(){if(!d&&!navigation.transition){var E=navigation.currentEntry;E&&E.url!=null&&navigation.navigate(E.url,{state:E.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,v=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(u,100),function(){d=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),v!==null&&(v(),v=null)}}}function Rg(a){this._internalRoot=a}pd.prototype.render=Rg.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(r(409));var u=s.current,d=vr();aT(u,d,a,s,null,null)},pd.prototype.unmount=Rg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;aT(a.current,2,null,a,null,null),Kf(),s[yi]=null}};function pd(a){this._internalRoot=a}pd.prototype.unstable_scheduleHydration=function(a){if(a){var s=fr();a={blockedOn:null,target:a,priority:s};for(var u=0;u<qa.length&&s!==0&&s<qa[u].priority;u++);qa.splice(u,0,a),u===0&&fT(a)}};var mT=e.version;if(mT!=="19.2.4")throw Error(r(527,mT,"19.2.4"));W.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=h(s),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var KR={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var md=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!md.isDisabled&&md.supportsFiber)try{Oo=md.inject(KR),Hn=md}catch{}}return Vu.createRoot=function(a,s){if(!i(a))throw Error(r(299));var u=!1,d="",v=TE,E=AE,O=OE;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(v=s.onUncaughtError),s.onCaughtError!==void 0&&(E=s.onCaughtError),s.onRecoverableError!==void 0&&(O=s.onRecoverableError)),s=rT(a,1,!1,null,null,u,d,null,v,E,O,pT),a[yi]=s.current,pg(a),new Rg(s)},Vu.hydrateRoot=function(a,s,u){if(!i(a))throw Error(r(299));var d=!1,v="",E=TE,O=AE,_=OE,U=null;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(E=u.onUncaughtError),u.onCaughtError!==void 0&&(O=u.onCaughtError),u.onRecoverableError!==void 0&&(_=u.onRecoverableError),u.formState!==void 0&&(U=u.formState)),s=rT(a,1,!0,s,u??null,d,v,U,E,O,_,pT),s.context=iT(null),u=s.current,d=vr(),d=Ne(d),v=_a(d),v.callback=null,ka(u,v,d),u=d,s.current.lanes=u,pe(s,u),Ei(s),a[yi]=s.current,pg(a),new pd(s)},Vu.version="19.2.4",Vu}var CT;function rP(){if(CT)return Lg.exports;CT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Lg.exports=nP(),Lg.exports}var iP=rP();const aP=Xh(iP);var MT="popstate";function oP(n={}){function e(r,i){let{pathname:o,search:l,hash:c}=r.location;return Ov("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Mc(i)}return lP(e,t,null,n)}function jt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function wi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sP(){return Math.random().toString(36).substring(2,10)}function wT(n,e){return{usr:n.state,key:n.key,idx:e}}function Ov(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Fl(e):e,state:t,key:e&&e.key||r||sP()}}function Mc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Fl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function lP(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,c="POP",f=null,h=p();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function p(){return(l.state||{idx:null}).idx}function m(){c="POP";let T=p(),A=T==null?null:T-h;h=T,f&&f({action:c,location:S.location,delta:A})}function g(T,A){c="PUSH";let M=Ov(S.location,T,A);h=p()+1;let w=wT(M,h),x=S.createHref(M);try{l.pushState(w,"",x)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(x)}o&&f&&f({action:c,location:S.location,delta:1})}function y(T,A){c="REPLACE";let M=Ov(S.location,T,A);h=p();let w=wT(M,h),x=S.createHref(M);l.replaceState(w,"",x),o&&f&&f({action:c,location:S.location,delta:0})}function b(T){return uP(T)}let S={get action(){return c},get location(){return n(i,l)},listen(T){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(MT,m),f=T,()=>{i.removeEventListener(MT,m),f=null}},createHref(T){return e(i,T)},createURL:b,encodeLocation(T){let A=b(T);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:g,replace:y,go(T){return l.go(T)}};return S}function uP(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),jt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Mc(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function uw(n,e,t="/"){return cP(n,e,t,!1)}function cP(n,e,t,r){let i=typeof e=="string"?Fl(e):e,o=ha(i.pathname||"/",t);if(o==null)return null;let l=cw(n);fP(l);let c=null;for(let f=0;c==null&&f<l.length;++f){let h=TP(o);c=SP(l[f],h,r)}return c}function cw(n,e=[],t=[],r="",i=!1){let o=(l,c,f=i,h)=>{let p={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&f)return;jt(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let m=ca([r,p.relativePath]),g=t.concat(p);l.children&&l.children.length>0&&(jt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),cw(l.children,e,g,m,f)),!(l.path==null&&!l.index)&&e.push({path:m,score:vP(m,l.index),routesMeta:g})};return n.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))o(l,c);else for(let f of fw(l.path))o(l,c,!0,f)}),e}function fw(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=fw(r.join("/")),c=[];return c.push(...l.map(f=>f===""?o:[o,f].join("/"))),i&&c.push(...l),c.map(f=>n.startsWith("/")&&f===""?"/":f)}function fP(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:bP(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var dP=/^:[\w-]+$/,hP=3,pP=2,mP=1,gP=10,yP=-2,xT=n=>n==="*";function vP(n,e){let t=n.split("/"),r=t.length;return t.some(xT)&&(r+=yP),e&&(r+=pP),t.filter(i=>!xT(i)).reduce((i,o)=>i+(dP.test(o)?hP:o===""?mP:gP),r)}function bP(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function SP(n,e,t=!1){let{routesMeta:r}=n,i={},o="/",l=[];for(let c=0;c<r.length;++c){let f=r[c],h=c===r.length-1,p=o==="/"?e:e.slice(o.length)||"/",m=Qd({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),g=f.route;if(!m&&h&&t&&!r[r.length-1].route.index&&(m=Qd({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!m)return null;Object.assign(i,m.params),l.push({params:i,pathname:ca([o,m.pathname]),pathnameBase:MP(ca([o,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(o=ca([o,m.pathnameBase]))}return l}function Qd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=EP(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:m},g)=>{if(p==="*"){let b=c[g]||"";l=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const y=c[g];return m&&!y?h[p]=void 0:h[p]=(y||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:n}}function EP(n,e=!1,t=!0){wi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,f)=>(r.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function TP(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return wi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ha(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var AP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function OP(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Fl(n):n,o;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?o=_T(t.substring(1),"/"):o=_T(t,e)):o=e,{pathname:o,search:wP(r),hash:xP(i)}}function _T(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Ug(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function CP(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function dw(n){let e=CP(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function hw(n,e,t,r=!1){let i;typeof n=="string"?i=Fl(n):(i={...n},jt(!i.pathname||!i.pathname.includes("?"),Ug("?","pathname","search",i)),jt(!i.pathname||!i.pathname.includes("#"),Ug("#","pathname","hash",i)),jt(!i.search||!i.search.includes("#"),Ug("#","search","hash",i)));let o=n===""||i.pathname==="",l=o?"/":i.pathname,c;if(l==null)c=t;else{let m=e.length-1;if(!r&&l.startsWith("..")){let g=l.split("/");for(;g[0]==="..";)g.shift(),m-=1;i.pathname=g.join("/")}c=m>=0?e[m]:"/"}let f=OP(i,c),h=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}var ca=n=>n.join("/").replace(/\/\/+/g,"/"),MP=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),wP=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,xP=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,_P=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function kP(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function DP(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var pw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function mw(n,e){let t=n;if(typeof t!="string"||!AP.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let r=t,i=!1;if(pw)try{let o=new URL(window.location.href),l=t.startsWith("//")?new URL(o.protocol+t):new URL(t),c=ha(l.pathname,e);l.origin===o.origin&&c!=null?t=c+l.search+l.hash:i=!0}catch{wi(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var gw=["POST","PUT","PATCH","DELETE"];new Set(gw);var NP=["GET",...gw];new Set(NP);var Vl=L.createContext(null);Vl.displayName="DataRouter";var Qh=L.createContext(null);Qh.displayName="DataRouterState";var RP=L.createContext(!1),yw=L.createContext({isTransitioning:!1});yw.displayName="ViewTransition";var PP=L.createContext(new Map);PP.displayName="Fetchers";var jP=L.createContext(null);jP.displayName="Await";var ei=L.createContext(null);ei.displayName="Navigation";var qc=L.createContext(null);qc.displayName="Location";var ga=L.createContext({outlet:null,matches:[],isDataRoute:!1});ga.displayName="Route";var T0=L.createContext(null);T0.displayName="RouteError";var vw="REACT_ROUTER_ERROR",LP="REDIRECT",IP="ROUTE_ERROR_RESPONSE";function BP(n){if(n.startsWith(`${vw}:${LP}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function zP(n){if(n.startsWith(`${vw}:${IP}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new _P(e.status,e.statusText,e.data)}catch{}}function UP(n,{relative:e}={}){jt(Gc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=L.useContext(ei),{hash:i,pathname:o,search:l}=Wc(n,{relative:e}),c=o;return t!=="/"&&(c=o==="/"?t:ca([t,o])),r.createHref({pathname:c,search:l,hash:i})}function Gc(){return L.useContext(qc)!=null}function xs(){return jt(Gc(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(qc).location}var bw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Sw(n){L.useContext(ei).static||L.useLayoutEffect(n)}function HP(){let{isDataRoute:n}=L.useContext(ga);return n?e2():FP()}function FP(){jt(Gc(),"useNavigate() may be used only in the context of a <Router> component.");let n=L.useContext(Vl),{basename:e,navigator:t}=L.useContext(ei),{matches:r}=L.useContext(ga),{pathname:i}=xs(),o=JSON.stringify(dw(r)),l=L.useRef(!1);return Sw(()=>{l.current=!0}),L.useCallback((f,h={})=>{if(wi(l.current,bw),!l.current)return;if(typeof f=="number"){t.go(f);return}let p=hw(f,JSON.parse(o),i,h.relative==="path");n==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:ca([e,p.pathname])),(h.replace?t.replace:t.push)(p,h.state,h)},[e,t,o,i,n])}L.createContext(null);function Wc(n,{relative:e}={}){let{matches:t}=L.useContext(ga),{pathname:r}=xs(),i=JSON.stringify(dw(t));return L.useMemo(()=>hw(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function VP(n,e){return Ew(n,e)}function Ew(n,e,t,r,i){jt(Gc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=L.useContext(ei),{matches:l}=L.useContext(ga),c=l[l.length-1],f=c?c.params:{},h=c?c.pathname:"/",p=c?c.pathnameBase:"/",m=c&&c.route;{let M=m&&m.path||"";Aw(h,!m||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let g=xs(),y;if(e){let M=typeof e=="string"?Fl(e):e;jt(p==="/"||M.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${M.pathname}" was given in the \`location\` prop.`),y=M}else y=g;let b=y.pathname||"/",S=b;if(p!=="/"){let M=p.replace(/^\//,"").split("/");S="/"+b.replace(/^\//,"").split("/").slice(M.length).join("/")}let T=uw(n,{pathname:S});wi(m||T!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),wi(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=KP(T&&T.map(M=>Object.assign({},M,{params:Object.assign({},f,M.params),pathname:ca([p,o.encodeLocation?o.encodeLocation(M.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?p:ca([p,o.encodeLocation?o.encodeLocation(M.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathnameBase])})),l,t,r,i);return e&&A?L.createElement(qc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},A):A}function qP(){let n=$P(),e=kP(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:o},"ErrorBoundary")," or"," ",L.createElement("code",{style:o},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),t?L.createElement("pre",{style:i},t):null,l)}var GP=L.createElement(qP,null),Tw=class extends L.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=zP(n.digest);t&&(n=t)}let e=n!==void 0?L.createElement(ga.Provider,{value:this.props.routeContext},L.createElement(T0.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?L.createElement(WP,{error:n},e):e}};Tw.contextType=RP;var Hg=new WeakMap;function WP({children:n,error:e}){let{basename:t}=L.useContext(ei);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=BP(e.digest);if(r){let i=Hg.get(e);if(i)throw i;let o=mw(r.location,t);if(pw&&!Hg.get(e))if(o.isExternal||r.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:r.replace}));throw Hg.set(e,l),l}return L.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return n}function YP({routeContext:n,match:e,children:t}){let r=L.useContext(Vl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(ga.Provider,{value:n},t)}function KP(n,e=[],t=null,r=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,l=t?.errors;if(l!=null){let p=o.findIndex(m=>m.route.id&&l?.[m.route.id]!==void 0);jt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,f=-1;if(t)for(let p=0;p<o.length;p++){let m=o[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=p),m.route.id){let{loaderData:g,errors:y}=t,b=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||b){c=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}let h=t&&r?(p,m)=>{r(p,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:DP(t.matches),errorInfo:m})}:void 0;return o.reduceRight((p,m,g)=>{let y,b=!1,S=null,T=null;t&&(y=l&&m.route.id?l[m.route.id]:void 0,S=m.route.errorElement||GP,c&&(f<0&&g===0?(Aw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,T=null):f===g&&(b=!0,T=m.route.hydrateFallbackElement||null)));let A=e.concat(o.slice(0,g+1)),M=()=>{let w;return y?w=S:b?w=T:m.route.Component?w=L.createElement(m.route.Component,null):m.route.element?w=m.route.element:w=p,L.createElement(YP,{match:m,routeContext:{outlet:p,matches:A,isDataRoute:t!=null},children:w})};return t&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?L.createElement(Tw,{location:t.location,revalidation:t.revalidation,component:S,error:y,children:M(),routeContext:{outlet:null,matches:A,isDataRoute:!0},onError:h}):M()},null)}function A0(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZP(n){let e=L.useContext(Vl);return jt(e,A0(n)),e}function JP(n){let e=L.useContext(Qh);return jt(e,A0(n)),e}function XP(n){let e=L.useContext(ga);return jt(e,A0(n)),e}function O0(n){let e=XP(n),t=e.matches[e.matches.length-1];return jt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function QP(){return O0("useRouteId")}function $P(){let n=L.useContext(T0),e=JP("useRouteError"),t=O0("useRouteError");return n!==void 0?n:e.errors?.[t]}function e2(){let{router:n}=ZP("useNavigate"),e=O0("useNavigate"),t=L.useRef(!1);return Sw(()=>{t.current=!0}),L.useCallback(async(i,o={})=>{wi(t.current,bw),t.current&&(typeof i=="number"?await n.navigate(i):await n.navigate(i,{fromRouteId:e,...o}))},[n,e])}var kT={};function Aw(n,e,t){!e&&!kT[n]&&(kT[n]=!0,wi(!1,t))}L.memo(t2);function t2({routes:n,future:e,state:t,onError:r}){return Ew(n,void 0,t,r,e)}function oa(n){jt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function n2({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:o=!1,unstable_useTransitions:l}){jt(!Gc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),f=L.useMemo(()=>({basename:c,navigator:i,static:o,unstable_useTransitions:l,future:{}}),[c,i,o,l]);typeof t=="string"&&(t=Fl(t));let{pathname:h="/",search:p="",hash:m="",state:g=null,key:y="default"}=t,b=L.useMemo(()=>{let S=ha(h,c);return S==null?null:{location:{pathname:S,search:p,hash:m,state:g,key:y},navigationType:r}},[c,h,p,m,g,y,r]);return wi(b!=null,`<Router basename="${c}"> is not able to match the URL "${h}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:L.createElement(ei.Provider,{value:f},L.createElement(qc.Provider,{children:e,value:b}))}function r2({children:n,location:e}){return VP(Cv(n),e)}function Cv(n,e=[]){let t=[];return L.Children.forEach(n,(r,i)=>{if(!L.isValidElement(r))return;let o=[...e,i];if(r.type===L.Fragment){t.push.apply(t,Cv(r.props.children,o));return}jt(r.type===oa,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),jt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Cv(r.props.children,o)),t.push(l)}),t}var Hd="get",Fd="application/x-www-form-urlencoded";function $h(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function i2(n){return $h(n)&&n.tagName.toLowerCase()==="button"}function a2(n){return $h(n)&&n.tagName.toLowerCase()==="form"}function o2(n){return $h(n)&&n.tagName.toLowerCase()==="input"}function s2(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function l2(n,e){return n.button===0&&(!e||e==="_self")&&!s2(n)}var gd=null;function u2(){if(gd===null)try{new FormData(document.createElement("form"),0),gd=!1}catch{gd=!0}return gd}var c2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fg(n){return n!=null&&!c2.has(n)?(wi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Fd}"`),null):n}function f2(n,e){let t,r,i,o,l;if(a2(n)){let c=n.getAttribute("action");r=c?ha(c,e):null,t=n.getAttribute("method")||Hd,i=Fg(n.getAttribute("enctype"))||Fd,o=new FormData(n)}else if(i2(n)||o2(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||c.getAttribute("action");if(r=f?ha(f,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||Hd,i=Fg(n.getAttribute("formenctype"))||Fg(c.getAttribute("enctype"))||Fd,o=new FormData(c,n),!u2()){let{name:h,type:p,value:m}=n;if(p==="image"){let g=h?`${h}.`:"";o.append(`${g}x`,"0"),o.append(`${g}y`,"0")}else h&&o.append(h,m)}}else{if($h(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Hd,r=null,i=Fd,l=n}return o&&i==="text/plain"&&(l=o,o=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function C0(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function d2(n,e,t,r){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${r}`:i.pathname=`${i.pathname}.${r}`:i.pathname==="/"?i.pathname=`_root.${r}`:e&&ha(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function h2(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function p2(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function m2(n,e,t){let r=await Promise.all(n.map(async i=>{let o=e.routes[i.route.id];if(o){let l=await h2(o,t);return l.links?l.links():[]}return[]}));return b2(r.flat(1).filter(p2).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function DT(n,e,t,r,i,o){let l=(f,h)=>t[h]?f.route.id!==t[h].route.id:!0,c=(f,h)=>t[h].pathname!==f.pathname||t[h].route.path?.endsWith("*")&&t[h].params["*"]!==f.params["*"];return o==="assets"?e.filter((f,h)=>l(f,h)||c(f,h)):o==="data"?e.filter((f,h)=>{let p=r.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(l(f,h)||c(f,h))return!0;if(f.route.shouldRevalidate){let m=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function g2(n,e,{includeHydrateFallback:t}={}){return y2(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function y2(n){return[...new Set(n)]}function v2(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function b2(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let o=JSON.stringify(v2(i));return t.has(o)||(t.add(o),r.push({key:o,link:i})),r},[])}function Ow(){let n=L.useContext(Vl);return C0(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function S2(){let n=L.useContext(Qh);return C0(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var M0=L.createContext(void 0);M0.displayName="FrameworkContext";function Cw(){let n=L.useContext(M0);return C0(n,"You must render this element inside a <HydratedRouter> element"),n}function E2(n,e){let t=L.useContext(M0),[r,i]=L.useState(!1),[o,l]=L.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:h,onMouseLeave:p,onTouchStart:m}=e,g=L.useRef(null);L.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let S=A=>{A.forEach(M=>{l(M.isIntersecting)})},T=new IntersectionObserver(S,{threshold:.5});return g.current&&T.observe(g.current),()=>{T.disconnect()}}},[n]),L.useEffect(()=>{if(r){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[r]);let y=()=>{i(!0)},b=()=>{i(!1),l(!1)};return t?n!=="intent"?[o,g,{}]:[o,g,{onFocus:qu(c,y),onBlur:qu(f,b),onMouseEnter:qu(h,y),onMouseLeave:qu(p,b),onTouchStart:qu(m,y)}]:[!1,g,{}]}function qu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function T2({page:n,...e}){let{router:t}=Ow(),r=L.useMemo(()=>uw(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?L.createElement(O2,{page:n,matches:r,...e}):null}function A2(n){let{manifest:e,routeModules:t}=Cw(),[r,i]=L.useState([]);return L.useEffect(()=>{let o=!1;return m2(n,e,t).then(l=>{o||i(l)}),()=>{o=!0}},[n,e,t]),r}function O2({page:n,matches:e,...t}){let r=xs(),{future:i,manifest:o,routeModules:l}=Cw(),{basename:c}=Ow(),{loaderData:f,matches:h}=S2(),p=L.useMemo(()=>DT(n,e,h,o,r,"data"),[n,e,h,o,r]),m=L.useMemo(()=>DT(n,e,h,o,r,"assets"),[n,e,h,o,r]),g=L.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let S=new Set,T=!1;if(e.forEach(M=>{let w=o.routes[M.route.id];!w||!w.hasLoader||(!p.some(x=>x.route.id===M.route.id)&&M.route.id in f&&l[M.route.id]?.shouldRevalidate||w.hasClientLoader?T=!0:S.add(M.route.id))}),S.size===0)return[];let A=d2(n,c,i.unstable_trailingSlashAwareDataRequests,"data");return T&&S.size>0&&A.searchParams.set("_routes",e.filter(M=>S.has(M.route.id)).map(M=>M.route.id).join(",")),[A.pathname+A.search]},[c,i.unstable_trailingSlashAwareDataRequests,f,r,o,p,e,n,l]),y=L.useMemo(()=>g2(m,o),[m,o]),b=A2(m);return L.createElement(L.Fragment,null,g.map(S=>L.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...t})),y.map(S=>L.createElement("link",{key:S,rel:"modulepreload",href:S,...t})),b.map(({key:S,link:T})=>L.createElement("link",{key:S,nonce:t.nonce,...T,crossOrigin:T.crossOrigin??t.crossOrigin})))}function C2(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var M2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{M2&&(window.__reactRouterVersion="7.13.0")}catch{}function w2({basename:n,children:e,unstable_useTransitions:t,window:r}){let i=L.useRef();i.current==null&&(i.current=oP({window:r,v5Compat:!0}));let o=i.current,[l,c]=L.useState({action:o.action,location:o.location}),f=L.useCallback(h=>{t===!1?c(h):L.startTransition(()=>c(h))},[t]);return L.useLayoutEffect(()=>o.listen(f),[o,f]),L.createElement(n2,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:o,unstable_useTransitions:t})}var Mw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ti=L.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:o,replace:l,state:c,target:f,to:h,preventScrollReset:p,viewTransition:m,unstable_defaultShouldRevalidate:g,...y},b){let{basename:S,unstable_useTransitions:T}=L.useContext(ei),A=typeof h=="string"&&Mw.test(h),M=mw(h,S);h=M.to;let w=UP(h,{relative:i}),[x,N,z]=E2(r,y),P=D2(h,{replace:l,state:c,target:f,preventScrollReset:p,relative:i,viewTransition:m,unstable_defaultShouldRevalidate:g,unstable_useTransitions:T});function k(B){e&&e(B),B.defaultPrevented||P(B)}let j=L.createElement("a",{...y,...z,href:M.absoluteURL||w,onClick:M.isExternal||o?e:k,ref:C2(b,N),target:f,"data-discover":!A&&t==="render"?"true":void 0});return x&&!A?L.createElement(L.Fragment,null,j,L.createElement(T2,{page:w})):j});Ti.displayName="Link";var x2=L.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:o,to:l,viewTransition:c,children:f,...h},p){let m=Wc(l,{relative:h.relative}),g=xs(),y=L.useContext(Qh),{navigator:b,basename:S}=L.useContext(ei),T=y!=null&&L2(m)&&c===!0,A=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,M=g.pathname,w=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;t||(M=M.toLowerCase(),w=w?w.toLowerCase():null,A=A.toLowerCase()),w&&S&&(w=ha(w,S)||w);const x=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let N=M===A||!i&&M.startsWith(A)&&M.charAt(x)==="/",z=w!=null&&(w===A||!i&&w.startsWith(A)&&w.charAt(A.length)==="/"),P={isActive:N,isPending:z,isTransitioning:T},k=N?e:void 0,j;typeof r=="function"?j=r(P):j=[r,N?"active":null,z?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let B=typeof o=="function"?o(P):o;return L.createElement(Ti,{...h,"aria-current":k,className:j,ref:p,style:B,to:l,viewTransition:c},typeof f=="function"?f(P):f)});x2.displayName="NavLink";var _2=L.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:o,method:l=Hd,action:c,onSubmit:f,relative:h,preventScrollReset:p,viewTransition:m,unstable_defaultShouldRevalidate:g,...y},b)=>{let{unstable_useTransitions:S}=L.useContext(ei),T=P2(),A=j2(c,{relative:h}),M=l.toLowerCase()==="get"?"get":"post",w=typeof c=="string"&&Mw.test(c),x=N=>{if(f&&f(N),N.defaultPrevented)return;N.preventDefault();let z=N.nativeEvent.submitter,P=z?.getAttribute("formmethod")||l,k=()=>T(z||N.currentTarget,{fetcherKey:e,method:P,navigate:t,replace:i,state:o,relative:h,preventScrollReset:p,viewTransition:m,unstable_defaultShouldRevalidate:g});S&&t!==!1?L.startTransition(()=>k()):k()};return L.createElement("form",{ref:b,method:M,action:A,onSubmit:r?f:x,...y,"data-discover":!w&&n==="render"?"true":void 0})});_2.displayName="Form";function k2(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ww(n){let e=L.useContext(Vl);return jt(e,k2(n)),e}function D2(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:o,viewTransition:l,unstable_defaultShouldRevalidate:c,unstable_useTransitions:f}={}){let h=HP(),p=xs(),m=Wc(n,{relative:o});return L.useCallback(g=>{if(l2(g,e)){g.preventDefault();let y=t!==void 0?t:Mc(p)===Mc(m),b=()=>h(n,{replace:y,state:r,preventScrollReset:i,relative:o,viewTransition:l,unstable_defaultShouldRevalidate:c});f?L.startTransition(()=>b()):b()}},[p,h,m,t,r,e,n,i,o,l,c,f])}var N2=0,R2=()=>`__${String(++N2)}__`;function P2(){let{router:n}=ww("useSubmit"),{basename:e}=L.useContext(ei),t=QP(),r=n.fetch,i=n.navigate;return L.useCallback(async(o,l={})=>{let{action:c,method:f,encType:h,formData:p,body:m}=f2(o,e);if(l.navigate===!1){let g=l.fetcherKey||R2();await r(g,t,l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:m,formMethod:l.method||f,formEncType:l.encType||h,flushSync:l.flushSync})}else await i(l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:m,formMethod:l.method||f,formEncType:l.encType||h,replace:l.replace,state:l.state,fromRouteId:t,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,i,e,t])}function j2(n,{relative:e}={}){let{basename:t}=L.useContext(ei),r=L.useContext(ga);jt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Wc(n||".",{relative:e})},l=xs();if(n==null){o.search=l.search;let c=new URLSearchParams(o.search),f=c.getAll("index");if(f.some(p=>p==="")){c.delete("index"),f.filter(m=>m).forEach(m=>c.append("index",m));let p=c.toString();o.search=p?`?${p}`:""}}return(!n||n===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:ca([t,o.pathname])),Mc(o)}function L2(n,{relative:e}={}){let t=L.useContext(yw);jt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=ww("useViewTransitionState"),i=Wc(n,{relative:e});if(!t.isTransitioning)return!1;let o=ha(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=ha(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Qd(i.pathname,l)!=null||Qd(i.pathname,o)!=null}var I2=lw();const B2=Xh(I2),z2="ui-nav-menu";var Vg={exports:{}},qg={};var NT;function U2(){if(NT)return qg;NT=1;var n=Vc();function e(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,i=n.useEffect,o=n.useLayoutEffect,l=n.useDebugValue;function c(m,g){var y=g(),b=r({inst:{value:y,getSnapshot:g}}),S=b[0].inst,T=b[1];return o(function(){S.value=y,S.getSnapshot=g,f(S)&&T({inst:S})},[m,y,g]),i(function(){return f(S)&&T({inst:S}),m(function(){f(S)&&T({inst:S})})},[m]),l(y),y}function f(m){var g=m.getSnapshot;m=m.value;try{var y=g();return!t(m,y)}catch{return!0}}function h(m,g){return g()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return qg.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:p,qg}var RT;function xw(){return RT||(RT=1,Vg.exports=U2()),Vg.exports}var _w=xw();function xn(n){this.content=n}xn.prototype={constructor:xn,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,t){var r=t&&t!=n?this.remove(t):this,i=r.find(n),o=r.content.slice();return i==-1?o.push(t||n,e):(o[i+1]=e,t&&(o[i]=t)),new xn(o)},remove:function(n){var e=this.find(n);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new xn(t)},addToStart:function(n,e){return new xn([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new xn(t)},addBefore:function(n,e,t){var r=this.remove(e),i=r.content.slice(),o=r.find(n);return i.splice(o==-1?i.length:o,0,e,t),new xn(i)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=xn.from(n),n.size?new xn(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=xn.from(n),n.size?new xn(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=xn.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}};xn.from=function(n){if(n instanceof xn)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new xn(e)};function kw(n,e,t){for(let r=0;;r++){if(r==n.childCount||r==e.childCount)return n.childCount==e.childCount?null:t;let i=n.child(r),o=e.child(r);if(i==o){t+=i.nodeSize;continue}if(!i.sameMarkup(o))return t;if(i.isText&&i.text!=o.text){for(let l=0;i.text[l]==o.text[l];l++)t++;return t}if(i.content.size||o.content.size){let l=kw(i.content,o.content,t+1);if(l!=null)return l}t+=i.nodeSize}}function Dw(n,e,t,r){for(let i=n.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:t,b:r};let l=n.child(--i),c=e.child(--o),f=l.nodeSize;if(l==c){t-=f,r-=f;continue}if(!l.sameMarkup(c))return{a:t,b:r};if(l.isText&&l.text!=c.text){let h=0,p=Math.min(l.text.length,c.text.length);for(;h<p&&l.text[l.text.length-h-1]==c.text[c.text.length-h-1];)h++,t--,r--;return{a:t,b:r}}if(l.content.size||c.content.size){let h=Dw(l.content,c.content,t-1,r-1);if(h)return h}t-=f,r-=f}}class se{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,t,r,i=0,o){for(let l=0,c=0;c<t;l++){let f=this.content[l],h=c+f.nodeSize;if(h>e&&r(f,i+c,o||null,l)!==!1&&f.content.size){let p=c+1;f.nodesBetween(Math.max(0,e-p),Math.min(f.content.size,t-p),r,i+p)}c=h}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,r,i){let o="",l=!0;return this.nodesBetween(e,t,(c,f)=>{let h=c.isText?c.text.slice(Math.max(e,f)-f,t-f):c.isLeaf?i?typeof i=="function"?i(c):i:c.type.spec.leafText?c.type.spec.leafText(c):"":"";c.isBlock&&(c.isLeaf&&h||c.isTextblock)&&r&&(l?l=!1:o+=r),o+=h},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,r=e.firstChild,i=this.content.slice(),o=0;for(t.isText&&t.sameMarkup(r)&&(i[i.length-1]=t.withText(t.text+r.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new se(i,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let r=[],i=0;if(t>e)for(let o=0,l=0;l<t;o++){let c=this.content[o],f=l+c.nodeSize;f>e&&((l<e||f>t)&&(c.isText?c=c.cut(Math.max(0,e-l),Math.min(c.text.length,t-l)):c=c.cut(Math.max(0,e-l-1),Math.min(c.content.size,t-l-1))),r.push(c),i+=c.nodeSize),l=f}return new se(r,i)}cutByIndex(e,t){return e==t?se.empty:e==0&&t==this.content.length?this:new se(this.content.slice(e,t))}replaceChild(e,t){let r=this.content[e];if(r==t)return this;let i=this.content.slice(),o=this.size+t.nodeSize-r.nodeSize;return i[e]=t,new se(i,o)}addToStart(e){return new se([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new se(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,r=0;t<this.content.length;t++){let i=this.content[t];e(i,r,t),r+=i.nodeSize}}findDiffStart(e,t=0){return kw(this,e,t)}findDiffEnd(e,t=this.size,r=e.size){return Dw(this,e,t,r)}findIndex(e){if(e==0)return yd(0,e);if(e==this.size)return yd(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let t=0,r=0;;t++){let i=this.child(t),o=r+i.nodeSize;if(o>=e)return o==e?yd(t+1,o):yd(t,r);r=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return se.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new se(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return se.empty;let t,r=0;for(let i=0;i<e.length;i++){let o=e[i];r+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(t||(t=e.slice(0,i)),t[t.length-1]=o.withText(t[t.length-1].text+o.text)):t&&t.push(o)}return new se(t||e,r)}static from(e){if(!e)return se.empty;if(e instanceof se)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new se([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}se.empty=new se([],0);const Gg={index:0,offset:0};function yd(n,e){return Gg.index=n,Gg.offset=e,Gg}function $d(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!$d(n[r],e[r]))return!1}else{for(let r in n)if(!(r in e)||!$d(n[r],e[r]))return!1;for(let r in e)if(!(r in n))return!1}return!0}let Ot=class Mv{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,r=!1;for(let i=0;i<e.length;i++){let o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))t||(t=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(t||(t=e.slice(0,i)),t.push(this),r=!0),t&&t.push(o)}}return t||(t=e.slice()),r||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&$d(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[t.type];if(!r)throw new RangeError(`There is no mark type ${t.type} in this schema`);let i=r.create(t.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(t[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Mv.none;if(e instanceof Mv)return[e];let t=e.slice();return t.sort((r,i)=>r.type.rank-i.type.rank),t}};Ot.none=[];class eh extends Error{}class be{constructor(e,t,r){this.content=e,this.openStart=t,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let r=Rw(this.content,e+this.openStart,t);return r&&new be(r,this.openStart,this.openEnd)}removeBetween(e,t){return new be(Nw(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return be.empty;let r=t.openStart||0,i=t.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new be(se.fromJSON(e,t.content),r,i)}static maxOpen(e,t=!0){let r=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.lastChild)i++;return new be(e,r,i)}}be.empty=new be(se.empty,0,0);function Nw(n,e,t){let{index:r,offset:i}=n.findIndex(e),o=n.maybeChild(r),{index:l,offset:c}=n.findIndex(t);if(i==e||o.isText){if(c!=t&&!n.child(l).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(r!=l)throw new RangeError("Removing non-flat range");return n.replaceChild(r,o.copy(Nw(o.content,e-i-1,t-i-1)))}function Rw(n,e,t,r){let{index:i,offset:o}=n.findIndex(e),l=n.maybeChild(i);if(o==e||l.isText)return r&&!r.canReplace(i,i,t)?null:n.cut(0,e).append(t).append(n.cut(e));let c=Rw(l.content,e-o-1,t,l);return c&&n.replaceChild(i,l.copy(c))}function H2(n,e,t){if(t.openStart>n.depth)throw new eh("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new eh("Inconsistent open depths");return Pw(n,e,t,0)}function Pw(n,e,t,r){let i=n.index(r),o=n.node(r);if(i==e.index(r)&&r<n.depth-t.openStart){let l=Pw(n,e,t,r+1);return o.copy(o.content.replaceChild(i,l))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&n.depth==r&&e.depth==r){let l=n.parent,c=l.content;return bs(l,c.cut(0,n.parentOffset).append(t.content).append(c.cut(e.parentOffset)))}else{let{start:l,end:c}=F2(t,n);return bs(o,Lw(n,l,c,e,r))}else return bs(o,th(n,e,r))}function jw(n,e){if(!e.type.compatibleContent(n.type))throw new eh("Cannot join "+e.type.name+" onto "+n.type.name)}function wv(n,e,t){let r=n.node(t);return jw(r,e.node(t)),r}function vs(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function hc(n,e,t,r){let i=(e||n).node(t),o=0,l=e?e.index(t):i.childCount;n&&(o=n.index(t),n.depth>t?o++:n.textOffset&&(vs(n.nodeAfter,r),o++));for(let c=o;c<l;c++)vs(i.child(c),r);e&&e.depth==t&&e.textOffset&&vs(e.nodeBefore,r)}function bs(n,e){return n.type.checkContent(e),n.copy(e)}function Lw(n,e,t,r,i){let o=n.depth>i&&wv(n,e,i+1),l=r.depth>i&&wv(t,r,i+1),c=[];return hc(null,n,i,c),o&&l&&e.index(i)==t.index(i)?(jw(o,l),vs(bs(o,Lw(n,e,t,r,i+1)),c)):(o&&vs(bs(o,th(n,e,i+1)),c),hc(e,t,i,c),l&&vs(bs(l,th(t,r,i+1)),c)),hc(r,null,i,c),new se(c)}function th(n,e,t){let r=[];if(hc(null,n,t,r),n.depth>t){let i=wv(n,e,t+1);vs(bs(i,th(n,e,t+1)),r)}return hc(e,null,t,r),new se(r)}function F2(n,e){let t=e.depth-n.openStart,i=e.node(t).copy(n.content);for(let o=t-1;o>=0;o--)i=e.node(o).copy(se.from(i));return{start:i.resolveNoCache(n.openStart+t),end:i.resolveNoCache(i.content.size-n.openEnd-t)}}class wc{constructor(e,t,r){this.pos=e,this.path=t,this.parentOffset=r,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(t);return r?e.child(t).cut(r):i}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let r=this.path[t*3],i=t==0?0:this.path[t*3-1]+1;for(let o=0;o<e;o++)i+=r.child(o).nodeSize;return i}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return Ot.none;if(this.textOffset)return e.child(t).marks;let r=e.maybeChild(t-1),i=e.maybeChild(t);if(!r){let c=r;r=i,i=c}let o=r.marks;for(var l=0;l<o.length;l++)o[l].type.spec.inclusive===!1&&(!i||!o[l].isInSet(i.marks))&&(o=o[l--].removeFromSet(o));return o}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let r=t.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!t||t(this.node(r))))return new nh(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let r=[],i=0,o=t;for(let l=e;;){let{index:c,offset:f}=l.content.findIndex(o),h=o-f;if(r.push(l,c,i+f),!h||(l=l.child(c),l.isText))break;o=h-1,i+=f+1}return new wc(t,r,o)}static resolveCached(e,t){let r=PT.get(e);if(r)for(let o=0;o<r.elts.length;o++){let l=r.elts[o];if(l.pos==t)return l}else PT.set(e,r=new V2);let i=r.elts[r.i]=wc.resolve(e,t);return r.i=(r.i+1)%q2,i}}class V2{constructor(){this.elts=[],this.i=0}}const q2=12,PT=new WeakMap;class nh{constructor(e,t,r){this.$from=e,this.$to=t,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const G2=Object.create(null);let oo=class xv{constructor(e,t,r,i=Ot.none){this.type=e,this.attrs=t,this.marks=i,this.content=r||se.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,r,i=0){this.content.nodesBetween(e,t,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,r,i){return this.content.textBetween(e,t,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,r){return this.type==e&&$d(this.attrs,t||e.defaultAttrs||G2)&&Ot.sameSet(this.marks,r||Ot.none)}copy(e=null){return e==this.content?this:new xv(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new xv(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,r=!1){if(e==t)return be.empty;let i=this.resolve(e),o=this.resolve(t),l=r?0:i.sharedDepth(t),c=i.start(l),h=i.node(l).content.cut(i.pos-c,o.pos-c);return new be(h,i.depth-l,o.depth-l)}replace(e,t,r){return H2(this.resolve(e),this.resolve(t),r)}nodeAt(e){for(let t=this;;){let{index:r,offset:i}=t.content.findIndex(e);if(t=t.maybeChild(r),!t)return null;if(i==e||t.isText)return t;e-=i+1}}childAfter(e){let{index:t,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(t),index:t,offset:r};let i=this.content.child(t-1);return{node:i,index:t-1,offset:r-i.nodeSize}}resolve(e){return wc.resolveCached(this,e)}resolveNoCache(e){return wc.resolve(this,e)}rangeHasMark(e,t,r){let i=!1;return t>e&&this.nodesBetween(e,t,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),Iw(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,r=se.empty,i=0,o=r.childCount){let l=this.contentMatchAt(e).matchFragment(r,i,o),c=l&&l.matchFragment(this.content,t);if(!c||!c.validEnd)return!1;for(let f=i;f<o;f++)if(!this.type.allowsMarks(r.child(f).marks))return!1;return!0}canReplaceWith(e,t,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(r),l=o&&o.matchFragment(this.content,t);return l?l.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Ot.none;for(let t=0;t<this.marks.length;t++){let r=this.marks[t];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Ot.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let r;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,r)}let i=se.fromJSON(e,t.content),o=e.nodeType(t.type).create(t.attrs,i,r);return o.type.checkAttrs(o.attrs),o}};oo.prototype.text=void 0;class rh extends oo{constructor(e,t,r,i){if(super(e,t,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Iw(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new rh(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new rh(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function Iw(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class As{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let r=new W2(e,t);if(r.next==null)return As.empty;let i=Bw(r);r.next&&r.err("Unexpected trailing text");let o=$2(Q2(i));return ej(o,r),o}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,r=e.childCount){let i=this;for(let o=t;i&&o<r;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let r=0;r<e.next.length;r++)if(this.next[t].type==e.next[r].type)return!0;return!1}fillBefore(e,t=!1,r=0){let i=[this];function o(l,c){let f=l.matchFragment(e,r);if(f&&(!t||f.validEnd))return se.from(c.map(h=>h.createAndFill()));for(let h=0;h<l.next.length;h++){let{type:p,next:m}=l.next[h];if(!(p.isText||p.hasRequiredAttrs())&&i.indexOf(m)==-1){i.push(m);let g=o(m,c.concat(p));if(g)return g}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(e)){let l=[];for(let c=i;c.type;c=c.via)l.push(c.type);return l.reverse()}for(let l=0;l<o.next.length;l++){let{type:c,next:f}=o.next[l];!c.isLeaf&&!c.hasRequiredAttrs()&&!(c.name in t)&&(!i.type||f.validEnd)&&(r.push({match:c.contentMatch,type:c,via:i}),t[c.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&t(r.next[i].next)}return t(this),e.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let l=0;l<r.next.length;l++)o+=(l?", ":"")+r.next[l].type.name+"->"+e.indexOf(r.next[l].next);return o}).join(`
`)}}As.empty=new As(!0);class W2{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function Bw(n){let e=[];do e.push(Y2(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function Y2(n){let e=[];do e.push(K2(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function K2(n){let e=X2(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=Z2(n,e);else break;return e}function jT(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function Z2(n,e){let t=jT(n),r=t;return n.eat(",")&&(n.next!="}"?r=jT(n):r=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:r,expr:e}}function J2(n,e){let t=n.nodeTypes,r=t[e];if(r)return[r];let i=[];for(let o in t){let l=t[o];l.isInGroup(e)&&i.push(l)}return i.length==0&&n.err("No node type or group '"+e+"' found"),i}function X2(n){if(n.eat("(")){let e=Bw(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let e=J2(n,n.next).map(t=>(n.inline==null?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function Q2(n){let e=[[]];return i(o(n,0),t()),e;function t(){return e.push([])-1}function r(l,c,f){let h={term:f,to:c};return e[l].push(h),h}function i(l,c){l.forEach(f=>f.to=c)}function o(l,c){if(l.type=="choice")return l.exprs.reduce((f,h)=>f.concat(o(h,c)),[]);if(l.type=="seq")for(let f=0;;f++){let h=o(l.exprs[f],c);if(f==l.exprs.length-1)return h;i(h,c=t())}else if(l.type=="star"){let f=t();return r(c,f),i(o(l.expr,f),f),[r(f)]}else if(l.type=="plus"){let f=t();return i(o(l.expr,c),f),i(o(l.expr,f),f),[r(f)]}else{if(l.type=="opt")return[r(c)].concat(o(l.expr,c));if(l.type=="range"){let f=c;for(let h=0;h<l.min;h++){let p=t();i(o(l.expr,f),p),f=p}if(l.max==-1)i(o(l.expr,f),f);else for(let h=l.min;h<l.max;h++){let p=t();r(f,p),i(o(l.expr,f),p),f=p}return[r(f)]}else{if(l.type=="name")return[r(c,void 0,l.value)];throw new Error("Unknown expr type")}}}}function zw(n,e){return e-n}function LT(n,e){let t=[];return r(e),t.sort(zw);function r(i){let o=n[i];if(o.length==1&&!o[0].term)return r(o[0].to);t.push(i);for(let l=0;l<o.length;l++){let{term:c,to:f}=o[l];!c&&t.indexOf(f)==-1&&r(f)}}}function $2(n){let e=Object.create(null);return t(LT(n,0));function t(r){let i=[];r.forEach(l=>{n[l].forEach(({term:c,to:f})=>{if(!c)return;let h;for(let p=0;p<i.length;p++)i[p][0]==c&&(h=i[p][1]);LT(n,f).forEach(p=>{h||i.push([c,h=[]]),h.indexOf(p)==-1&&h.push(p)})})});let o=e[r.join(",")]=new As(r.indexOf(n.length-1)>-1);for(let l=0;l<i.length;l++){let c=i[l][1].sort(zw);o.next.push({type:i[l][0],next:e[c.join(",")]||t(c)})}return o}}function ej(n,e){for(let t=0,r=[n];t<r.length;t++){let i=r[t],o=!i.validEnd,l=[];for(let c=0;c<i.next.length;c++){let{type:f,next:h}=i.next[c];l.push(f.name),o&&!(f.isText||f.hasRequiredAttrs())&&(o=!1),r.indexOf(h)==-1&&r.push(h)}o&&e.err("Only non-generatable nodes ("+l.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function Uw(n){let e=Object.create(null);for(let t in n){let r=n[t];if(!r.hasDefault)return null;e[t]=r.default}return e}function Hw(n,e){let t=Object.create(null);for(let r in n){let i=e&&e[r];if(i===void 0){let o=n[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}t[r]=i}return t}function Fw(n,e,t,r){for(let i in e)if(!(i in n))throw new RangeError(`Unsupported attribute ${i} for ${t} of type ${i}`);for(let i in n){let o=n[i];o.validate&&o.validate(e[i])}}function Vw(n,e){let t=Object.create(null);if(e)for(let r in e)t[r]=new nj(n,r,e[r]);return t}let IT=class qw{constructor(e,t,r){this.name=e,this.schema=t,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=Vw(e,r.attrs),this.defaultAttrs=Uw(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==As.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:Hw(this.attrs,e)}create(e=null,t,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new oo(this,this.computeAttrs(e),se.from(t),Ot.setFrom(r))}createChecked(e=null,t,r){return t=se.from(t),this.checkContent(t),new oo(this,this.computeAttrs(e),t,Ot.setFrom(r))}createAndFill(e=null,t,r){if(e=this.computeAttrs(e),t=se.from(t),t.size){let l=this.contentMatch.fillBefore(t);if(!l)return null;t=l.append(t)}let i=this.contentMatch.matchFragment(t),o=i&&i.fillBefore(se.empty,!0);return o?new oo(this,e,t.append(o),Ot.setFrom(r)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){Fw(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?t&&t.push(e[r]):t||(t=e.slice(0,r));return t?t.length?t:Ot.none:e}static compile(e,t){let r=Object.create(null);e.forEach((o,l)=>r[o]=new qw(o,t,l));let i=t.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function tj(n,e,t){let r=t.split("|");return i=>{let o=i===null?"null":typeof i;if(r.indexOf(o)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${n}, got ${o}`)}}class nj{constructor(e,t,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?tj(e,t,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class ep{constructor(e,t,r,i){this.name=e,this.rank=t,this.schema=r,this.spec=i,this.attrs=Vw(e,i.attrs),this.excluded=null;let o=Uw(this.attrs);this.instance=o?new Ot(this,o):null}create(e=null){return!e&&this.instance?this.instance:new Ot(this,Hw(this.attrs,e))}static compile(e,t){let r=Object.create(null),i=0;return e.forEach((o,l)=>r[o]=new ep(o,i++,t,l)),r}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){Fw(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class Gw{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let i in e)t[i]=e[i];t.nodes=xn.from(e.nodes),t.marks=xn.from(e.marks||{}),this.nodes=IT.compile(this.spec.nodes,this),this.marks=ep.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],l=o.spec.content||"",c=o.spec.marks;if(o.contentMatch=r[l]||(r[l]=As.parse(l,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=c=="_"?null:c?BT(this,c.split(" ")):c==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],l=o.spec.excludes;o.excluded=l==null?[o]:l==""?[]:BT(this,l.split(" "))}this.nodeFromJSON=i=>oo.fromJSON(this,i),this.markFromJSON=i=>Ot.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof IT){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,r,i)}text(e,t){let r=this.nodes.text;return new rh(r,r.defaultAttrs,e,Ot.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function BT(n,e){let t=[];for(let r=0;r<e.length;r++){let i=e[r],o=n.marks[i],l=o;if(o)t.push(o);else for(let c in n.marks){let f=n.marks[c];(i=="_"||f.spec.group&&f.spec.group.split(" ").indexOf(i)>-1)&&t.push(l=f)}if(!l)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return t}function rj(n){return n.tag!=null}function ij(n){return n.style!=null}class so{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let r=this.matchedStyles=[];t.forEach(i=>{if(rj(i))this.tags.push(i);else if(ij(i)){let o=/[^=]*/.exec(i.style)[0];r.indexOf(o)<0&&r.push(o),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let o=e.nodes[i.node];return o.contentMatch.matchType(o)})}parse(e,t={}){let r=new UT(this,t,!1);return r.addAll(e,Ot.none,t.from,t.to),r.finish()}parseSlice(e,t={}){let r=new UT(this,t,!0);return r.addAll(e,Ot.none,t.from,t.to),be.maxOpen(r.finish())}matchTag(e,t,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(sj(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||t.matchesContext(o.context))){if(o.getAttrs){let l=o.getAttrs(e);if(l===!1)continue;o.attrs=l||void 0}return o}}}matchStyle(e,t,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let l=this.styles[o],c=l.style;if(!(c.indexOf(e)!=0||l.context&&!r.matchesContext(l.context)||c.length>e.length&&(c.charCodeAt(e.length)!=61||c.slice(e.length+1)!=t))){if(l.getAttrs){let f=l.getAttrs(t);if(f===!1)continue;l.attrs=f||void 0}return l}}}static schemaRules(e){let t=[];function r(i){let o=i.priority==null?50:i.priority,l=0;for(;l<t.length;l++){let c=t[l];if((c.priority==null?50:c.priority)<o)break}t.splice(l,0,i)}for(let i in e.marks){let o=e.marks[i].spec.parseDOM;o&&o.forEach(l=>{r(l=HT(l)),l.mark||l.ignore||l.clearMark||(l.mark=i)})}for(let i in e.nodes){let o=e.nodes[i].spec.parseDOM;o&&o.forEach(l=>{r(l=HT(l)),l.node||l.ignore||l.mark||(l.node=i)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new so(e,so.schemaRules(e)))}}const Ww={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},aj={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Yw={ol:!0,ul:!0},xc=1,_v=2,pc=4;function zT(n,e,t){return e!=null?(e?xc:0)|(e==="full"?_v:0):n&&n.whitespace=="pre"?xc|_v:t&~pc}class vd{constructor(e,t,r,i,o,l){this.type=e,this.attrs=t,this.marks=r,this.solid=i,this.options=l,this.content=[],this.activeMarks=Ot.none,this.match=o||(l&pc?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(se.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&xc)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let t=se.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(se.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Ww.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class UT{constructor(e,t,r){this.parser=e,this.options=t,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=t.topNode,o,l=zT(null,t.preserveWhitespace,0)|(r?pc:0);i?o=new vd(i.type,i.attrs,Ot.none,!0,t.topMatch||i.type.contentMatch,l):r?o=new vd(null,null,Ot.none,!0,null,l):o=new vd(e.schema.topNodeType,null,Ot.none,!0,null,l),this.nodes=[o],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let r=e.nodeValue,i=this.top,o=i.options&_v?"full":this.localPreserveWS||(i.options&xc)>0,{schema:l}=this.parser;if(o==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(o)if(o==="full")r=r.replace(/\r\n?/g,`
`);else if(l.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(l.linebreakReplacement.create())){let c=r.split(/\r?\n|\r/);for(let f=0;f<c.length;f++)f&&this.insertNode(l.linebreakReplacement.create(),t,!0),c[f]&&this.insertNode(l.text(c[f]),t,!/\S/.test(c[f]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let c=i.content[i.content.length-1],f=e.previousSibling;(!c||f&&f.nodeName=="BR"||c.isText&&/[ \t\r\n\u000c]$/.test(c.text))&&(r=r.slice(1))}r&&this.insertNode(l.text(r),t,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,t,r){let i=this.localPreserveWS,o=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let l=e.nodeName.toLowerCase(),c;Yw.hasOwnProperty(l)&&this.parser.normalizeLists&&oj(e);let f=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(c=this.parser.matchTag(e,this,r));e:if(f?f.ignore:aj.hasOwnProperty(l))this.findInside(e),this.ignoreFallback(e,t);else if(!f||f.skip||f.closeParent){f&&f.closeParent?this.open=Math.max(0,this.open-1):f&&f.skip.nodeType&&(e=f.skip);let h,p=this.needsBlock;if(Ww.hasOwnProperty(l))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),h=!0,o.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let m=f&&f.skip?t:this.readStyles(e,t);m&&this.addAll(e,m),h&&this.sync(o),this.needsBlock=p}else{let h=this.readStyles(e,t);h&&this.addElementByRule(e,f,h,f.consuming===!1?c:void 0)}this.localPreserveWS=i}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let o=this.parser.matchedStyles[i],l=r.getPropertyValue(o);if(l)for(let c=void 0;;){let f=this.parser.matchStyle(o,l,this,c);if(!f)break;if(f.ignore)return null;if(f.clearMark?t=t.filter(h=>!f.clearMark(h)):t=t.concat(this.parser.schema.marks[f.mark].create(f.attrs)),f.consuming===!1)c=f;else break}}return t}addElementByRule(e,t,r,i){let o,l;if(t.node)if(l=this.parser.schema.nodes[t.node],l.isLeaf)this.insertNode(l.create(t.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let f=this.enter(l,t.attrs||null,r,t.preserveWhitespace);f&&(o=!0,r=f)}else{let f=this.parser.schema.marks[t.mark];r=r.concat(f.create(t.attrs))}let c=this.top;if(l&&l.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(f=>this.insertNode(f,r,!1));else{let f=e;typeof t.contentElement=="string"?f=e.querySelector(t.contentElement):typeof t.contentElement=="function"?f=t.contentElement(e):t.contentElement&&(f=t.contentElement),this.findAround(e,f,!0),this.addAll(f,r),this.findAround(e,f,!1)}o&&this.sync(c)&&this.open--}addAll(e,t,r,i){let o=r||0;for(let l=r?e.childNodes[r]:e.firstChild,c=i==null?null:e.childNodes[i];l!=c;l=l.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(l,t);this.findAtPoint(e,o)}findPlace(e,t,r){let i,o;for(let l=this.open,c=0;l>=0;l--){let f=this.nodes[l],h=f.findWrapping(e);if(h&&(!i||i.length>h.length+c)&&(i=h,o=f,!h.length))break;if(f.solid){if(r)break;c+=2}}if(!i)return null;this.sync(o);for(let l=0;l<i.length;l++)t=this.enterInner(i[l],null,t,!1);return t}insertNode(e,t,r){if(e.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(t=this.enterInner(o,null,t))}let i=this.findPlace(e,t,r);if(i){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(e.type));let l=Ot.none;for(let c of i.concat(e.marks))(o.type?o.type.allowsMarkType(c.type):FT(c.type,e.type))&&(l=c.addToSet(l));return o.content.push(e.mark(l)),!0}return!1}enter(e,t,r,i){let o=this.findPlace(e.create(t),r,!1);return o&&(o=this.enterInner(e,t,r,!0,i)),o}enterInner(e,t,r,i=!1,o){this.closeExtra();let l=this.top;l.match=l.match&&l.match.matchType(e);let c=zT(e,o,l.options);l.options&pc&&l.content.length==0&&(c|=pc);let f=Ot.none;return r=r.filter(h=>(l.type?l.type.allowsMarkType(h.type):FT(h.type,e))?(f=h.addToSet(f),!1):!0),this.nodes.push(new vd(e,t,f,i,null,c)),this.open++,r}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=xc)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let r=this.nodes[t].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==t&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,r){if(e!=t&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&t.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),l=(c,f)=>{for(;c>=0;c--){let h=t[c];if(h==""){if(c==t.length-1||c==0)continue;for(;f>=o;f--)if(l(c-1,f))return!0;return!1}else{let p=f>0||f==0&&i?this.nodes[f].type:r&&f>=o?r.node(f-o).type:null;if(!p||p.name!=h&&!p.isInGroup(h))return!1;f--}}return!0};return l(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let r=this.parser.schema.nodes[t];if(r.isTextblock&&r.defaultAttrs)return r}}}function oj(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&Yw.hasOwnProperty(r)&&t?(t.appendChild(e),e=t):r=="li"?t=e:r&&(t=null)}}function sj(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function HT(n){let e={};for(let t in n)e[t]=n[t];return e}function FT(n,e){let t=e.schema.nodes;for(let r in t){let i=t[r];if(!i.allowsMarkType(n))continue;let o=[],l=c=>{o.push(c);for(let f=0;f<c.edgeCount;f++){let{type:h,next:p}=c.edge(f);if(h==e||o.indexOf(p)<0&&l(p))return!0}};if(l(i.contentMatch))return!0}}class _s{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},r){r||(r=Wg(t).createDocumentFragment());let i=r,o=[];return e.forEach(l=>{if(o.length||l.marks.length){let c=0,f=0;for(;c<o.length&&f<l.marks.length;){let h=l.marks[f];if(!this.marks[h.type.name]){f++;continue}if(!h.eq(o[c][0])||h.type.spec.spanning===!1)break;c++,f++}for(;c<o.length;)i=o.pop()[1];for(;f<l.marks.length;){let h=l.marks[f++],p=this.serializeMark(h,l.isInline,t);p&&(o.push([h,i]),i.appendChild(p.dom),i=p.contentDOM||p.dom)}}i.appendChild(this.serializeNodeInner(l,t))}),r}serializeNodeInner(e,t){let{dom:r,contentDOM:i}=Vd(Wg(t),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,i)}return r}serializeNode(e,t={}){let r=this.serializeNodeInner(e,t);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,t);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,t,r={}){let i=this.marks[e.type.name];return i&&Vd(Wg(r),i(e,t),null,e.attrs)}static renderSpec(e,t,r=null,i){return Vd(e,t,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new _s(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=VT(e.nodes);return t.text||(t.text=r=>r.text),t}static marksFromSchema(e){return VT(e.marks)}}function VT(n){let e={};for(let t in n){let r=n[t].spec.toDOM;r&&(e[t]=r)}return e}function Wg(n){return n.document||window.document}const qT=new WeakMap;function lj(n){let e=qT.get(n);return e===void 0&&qT.set(n,e=uj(n)),e}function uj(n){let e=null;function t(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)t(r[i]);else for(let i in r)t(r[i])}return t(n),e}function Vd(n,e,t,r){if(typeof e=="string")return{dom:n.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],o;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(o=lj(r))&&o.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let l=i.indexOf(" ");l>0&&(t=i.slice(0,l),i=i.slice(l+1));let c,f=t?n.createElementNS(t,i):n.createElement(i),h=e[1],p=1;if(h&&typeof h=="object"&&h.nodeType==null&&!Array.isArray(h)){p=2;for(let m in h)if(h[m]!=null){let g=m.indexOf(" ");g>0?f.setAttributeNS(m.slice(0,g),m.slice(g+1),h[m]):m=="style"&&f.style?f.style.cssText=h[m]:f.setAttribute(m,h[m])}}for(let m=p;m<e.length;m++){let g=e[m];if(g===0){if(m<e.length-1||m>p)throw new RangeError("Content hole must be the only child of its parent node");return{dom:f,contentDOM:f}}else{let{dom:y,contentDOM:b}=Vd(n,g,t,r);if(f.appendChild(y),b){if(c)throw new RangeError("Multiple content holes");c=b}}}return{dom:f,contentDOM:c}}const Kw=65535,Zw=Math.pow(2,16);function cj(n,e){return n+e*Zw}function GT(n){return n&Kw}function fj(n){return(n-(n&Kw))/Zw}const Jw=1,Xw=2,qd=4,Qw=8;class kv{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&Qw)>0}get deletedBefore(){return(this.delInfo&(Jw|qd))>0}get deletedAfter(){return(this.delInfo&(Xw|qd))>0}get deletedAcross(){return(this.delInfo&qd)>0}}class kr{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&kr.empty)return kr.empty}recover(e){let t=0,r=GT(e);if(!this.inverted)for(let i=0;i<r;i++)t+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+t+fj(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let i=0,o=this.inverted?2:1,l=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let f=this.ranges[c]-(this.inverted?i:0);if(f>e)break;let h=this.ranges[c+o],p=this.ranges[c+l],m=f+h;if(e<=m){let g=h?e==f?-1:e==m?1:t:t,y=f+i+(g<0?0:p);if(r)return y;let b=e==(t<0?f:m)?null:cj(c/3,e-f),S=e==f?Xw:e==m?Jw:qd;return(t<0?e!=f:e!=m)&&(S|=Qw),new kv(y,S,b)}i+=p-h}return r?e+i:new kv(e+i,0,null)}touches(e,t){let r=0,i=GT(t),o=this.inverted?2:1,l=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let f=this.ranges[c]-(this.inverted?r:0);if(f>e)break;let h=this.ranges[c+o],p=f+h;if(e<=p&&c==i*3)return!0;r+=this.ranges[c+l]-h}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let l=this.ranges[i],c=l-(this.inverted?o:0),f=l+(this.inverted?0:o),h=this.ranges[i+t],p=this.ranges[i+r];e(c,c+h,f,f+p),o+=p-h}}invert(){return new kr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?kr.empty:new kr(e<0?[0,-e,0]:[0,0,e])}}kr.empty=new kr([]);class _c{constructor(e,t,r=0,i=e?e.length:0){this.mirror=t,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new _c(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),t!=null&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,r=this._maps.length;t<e._maps.length;t++){let i=e.getMirror(t);this.appendMap(e._maps[t],i!=null&&i<t?r+i:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,r=this._maps.length+e._maps.length;t>=0;t--){let i=e.getMirror(t);this.appendMap(e._maps[t].invert(),i!=null&&i>t?r-i-1:void 0)}}invert(){let e=new _c;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,r){let i=0;for(let o=this.from;o<this.to;o++){let l=this._maps[o],c=l.mapResult(e,t);if(c.recover!=null){let f=this.getMirror(o);if(f!=null&&f>o&&f<this.to){o=f,e=this._maps[f].recover(c.recover);continue}}i|=c.delInfo,e=c.pos}return r?e:new kv(e,i,null)}}const Yg=Object.create(null);class zn{getMap(){return kr.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Yg[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in Yg)throw new RangeError("Duplicate use of step JSON ID "+e);return Yg[e]=t,t.prototype.jsonID=e,t}}class tn{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new tn(e,null)}static fail(e){return new tn(null,e)}static fromReplace(e,t,r,i){try{return tn.ok(e.replace(t,r,i))}catch(o){if(o instanceof eh)return tn.fail(o.message);throw o}}}function w0(n,e,t){let r=[];for(let i=0;i<n.childCount;i++){let o=n.child(i);o.content.size&&(o=o.copy(w0(o.content,e,o))),o.isInline&&(o=e(o,t,i)),r.push(o)}return se.fromArray(r)}class ro extends zn{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new be(w0(t.content,(l,c)=>!l.isAtom||!c.type.allowsMarkType(this.mark.type)?l:l.mark(this.mark.addToSet(l.marks)),i),t.openStart,t.openEnd);return tn.fromReplace(e,this.from,this.to,o)}invert(){return new hi(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new ro(t.pos,r.pos,this.mark)}merge(e){return e instanceof ro&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ro(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new ro(t.from,t.to,e.markFromJSON(t.mark))}}zn.jsonID("addMark",ro);class hi extends zn{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new be(w0(t.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),t.openStart,t.openEnd);return tn.fromReplace(e,this.from,this.to,r)}invert(){return new ro(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new hi(t.pos,r.pos,this.mark)}merge(e){return e instanceof hi&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new hi(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new hi(t.from,t.to,e.markFromJSON(t.mark))}}zn.jsonID("removeMark",hi);class io extends zn{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return tn.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return tn.fromReplace(e,this.pos,this.pos+1,new be(se.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let i=0;i<t.marks.length;i++)if(!t.marks[i].isInSet(r))return new io(this.pos,t.marks[i]);return new io(this.pos,this.mark)}}return new Os(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new io(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new io(t.pos,e.markFromJSON(t.mark))}}zn.jsonID("addNodeMark",io);class Os extends zn{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return tn.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return tn.fromReplace(e,this.pos,this.pos+1,new be(se.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new io(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Os(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Os(t.pos,e.markFromJSON(t.mark))}}zn.jsonID("removeNodeMark",Os);class dn extends zn{constructor(e,t,r,i=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=i}apply(e){return this.structure&&Dv(e,this.from,this.to)?tn.fail("Structure replace would overwrite content"):tn.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new kr([this.from,this.to-this.from,this.slice.size])}invert(e){return new dn(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new dn(t.pos,Math.max(t.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof dn)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?be.empty:new be(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new dn(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?be.empty:new be(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new dn(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new dn(t.from,t.to,be.fromJSON(e,t.slice),!!t.structure)}}zn.jsonID("replace",dn);class pn extends zn{constructor(e,t,r,i,o,l,c=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=l,this.structure=c}apply(e){if(this.structure&&(Dv(e,this.from,this.gapFrom)||Dv(e,this.gapTo,this.to)))return tn.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return tn.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?tn.fromReplace(e,this.from,this.to,r):tn.fail("Content does not fit in gap")}getMap(){return new kr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new pn(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||i<t.pos||o>r.pos?null:new pn(t.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new pn(t.from,t.to,t.gapFrom,t.gapTo,be.fromJSON(e,t.slice),t.insert,!!t.structure)}}zn.jsonID("replaceAround",pn);function Dv(n,e,t){let r=n.resolve(e),i=t-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let l=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!l||l.isLeaf)return!0;l=l.firstChild,i--}}return!1}function dj(n,e,t,r){let i=[],o=[],l,c;n.doc.nodesBetween(e,t,(f,h,p)=>{if(!f.isInline)return;let m=f.marks;if(!r.isInSet(m)&&p.type.allowsMarkType(r.type)){let g=Math.max(h,e),y=Math.min(h+f.nodeSize,t),b=r.addToSet(m);for(let S=0;S<m.length;S++)m[S].isInSet(b)||(l&&l.to==g&&l.mark.eq(m[S])?l.to=y:i.push(l=new hi(g,y,m[S])));c&&c.to==g?c.to=y:o.push(c=new ro(g,y,r))}}),i.forEach(f=>n.step(f)),o.forEach(f=>n.step(f))}function hj(n,e,t,r){let i=[],o=0;n.doc.nodesBetween(e,t,(l,c)=>{if(!l.isInline)return;o++;let f=null;if(r instanceof ep){let h=l.marks,p;for(;p=r.isInSet(h);)(f||(f=[])).push(p),h=p.removeFromSet(h)}else r?r.isInSet(l.marks)&&(f=[r]):f=l.marks;if(f&&f.length){let h=Math.min(c+l.nodeSize,t);for(let p=0;p<f.length;p++){let m=f[p],g;for(let y=0;y<i.length;y++){let b=i[y];b.step==o-1&&m.eq(i[y].style)&&(g=b)}g?(g.to=h,g.step=o):i.push({style:m,from:Math.max(c,e),to:h,step:o})}}}),i.forEach(l=>n.step(new hi(l.from,l.to,l.style)))}function x0(n,e,t,r=t.contentMatch,i=!0){let o=n.doc.nodeAt(e),l=[],c=e+1;for(let f=0;f<o.childCount;f++){let h=o.child(f),p=c+h.nodeSize,m=r.matchType(h.type);if(!m)l.push(new dn(c,p,be.empty));else{r=m;for(let g=0;g<h.marks.length;g++)t.allowsMarkType(h.marks[g].type)||n.step(new hi(c,p,h.marks[g]));if(i&&h.isText&&t.whitespace!="pre"){let g,y=/\r?\n|\r/g,b;for(;g=y.exec(h.text);)b||(b=new be(se.from(t.schema.text(" ",t.allowedMarks(h.marks))),0,0)),l.push(new dn(c+g.index,c+g.index+g[0].length,b))}}c=p}if(!r.validEnd){let f=r.fillBefore(se.empty,!0);n.replace(c,c,new be(f,0,0))}for(let f=l.length-1;f>=0;f--)n.step(l[f])}function pj(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function ql(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth,i=0,o=0;;--r){let l=n.$from.node(r),c=n.$from.index(r)+i,f=n.$to.indexAfter(r)-o;if(r<n.depth&&l.canReplace(c,f,t))return r;if(r==0||l.type.spec.isolating||!pj(l,c,f))break;c&&(i=1),f<l.childCount&&(o=1)}return null}function mj(n,e,t){let{$from:r,$to:i,depth:o}=e,l=r.before(o+1),c=i.after(o+1),f=l,h=c,p=se.empty,m=0;for(let b=o,S=!1;b>t;b--)S||r.index(b)>0?(S=!0,p=se.from(r.node(b).copy(p)),m++):f--;let g=se.empty,y=0;for(let b=o,S=!1;b>t;b--)S||i.after(b+1)<i.end(b)?(S=!0,g=se.from(i.node(b).copy(g)),y++):h++;n.step(new pn(f,h,l,c,new be(p.append(g),m,y),p.size-m,!0))}function _0(n,e,t=null,r=n){let i=gj(n,e),o=i&&yj(r,e);return o?i.map(WT).concat({type:e,attrs:t}).concat(o.map(WT)):null}function WT(n){return{type:n,attrs:null}}function gj(n,e){let{parent:t,startIndex:r,endIndex:i}=n,o=t.contentMatchAt(r).findWrapping(e);if(!o)return null;let l=o.length?o[0]:e;return t.canReplaceWith(r,i,l)?o:null}function yj(n,e){let{parent:t,startIndex:r,endIndex:i}=n,o=t.child(r),l=e.contentMatch.findWrapping(o.type);if(!l)return null;let f=(l.length?l[l.length-1]:e).contentMatch;for(let h=r;f&&h<i;h++)f=f.matchType(t.child(h).type);return!f||!f.validEnd?null:l}function vj(n,e,t){let r=se.empty;for(let l=t.length-1;l>=0;l--){if(r.size){let c=t[l].type.contentMatch.matchFragment(r);if(!c||!c.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=se.from(t[l].type.create(t[l].attrs,r))}let i=e.start,o=e.end;n.step(new pn(i,o,i,o,new be(r,0,0),t.length,!0))}function bj(n,e,t,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=n.steps.length;n.doc.nodesBetween(e,t,(l,c)=>{let f=typeof i=="function"?i(l):i;if(l.isTextblock&&!l.hasMarkup(r,f)&&Sj(n.doc,n.mapping.slice(o).map(c),r)){let h=null;if(r.schema.linebreakReplacement){let y=r.whitespace=="pre",b=!!r.contentMatch.matchType(r.schema.linebreakReplacement);y&&!b?h=!1:!y&&b&&(h=!0)}h===!1&&ex(n,l,c,o),x0(n,n.mapping.slice(o).map(c,1),r,void 0,h===null);let p=n.mapping.slice(o),m=p.map(c,1),g=p.map(c+l.nodeSize,1);return n.step(new pn(m,g,m+1,g-1,new be(se.from(r.create(f,null,l.marks)),0,0),1,!0)),h===!0&&$w(n,l,c,o),!1}})}function $w(n,e,t,r){e.forEach((i,o)=>{if(i.isText){let l,c=/\r?\n|\r/g;for(;l=c.exec(i.text);){let f=n.mapping.slice(r).map(t+1+o+l.index);n.replaceWith(f,f+1,e.type.schema.linebreakReplacement.create())}}})}function ex(n,e,t,r){e.forEach((i,o)=>{if(i.type==i.type.schema.linebreakReplacement){let l=n.mapping.slice(r).map(t+1+o);n.replaceWith(l,l+1,e.type.schema.text(`
`))}})}function Sj(n,e,t){let r=n.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,t)}function Ej(n,e,t,r,i){let o=n.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");t||(t=o.type);let l=t.create(r,null,i||o.marks);if(o.isLeaf)return n.replaceWith(e,e+o.nodeSize,l);if(!t.validContent(o.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new pn(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new be(se.from(l),0,0),1,!0))}function fa(n,e,t=1,r){let i=n.resolve(e),o=i.depth-t,l=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!l.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let h=i.depth-1,p=t-2;h>o;h--,p--){let m=i.node(h),g=i.index(h);if(m.type.spec.isolating)return!1;let y=m.content.cutByIndex(g,m.childCount),b=r&&r[p+1];b&&(y=y.replaceChild(0,b.type.create(b.attrs)));let S=r&&r[p]||m;if(!m.canReplace(g+1,m.childCount)||!S.type.validContent(y))return!1}let c=i.indexAfter(o),f=r&&r[0];return i.node(o).canReplaceWith(c,c,f?f.type:i.node(o+1).type)}function Tj(n,e,t=1,r){let i=n.doc.resolve(e),o=se.empty,l=se.empty;for(let c=i.depth,f=i.depth-t,h=t-1;c>f;c--,h--){o=se.from(i.node(c).copy(o));let p=r&&r[h];l=se.from(p?p.type.create(p.attrs,l):i.node(c).copy(l))}n.step(new dn(e,e,new be(o.append(l),t,t),!0))}function go(n,e){let t=n.resolve(e),r=t.index();return tx(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function Aj(n,e){e.content.size||n.type.compatibleContent(e.type);let t=n.contentMatchAt(n.childCount),{linebreakReplacement:r}=n.type.schema;for(let i=0;i<e.childCount;i++){let o=e.child(i),l=o.type==r?n.type.schema.nodes.text:o.type;if(t=t.matchType(l),!t||!n.type.allowsMarks(o.marks))return!1}return t.validEnd}function tx(n,e){return!!(n&&e&&!n.isLeaf&&Aj(n,e))}function tp(n,e,t=-1){let r=n.resolve(e);for(let i=r.depth;;i--){let o,l,c=r.index(i);if(i==r.depth?(o=r.nodeBefore,l=r.nodeAfter):t>0?(o=r.node(i+1),c++,l=r.node(i).maybeChild(c)):(o=r.node(i).maybeChild(c-1),l=r.node(i+1)),o&&!o.isTextblock&&tx(o,l)&&r.node(i).canReplace(c,c+1))return e;if(i==0)break;e=t<0?r.before(i):r.after(i)}}function Oj(n,e,t){let r=null,{linebreakReplacement:i}=n.doc.type.schema,o=n.doc.resolve(e-t),l=o.node().type;if(i&&l.inlineContent){let p=l.whitespace=="pre",m=!!l.contentMatch.matchType(i);p&&!m?r=!1:!p&&m&&(r=!0)}let c=n.steps.length;if(r===!1){let p=n.doc.resolve(e+t);ex(n,p.node(),p.before(),c)}l.inlineContent&&x0(n,e+t-1,l,o.node().contentMatchAt(o.index()),r==null);let f=n.mapping.slice(c),h=f.map(e-t);if(n.step(new dn(h,f.map(e+t,-1),be.empty,!0)),r===!0){let p=n.doc.resolve(h);$w(n,p.node(),p.before(),n.steps.length)}return n}function Cj(n,e,t){let r=n.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),t))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,t))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,t))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function nx(n,e,t){let r=n.resolve(e);if(!t.content.size)return e;let i=t.content;for(let o=0;o<t.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(t.openStart==0&&t.size?2:1);o++)for(let l=r.depth;l>=0;l--){let c=l==r.depth?0:r.pos<=(r.start(l+1)+r.end(l+1))/2?-1:1,f=r.index(l)+(c>0?1:0),h=r.node(l),p=!1;if(o==1)p=h.canReplace(f,f,i);else{let m=h.contentMatchAt(f).findWrapping(i.firstChild.type);p=m&&h.canReplaceWith(f,f,m[0])}if(p)return c==0?r.pos:c<0?r.before(l+1):r.after(l+1)}return null}function np(n,e,t=e,r=be.empty){if(e==t&&!r.size)return null;let i=n.resolve(e),o=n.resolve(t);return rx(i,o,r)?new dn(e,t,r):new Mj(i,o,r).fit()}function rx(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}class Mj{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=se.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=se.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let h=this.findFittable();h?this.placeNodes(h):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let o=this.placed,l=r.depth,c=i.depth;for(;l&&c&&o.childCount==1;)o=o.firstChild.content,l--,c--;let f=new be(o,l,c);return e>-1?new pn(r.pos,e,this.$to.pos,this.$to.end(),f,t):f.size||r.pos!=this.$to.pos?new dn(r.pos,i.pos,f):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let o=t.firstChild;if(t.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){e=r;break}t=o.content}for(let t=1;t<=2;t++)for(let r=t==1?e:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=Kg(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let l=i.firstChild;for(let c=this.depth;c>=0;c--){let{type:f,match:h}=this.frontier[c],p,m=null;if(t==1&&(l?h.matchType(l.type)||(m=h.fillBefore(se.from(l),!1)):o&&f.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:c,parent:o,inject:m};if(t==2&&l&&(p=h.findWrapping(l.type)))return{sliceDepth:r,frontierDepth:c,parent:o,wrap:p};if(o&&h.matchType(o.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=Kg(e,t);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new be(e,t+1,Math.max(r,i.size+t>=e.size-r?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=Kg(e,t);if(i.childCount<=1&&t>0){let o=e.size-t<=t+i.size;this.unplaced=new be(ic(e,t-1,1),t-1,o?t-1:r)}else this.unplaced=new be(ic(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:i,wrap:o}){for(;this.depth>t;)this.closeFrontierNode();if(o)for(let S=0;S<o.length;S++)this.openFrontierNode(o[S]);let l=this.unplaced,c=r?r.content:l.content,f=l.openStart-e,h=0,p=[],{match:m,type:g}=this.frontier[t];if(i){for(let S=0;S<i.childCount;S++)p.push(i.child(S));m=m.matchFragment(i)}let y=c.size+e-(l.content.size-l.openEnd);for(;h<c.childCount;){let S=c.child(h),T=m.matchType(S.type);if(!T)break;h++,(h>1||f==0||S.content.size)&&(m=T,p.push(ix(S.mark(g.allowedMarks(S.marks)),h==1?f:0,h==c.childCount?y:-1)))}let b=h==c.childCount;b||(y=-1),this.placed=ac(this.placed,t,se.from(p)),this.frontier[t].match=m,b&&y<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let S=0,T=c;S<y;S++){let A=T.lastChild;this.frontier.push({type:A.type,match:A.contentMatchAt(A.childCount)}),T=A.content}this.unplaced=b?e==0?be.empty:new be(ic(l.content,e-1,1),e-1,y<0?l.openEnd:e-1):new be(ic(l.content,e,h),l.openStart,l.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!Zg(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:i}=this.frontier[t],o=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),l=Zg(e,t,i,r,o);if(l){for(let c=t-1;c>=0;c--){let{match:f,type:h}=this.frontier[c],p=Zg(e,c,h,f,!0);if(!p||p.childCount)continue e}return{depth:t,fit:l,move:o?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=ac(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let i=e.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,t=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=ac(this.placed,this.depth,se.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(se.empty,!0);t.childCount&&(this.placed=ac(this.placed,this.frontier.length,t))}}function ic(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(ic(n.firstChild.content,e-1,t)))}function ac(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(ac(n.lastChild.content,e-1,t)))}function Kg(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function ix(n,e,t){if(e<=0)return n;let r=n.content;return e>1&&(r=r.replaceChild(0,ix(r.firstChild,e-1,r.childCount==1?t-1:0))),e>0&&(r=n.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(se.empty,!0)))),n.copy(r)}function Zg(n,e,t,r,i){let o=n.node(e),l=i?n.indexAfter(e):n.index(e);if(l==o.childCount&&!t.compatibleContent(o.type))return null;let c=r.fillBefore(o.content,!0,l);return c&&!wj(t,o.content,l)?c:null}function wj(n,e,t){for(let r=t;r<e.childCount;r++)if(!n.allowsMarks(e.child(r).marks))return!0;return!1}function xj(n){return n.spec.defining||n.spec.definingForContent}function _j(n,e,t,r){if(!r.size)return n.deleteRange(e,t);let i=n.doc.resolve(e),o=n.doc.resolve(t);if(rx(i,o,r))return n.step(new dn(e,t,r));let l=ox(i,o);l[l.length-1]==0&&l.pop();let c=-(i.depth+1);l.unshift(c);for(let g=i.depth,y=i.pos-1;g>0;g--,y--){let b=i.node(g).type.spec;if(b.defining||b.definingAsContext||b.isolating)break;l.indexOf(g)>-1?c=g:i.before(g)==y&&l.splice(1,0,-g)}let f=l.indexOf(c),h=[],p=r.openStart;for(let g=r.content,y=0;;y++){let b=g.firstChild;if(h.push(b),y==r.openStart)break;g=b.content}for(let g=p-1;g>=0;g--){let y=h[g],b=xj(y.type);if(b&&!y.sameMarkup(i.node(Math.abs(c)-1)))p=g;else if(b||!y.type.isTextblock)break}for(let g=r.openStart;g>=0;g--){let y=(g+p+1)%(r.openStart+1),b=h[y];if(b)for(let S=0;S<l.length;S++){let T=l[(S+f)%l.length],A=!0;T<0&&(A=!1,T=-T);let M=i.node(T-1),w=i.index(T-1);if(M.canReplaceWith(w,w,b.type,b.marks))return n.replace(i.before(T),A?o.after(T):t,new be(ax(r.content,0,r.openStart,y),y,r.openEnd))}}let m=n.steps.length;for(let g=l.length-1;g>=0&&(n.replace(e,t,r),!(n.steps.length>m));g--){let y=l[g];y<0||(e=i.before(y),t=o.after(y))}}function ax(n,e,t,r,i){if(e<t){let o=n.firstChild;n=n.replaceChild(0,o.copy(ax(o.content,e+1,t,r,o)))}if(e>r){let o=i.contentMatchAt(0),l=o.fillBefore(n).append(n);n=l.append(o.matchFragment(l).fillBefore(se.empty,!0))}return n}function kj(n,e,t,r){if(!r.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let i=Cj(n.doc,e,r.type);i!=null&&(e=t=i)}n.replaceRange(e,t,new be(se.from(r),0,0))}function Dj(n,e,t){let r=n.doc.resolve(e),i=n.doc.resolve(t),o=ox(r,i);for(let l=0;l<o.length;l++){let c=o[l],f=l==o.length-1;if(f&&c==0||r.node(c).type.contentMatch.validEnd)return n.delete(r.start(c),i.end(c));if(c>0&&(f||r.node(c-1).canReplace(r.index(c-1),i.indexAfter(c-1))))return n.delete(r.before(c),i.after(c))}for(let l=1;l<=r.depth&&l<=i.depth;l++)if(e-r.start(l)==r.depth-l&&t>r.end(l)&&i.end(l)-t!=i.depth-l&&r.start(l-1)==i.start(l-1)&&r.node(l-1).canReplace(r.index(l-1),i.index(l-1)))return n.delete(r.before(l),t);n.delete(e,t)}function ox(n,e){let t=[],r=Math.min(n.depth,e.depth);for(let i=r;i>=0;i--){let o=n.start(i);if(o<n.pos-(n.depth-i)||e.end(i)>e.pos+(e.depth-i)||n.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==n.depth&&i==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&t.push(i)}return t}class xl extends zn{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return tn.fail("No node at attribute step's position");let r=Object.create(null);for(let o in t.attrs)r[o]=t.attrs[o];r[this.attr]=this.value;let i=t.type.create(r,null,t.marks);return tn.fromReplace(e,this.pos,this.pos+1,new be(se.from(i),0,t.isLeaf?0:1))}getMap(){return kr.empty}invert(e){return new xl(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new xl(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new xl(t.pos,t.attr,t.value)}}zn.jsonID("attr",xl);class kc extends zn{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let i in e.attrs)t[i]=e.attrs[i];t[this.attr]=this.value;let r=e.type.create(t,e.content,e.marks);return tn.ok(r)}getMap(){return kr.empty}invert(e){return new kc(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new kc(t.attr,t.value)}}zn.jsonID("docAttr",kc);let Pl=class extends Error{};Pl=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};Pl.prototype=Object.create(Error.prototype);Pl.prototype.constructor=Pl;Pl.prototype.name="TransformError";class sx{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new _c}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new Pl(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}changedRange(){let e=1e9,t=-1e9;for(let r=0;r<this.mapping.maps.length;r++){let i=this.mapping.maps[r];r&&(e=i.map(e,1),t=i.map(t,-1)),i.forEach((o,l,c,f)=>{e=Math.min(e,c),t=Math.max(t,f)})}return e==1e9?null:{from:e,to:t}}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,r=be.empty){let i=np(this.doc,e,t,r);return i&&this.step(i),this}replaceWith(e,t,r){return this.replace(e,t,new be(se.from(r),0,0))}delete(e,t){return this.replace(e,t,be.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,r){return _j(this,e,t,r),this}replaceRangeWith(e,t,r){return kj(this,e,t,r),this}deleteRange(e,t){return Dj(this,e,t),this}lift(e,t){return mj(this,e,t),this}join(e,t=1){return Oj(this,e,t),this}wrap(e,t){return vj(this,e,t),this}setBlockType(e,t=e,r,i=null){return bj(this,e,t,r,i),this}setNodeMarkup(e,t,r=null,i){return Ej(this,e,t,r,i),this}setNodeAttribute(e,t,r){return this.step(new xl(e,t,r)),this}setDocAttribute(e,t){return this.step(new kc(e,t)),this}addNodeMark(e,t){return this.step(new io(e,t)),this}removeNodeMark(e,t){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(t instanceof Ot)t.isInSet(r.marks)&&this.step(new Os(e,t));else{let i=r.marks,o,l=[];for(;o=t.isInSet(i);)l.push(new Os(e,o)),i=o.removeFromSet(i);for(let c=l.length-1;c>=0;c--)this.step(l[c])}return this}split(e,t=1,r){return Tj(this,e,t,r),this}addMark(e,t,r){return dj(this,e,t,r),this}removeMark(e,t,r){return hj(this,e,t,r),this}clearIncompatible(e,t,r){return x0(this,e,t,r),this}}const Jg=Object.create(null);class Ke{constructor(e,t,r){this.$anchor=e,this.$head=t,this.ranges=r||[new Nj(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=be.empty){let r=t.content.lastChild,i=null;for(let c=0;c<t.openEnd;c++)i=r,r=r.lastChild;let o=e.steps.length,l=this.ranges;for(let c=0;c<l.length;c++){let{$from:f,$to:h}=l[c],p=e.mapping.slice(o);e.replaceRange(p.map(f.pos),p.map(h.pos),c?be.empty:t),c==0&&ZT(e,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,t){let r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:l,$to:c}=i[o],f=e.mapping.slice(r),h=f.map(l.pos),p=f.map(c.pos);o?e.deleteRange(h,p):(e.replaceRangeWith(h,p,t),ZT(e,r,t.isInline?-1:1))}}static findFrom(e,t,r=!1){let i=e.parent.inlineContent?new Le(e):Al(e.node(0),e.parent,e.pos,e.index(),t,r);if(i)return i;for(let o=e.depth-1;o>=0;o--){let l=t<0?Al(e.node(0),e.node(o),e.before(o+1),e.index(o),t,r):Al(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,t,r);if(l)return l}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new Dr(e.node(0))}static atStart(e){return Al(e,e,0,0,1)||new Dr(e)}static atEnd(e){return Al(e,e,e.content.size,e.childCount,-1)||new Dr(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Jg[t.type];if(!r)throw new RangeError(`No selection type ${t.type} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in Jg)throw new RangeError("Duplicate use of selection JSON ID "+e);return Jg[e]=t,t.prototype.jsonID=e,t}getBookmark(){return Le.between(this.$anchor,this.$head).getBookmark()}}Ke.prototype.visible=!0;class Nj{constructor(e,t){this.$from=e,this.$to=t}}let YT=!1;function KT(n){!YT&&!n.parent.inlineContent&&(YT=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class Le extends Ke{constructor(e,t=e){KT(e),KT(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return Ke.near(r);let i=e.resolve(t.map(this.anchor));return new Le(i.parent.inlineContent?i:r,r)}replace(e,t=be.empty){if(super.replace(e,t),t==be.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Le&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new rp(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Le(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){let i=e.resolve(t);return new this(i,r==t?i:e.resolve(r))}static between(e,t,r){let i=e.pos-t.pos;if((!r||i)&&(r=i>=0?1:-1),!t.parent.inlineContent){let o=Ke.findFrom(t,r,!0)||Ke.findFrom(t,-r,!0);if(o)t=o.$head;else return Ke.near(t,r)}return e.parent.inlineContent||(i==0?e=t:(e=(Ke.findFrom(e,-r,!0)||Ke.findFrom(e,r,!0)).$anchor,e.pos<t.pos!=i<0&&(e=t))),new Le(e,t)}}Ke.jsonID("text",Le);class rp{constructor(e,t){this.anchor=e,this.head=t}map(e){return new rp(e.map(this.anchor),e.map(this.head))}resolve(e){return Le.between(e.resolve(this.anchor),e.resolve(this.head))}}class ke extends Ke{constructor(e){let t=e.nodeAfter,r=e.node(0).resolve(e.pos+t.nodeSize);super(e,r),this.node=t}map(e,t){let{deleted:r,pos:i}=t.mapResult(this.anchor),o=e.resolve(i);return r?Ke.near(o):new ke(o)}content(){return new be(se.from(this.node),0,0)}eq(e){return e instanceof ke&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new k0(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ke(e.resolve(t.anchor))}static create(e,t){return new ke(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}ke.prototype.visible=!1;Ke.jsonID("node",ke);class k0{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:r}=e.mapResult(this.anchor);return t?new rp(r,r):new k0(r)}resolve(e){let t=e.resolve(this.anchor),r=t.nodeAfter;return r&&ke.isSelectable(r)?new ke(t):Ke.near(t)}}class Dr extends Ke{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=be.empty){if(t==be.empty){e.delete(0,e.doc.content.size);let r=Ke.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new Dr(e)}map(e){return new Dr(e)}eq(e){return e instanceof Dr}getBookmark(){return Rj}}Ke.jsonID("all",Dr);const Rj={map(){return this},resolve(n){return new Dr(n)}};function Al(n,e,t,r,i,o=!1){if(e.inlineContent)return Le.create(n,t);for(let l=r-(i>0?0:1);i>0?l<e.childCount:l>=0;l+=i){let c=e.child(l);if(c.isAtom){if(!o&&ke.isSelectable(c))return ke.create(n,t-(i<0?c.nodeSize:0))}else{let f=Al(n,c,t+i,i<0?c.childCount:0,i,o);if(f)return f}t+=c.nodeSize*i}return null}function ZT(n,e,t){let r=n.steps.length-1;if(r<e)return;let i=n.steps[r];if(!(i instanceof dn||i instanceof pn))return;let o=n.mapping.maps[r],l;o.forEach((c,f,h,p)=>{l==null&&(l=p)}),n.setSelection(Ke.near(n.doc.resolve(l),t))}const JT=1,bd=2,XT=4;class Pj extends sx{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|JT)&~bd,this.storedMarks=null,this}get selectionSet(){return(this.updated&JT)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=bd,this}ensureMarks(e){return Ot.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&bd)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~bd,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let r=this.selection;return t&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Ot.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,r){let i=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=t),!e)return this.deleteRange(t,r);let o=this.storedMarks;if(!o){let l=this.doc.resolve(t);o=r==t?l.marks():l.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(t,r,i.text(e,o)),!this.selection.empty&&this.selection.to==t+e.length&&this.setSelection(Ke.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=XT,this}get scrolledIntoView(){return(this.updated&XT)>0}}function QT(n,e){return!e||!n?n:n.bind(e)}class oc{constructor(e,t,r){this.name=e,this.init=QT(t.init,r),this.apply=QT(t.apply,r)}}const jj=[new oc("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new oc("selection",{init(n,e){return n.selection||Ke.atStart(e.doc)},apply(n){return n.selection}}),new oc("storedMarks",{init(n){return n.storedMarks||null},apply(n,e,t,r){return r.selection.$cursor?n.storedMarks:null}}),new oc("scrollToSelection",{init(){return 0},apply(n,e){return n.scrolledIntoView?e+1:e}})];class Xg{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=jj.slice(),t&&t.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new oc(r.key,r.spec.state,r))})}}class Ml{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=t){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],r=this.applyInner(e),i=null;for(;;){let o=!1;for(let l=0;l<this.config.plugins.length;l++){let c=this.config.plugins[l];if(c.spec.appendTransaction){let f=i?i[l].n:0,h=i?i[l].state:this,p=f<t.length&&c.spec.appendTransaction.call(c,f?t.slice(f):t,h,r);if(p&&r.filterTransaction(p,l)){if(p.setMeta("appendedTransaction",e),!i){i=[];for(let m=0;m<this.config.plugins.length;m++)i.push(m<l?{state:r,n:t.length}:{state:this,n:0})}t.push(p),r=r.applyInner(p),o=!0}i&&(i[l]={state:r,n:t.length})}}if(!o)return{state:r,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new Ml(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];t[o.name]=o.apply(e,this[o.name],this,t)}return t}get tr(){return new Pj(this)}static create(e){let t=new Xg(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Ml(t);for(let i=0;i<t.fields.length;i++)r[t.fields[i].name]=t.fields[i].init(e,r);return r}reconfigure(e){let t=new Xg(this.schema,e.plugins),r=t.fields,i=new Ml(t);for(let o=0;o<r.length;o++){let l=r[o].name;i[l]=this.hasOwnProperty(l)?this[l]:r[o].init(e,i)}return i}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],o=i.spec.state;o&&o.toJSON&&(t[r]=o.toJSON.call(i,this[i.key]))}return t}static fromJSON(e,t,r){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new Xg(e.schema,e.plugins),o=new Ml(i);return i.fields.forEach(l=>{if(l.name=="doc")o.doc=oo.fromJSON(e.schema,t.doc);else if(l.name=="selection")o.selection=Ke.fromJSON(o.doc,t.selection);else if(l.name=="storedMarks")t.storedMarks&&(o.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let c in r){let f=r[c],h=f.spec.state;if(f.key==l.name&&h&&h.fromJSON&&Object.prototype.hasOwnProperty.call(t,c)){o[l.name]=h.fromJSON.call(f,e,t[c],o);return}}o[l.name]=l.init(e,o)}}),o}}function lx(n,e,t){for(let r in n){let i=n[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=lx(i,e,{})),t[r]=i}return t}class Lt{constructor(e){this.spec=e,this.props={},e.props&&lx(e.props,this,this.props),this.key=e.key?e.key.key:ux("plugin")}getState(e){return e[this.key]}}const Qg=Object.create(null);function ux(n){return n in Qg?n+"$"+ ++Qg[n]:(Qg[n]=0,n+"$")}class un{constructor(e="key"){this.key=ux(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const D0=(n,e)=>n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0);function cx(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}const fx=(n,e,t)=>{let r=cx(n,t);if(!r)return!1;let i=N0(r);if(!i){let l=r.blockRange(),c=l&&ql(l);return c==null?!1:(e&&e(n.tr.lift(l,c).scrollIntoView()),!0)}let o=i.nodeBefore;if(Sx(n,i,e,-1))return!0;if(r.parent.content.size==0&&(jl(o,"end")||ke.isSelectable(o)))for(let l=r.depth;;l--){let c=np(n.doc,r.before(l),r.after(l),be.empty);if(c&&c.slice.size<c.to-c.from){if(e){let f=n.tr.step(c);f.setSelection(jl(o,"end")?Ke.findFrom(f.doc.resolve(f.mapping.map(i.pos,-1)),-1):ke.create(f.doc,i.pos-o.nodeSize)),e(f.scrollIntoView())}return!0}if(l==1||r.node(l-1).childCount>1)break}return o.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1},Lj=(n,e,t)=>{let r=cx(n,t);if(!r)return!1;let i=N0(r);return i?dx(n,i,e):!1},Ij=(n,e,t)=>{let r=px(n,t);if(!r)return!1;let i=R0(r);return i?dx(n,i,e):!1};function dx(n,e,t){let r=e.nodeBefore,i=r,o=e.pos-1;for(;!i.isTextblock;o--){if(i.type.spec.isolating)return!1;let p=i.lastChild;if(!p)return!1;i=p}let l=e.nodeAfter,c=l,f=e.pos+1;for(;!c.isTextblock;f++){if(c.type.spec.isolating)return!1;let p=c.firstChild;if(!p)return!1;c=p}let h=np(n.doc,o,f,be.empty);if(!h||h.from!=o||h instanceof dn&&h.slice.size>=f-o)return!1;if(t){let p=n.tr.step(h);p.setSelection(Le.create(p.doc,o)),t(p.scrollIntoView())}return!0}function jl(n,e,t=!1){for(let r=n;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(t&&r.childCount!=1)return!1}return!1}const hx=(n,e,t)=>{let{$head:r,empty:i}=n.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):r.parentOffset>0)return!1;o=N0(r)}let l=o&&o.nodeBefore;return!l||!ke.isSelectable(l)?!1:(e&&e(n.tr.setSelection(ke.create(n.doc,o.pos-l.nodeSize)).scrollIntoView()),!0)};function N0(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function px(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}const mx=(n,e,t)=>{let r=px(n,t);if(!r)return!1;let i=R0(r);if(!i)return!1;let o=i.nodeAfter;if(Sx(n,i,e,1))return!0;if(r.parent.content.size==0&&(jl(o,"start")||ke.isSelectable(o))){let l=np(n.doc,r.before(),r.after(),be.empty);if(l&&l.slice.size<l.to-l.from){if(e){let c=n.tr.step(l);c.setSelection(jl(o,"start")?Ke.findFrom(c.doc.resolve(c.mapping.map(i.pos)),1):ke.create(c.doc,c.mapping.map(i.pos))),e(c.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},gx=(n,e,t)=>{let{$head:r,empty:i}=n.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size)return!1;o=R0(r)}let l=o&&o.nodeAfter;return!l||!ke.isSelectable(l)?!1:(e&&e(n.tr.setSelection(ke.create(n.doc,o.pos)).scrollIntoView()),!0)};function R0(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const Bj=(n,e)=>{let t=n.selection,r=t instanceof ke,i;if(r){if(t.node.isTextblock||!go(n.doc,t.from))return!1;i=t.from}else if(i=tp(n.doc,t.from,-1),i==null)return!1;if(e){let o=n.tr.join(i);r&&o.setSelection(ke.create(o.doc,i-n.doc.resolve(i).nodeBefore.nodeSize)),e(o.scrollIntoView())}return!0},zj=(n,e)=>{let t=n.selection,r;if(t instanceof ke){if(t.node.isTextblock||!go(n.doc,t.to))return!1;r=t.to}else if(r=tp(n.doc,t.to,1),r==null)return!1;return e&&e(n.tr.join(r).scrollIntoView()),!0},Uj=(n,e)=>{let{$from:t,$to:r}=n.selection,i=t.blockRange(r),o=i&&ql(i);return o==null?!1:(e&&e(n.tr.lift(i,o).scrollIntoView()),!0)},yx=(n,e)=>{let{$head:t,$anchor:r}=n.selection;return!t.parent.type.spec.code||!t.sameParent(r)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)};function P0(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const Hj=(n,e)=>{let{$head:t,$anchor:r}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(r))return!1;let i=t.node(-1),o=t.indexAfter(-1),l=P0(i.contentMatchAt(o));if(!l||!i.canReplaceWith(o,o,l))return!1;if(e){let c=t.after(),f=n.tr.replaceWith(c,c,l.createAndFill());f.setSelection(Ke.near(f.doc.resolve(c),1)),e(f.scrollIntoView())}return!0},vx=(n,e)=>{let t=n.selection,{$from:r,$to:i}=t;if(t instanceof Dr||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=P0(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let l=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,c=n.tr.insert(l,o.createAndFill());c.setSelection(Le.create(c.doc,l+1)),e(c.scrollIntoView())}return!0},bx=(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let o=t.before();if(fa(n.doc,o))return e&&e(n.tr.split(o).scrollIntoView()),!0}let r=t.blockRange(),i=r&&ql(r);return i==null?!1:(e&&e(n.tr.lift(r,i).scrollIntoView()),!0)};function Fj(n){return(e,t)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof ke&&e.selection.node.isBlock)return!r.parentOffset||!fa(e.doc,r.pos)?!1:(t&&t(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let o=[],l,c,f=!1,h=!1;for(let y=r.depth;;y--)if(r.node(y).isBlock){f=r.end(y)==r.pos+(r.depth-y),h=r.start(y)==r.pos-(r.depth-y),c=P0(r.node(y-1).contentMatchAt(r.indexAfter(y-1))),o.unshift(f&&c?{type:c}:null),l=y;break}else{if(y==1)return!1;o.unshift(null)}let p=e.tr;(e.selection instanceof Le||e.selection instanceof Dr)&&p.deleteSelection();let m=p.mapping.map(r.pos),g=fa(p.doc,m,o.length,o);if(g||(o[0]=c?{type:c}:null,g=fa(p.doc,m,o.length,o)),!g)return!1;if(p.split(m,o.length,o),!f&&h&&r.node(l).type!=c){let y=p.mapping.map(r.before(l)),b=p.doc.resolve(y);c&&r.node(l-1).canReplaceWith(b.index(),b.index()+1,c)&&p.setNodeMarkup(p.mapping.map(r.before(l)),c)}return t&&t(p.scrollIntoView()),!0}}const Vj=Fj(),qj=(n,e)=>{let{$from:t,to:r}=n.selection,i,o=t.sharedDepth(r);return o==0?!1:(i=t.before(o),e&&e(n.tr.setSelection(ke.create(n.doc,i))),!0)};function Gj(n,e,t){let r=e.nodeBefore,i=e.nodeAfter,o=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(t&&t(n.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(i.isTextblock||go(n.doc,e.pos))?!1:(t&&t(n.tr.join(e.pos).scrollIntoView()),!0)}function Sx(n,e,t,r){let i=e.nodeBefore,o=e.nodeAfter,l,c,f=i.type.spec.isolating||o.type.spec.isolating;if(!f&&Gj(n,e,t))return!0;let h=!f&&e.parent.canReplace(e.index(),e.index()+1);if(h&&(l=(c=i.contentMatchAt(i.childCount)).findWrapping(o.type))&&c.matchType(l[0]||o.type).validEnd){if(t){let y=e.pos+o.nodeSize,b=se.empty;for(let A=l.length-1;A>=0;A--)b=se.from(l[A].create(null,b));b=se.from(i.copy(b));let S=n.tr.step(new pn(e.pos-1,y,e.pos,y,new be(b,1,0),l.length,!0)),T=S.doc.resolve(y+2*l.length);T.nodeAfter&&T.nodeAfter.type==i.type&&go(S.doc,T.pos)&&S.join(T.pos),t(S.scrollIntoView())}return!0}let p=o.type.spec.isolating||r>0&&f?null:Ke.findFrom(e,1),m=p&&p.$from.blockRange(p.$to),g=m&&ql(m);if(g!=null&&g>=e.depth)return t&&t(n.tr.lift(m,g).scrollIntoView()),!0;if(h&&jl(o,"start",!0)&&jl(i,"end")){let y=i,b=[];for(;b.push(y),!y.isTextblock;)y=y.lastChild;let S=o,T=1;for(;!S.isTextblock;S=S.firstChild)T++;if(y.canReplace(y.childCount,y.childCount,S.content)){if(t){let A=se.empty;for(let w=b.length-1;w>=0;w--)A=se.from(b[w].copy(A));let M=n.tr.step(new pn(e.pos-b.length,e.pos+o.nodeSize,e.pos+T,e.pos+o.nodeSize-T,new be(A,b.length,0),0,!0));t(M.scrollIntoView())}return!0}}return!1}function Ex(n){return function(e,t){let r=e.selection,i=n<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(t&&t(e.tr.setSelection(Le.create(e.doc,n<0?i.start(o):i.end(o)))),!0):!1}}const Wj=Ex(-1),Yj=Ex(1);function Kj(n,e=null){return function(t,r){let{$from:i,$to:o}=t.selection,l=i.blockRange(o),c=l&&_0(l,n,e);return c?(r&&r(t.tr.wrap(l,c).scrollIntoView()),!0):!1}}function $T(n,e=null){return function(t,r){let i=!1;for(let o=0;o<t.selection.ranges.length&&!i;o++){let{$from:{pos:l},$to:{pos:c}}=t.selection.ranges[o];t.doc.nodesBetween(l,c,(f,h)=>{if(i)return!1;if(!(!f.isTextblock||f.hasMarkup(n,e)))if(f.type==n)i=!0;else{let p=t.doc.resolve(h),m=p.index();i=p.parent.canReplaceWith(m,m+1,n)}})}if(!i)return!1;if(r){let o=t.tr;for(let l=0;l<t.selection.ranges.length;l++){let{$from:{pos:c},$to:{pos:f}}=t.selection.ranges[l];o.setBlockType(c,f,n,e)}r(o.scrollIntoView())}return!0}}function j0(...n){return function(e,t,r){for(let i=0;i<n.length;i++)if(n[i](e,t,r))return!0;return!1}}j0(D0,fx,hx);j0(D0,mx,gx);j0(yx,vx,bx,Vj);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function Zj(n,e=null){return function(t,r){let{$from:i,$to:o}=t.selection,l=i.blockRange(o);if(!l)return!1;let c=r?t.tr:null;return Jj(c,l,n,e)?(r&&r(c.scrollIntoView()),!0):!1}}function Jj(n,e,t,r=null){let i=!1,o=e,l=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(t)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let f=l.resolve(e.start-2);o=new nh(f,f,e.depth),e.endIndex<e.parent.childCount&&(e=new nh(e.$from,l.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let c=_0(o,t,r,e);return c?(n&&Xj(n,e,c,i,t),!0):!1}function Xj(n,e,t,r,i){let o=se.empty;for(let p=t.length-1;p>=0;p--)o=se.from(t[p].type.create(t[p].attrs,o));n.step(new pn(e.start-(r?2:0),e.end,e.start,e.end,new be(o,0,0),t.length,!0));let l=0;for(let p=0;p<t.length;p++)t[p].type==i&&(l=p+1);let c=t.length-l,f=e.start+t.length-(r?2:0),h=e.parent;for(let p=e.startIndex,m=e.endIndex,g=!0;p<m;p++,g=!1)!g&&fa(n.doc,f,c)&&(n.split(f,c),f+=2*c),f+=h.child(p).nodeSize;return n}function Qj(n){return function(e,t){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,l=>l.childCount>0&&l.firstChild.type==n);return o?t?r.node(o.depth-1).type==n?$j(e,t,n,o):eL(e,t,o):!0:!1}}function $j(n,e,t,r){let i=n.tr,o=r.end,l=r.$to.end(r.depth);o<l&&(i.step(new pn(o-1,l,o,l,new be(se.from(t.create(null,r.parent.copy())),1,0),1,!0)),r=new nh(i.doc.resolve(r.$from.pos),i.doc.resolve(l),r.depth));const c=ql(r);if(c==null)return!1;i.lift(r,c);let f=i.doc.resolve(i.mapping.map(o,-1)-1);return go(i.doc,f.pos)&&f.nodeBefore.type==f.nodeAfter.type&&i.join(f.pos),e(i.scrollIntoView()),!0}function eL(n,e,t){let r=n.tr,i=t.parent;for(let y=t.end,b=t.endIndex-1,S=t.startIndex;b>S;b--)y-=i.child(b).nodeSize,r.delete(y-1,y+1);let o=r.doc.resolve(t.start),l=o.nodeAfter;if(r.mapping.map(t.end)!=t.start+o.nodeAfter.nodeSize)return!1;let c=t.startIndex==0,f=t.endIndex==i.childCount,h=o.node(-1),p=o.index(-1);if(!h.canReplace(p+(c?0:1),p+1,l.content.append(f?se.empty:se.from(i))))return!1;let m=o.pos,g=m+l.nodeSize;return r.step(new pn(m-(c?1:0),g+(f?1:0),m+1,g-1,new be((c?se.empty:se.from(i.copy(se.empty))).append(f?se.empty:se.from(i.copy(se.empty))),c?0:1,f?0:1),c?0:1)),e(r.scrollIntoView()),!0}function tL(n){return function(e,t){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,h=>h.childCount>0&&h.firstChild.type==n);if(!o)return!1;let l=o.startIndex;if(l==0)return!1;let c=o.parent,f=c.child(l-1);if(f.type!=n)return!1;if(t){let h=f.lastChild&&f.lastChild.type==c.type,p=se.from(h?n.create():null),m=new be(se.from(n.create(null,se.from(c.type.create(null,p)))),h?3:1,0),g=o.start,y=o.end;t(e.tr.step(new pn(g-(h?3:1),y,g,y,m,1,!0)).scrollIntoView())}return!0}}const _n=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},Ll=function(n){let e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e};let Nv=null;const la=function(n,e,t){let r=Nv||(Nv=document.createRange());return r.setEnd(n,t??n.nodeValue.length),r.setStart(n,e||0),r},nL=function(){Nv=null},Cs=function(n,e,t,r){return t&&(eA(n,e,t,r,-1)||eA(n,e,t,r,1))},rL=/^(img|br|input|textarea|hr)$/i;function eA(n,e,t,r,i){for(var o;;){if(n==t&&e==r)return!0;if(e==(i<0?0:Zr(n))){let l=n.parentNode;if(!l||l.nodeType!=1||Yc(n)||rL.test(n.nodeName)||n.contentEditable=="false")return!1;e=_n(n)+(i<0?0:1),n=l}else if(n.nodeType==1){let l=n.childNodes[e+(i<0?-1:0)];if(l.nodeType==1&&l.contentEditable=="false")if(!((o=l.pmViewDesc)===null||o===void 0)&&o.ignoreForSelection)e+=i;else return!1;else n=l,e=i<0?Zr(n):0}else return!1}}function Zr(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function iL(n,e){for(;;){if(n.nodeType==3&&e)return n;if(n.nodeType==1&&e>0){if(n.contentEditable=="false")return null;n=n.childNodes[e-1],e=Zr(n)}else if(n.parentNode&&!Yc(n))e=_n(n),n=n.parentNode;else return null}}function aL(n,e){for(;;){if(n.nodeType==3&&e<n.nodeValue.length)return n;if(n.nodeType==1&&e<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[e],e=0}else if(n.parentNode&&!Yc(n))e=_n(n)+1,n=n.parentNode;else return null}}function oL(n,e,t){for(let r=e==0,i=e==Zr(n);r||i;){if(n==t)return!0;let o=_n(n);if(n=n.parentNode,!n)return!1;r=r&&o==0,i=i&&o==Zr(n)}}function Yc(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const ip=function(n){return n.focusNode&&Cs(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function fs(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function sL(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function lL(n,e,t){if(n.caretPositionFromPoint)try{let r=n.caretPositionFromPoint(e,t);if(r)return{node:r.offsetNode,offset:Math.min(Zr(r.offsetNode),r.offset)}}catch{}if(n.caretRangeFromPoint){let r=n.caretRangeFromPoint(e,t);if(r)return{node:r.startContainer,offset:Math.min(Zr(r.startContainer),r.startOffset)}}}const xi=typeof navigator<"u"?navigator:null,tA=typeof document<"u"?document:null,yo=xi&&xi.userAgent||"",Rv=/Edge\/(\d+)/.exec(yo),Tx=/MSIE \d/.exec(yo),Pv=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(yo),lr=!!(Tx||Pv||Rv),lo=Tx?document.documentMode:Pv?+Pv[1]:Rv?+Rv[1]:0,Qr=!lr&&/gecko\/(\d+)/i.test(yo);Qr&&+(/Firefox\/(\d+)/.exec(yo)||[0,0])[1];const jv=!lr&&/Chrome\/(\d+)/.exec(yo),hn=!!jv,Ax=jv?+jv[1]:0,Dn=!lr&&!!xi&&/Apple Computer/.test(xi.vendor),Il=Dn&&(/Mobile\/\w+/.test(yo)||!!xi&&xi.maxTouchPoints>2),Kr=Il||(xi?/Mac/.test(xi.platform):!1),Ox=xi?/Win/.test(xi.platform):!1,ua=/Android \d/.test(yo),Kc=!!tA&&"webkitFontSmoothing"in tA.documentElement.style,uL=Kc?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function cL(n){let e=n.defaultView&&n.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function Zi(n,e){return typeof n=="number"?n:n[e]}function fL(n){let e=n.getBoundingClientRect(),t=e.width/n.offsetWidth||1,r=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*t,top:e.top,bottom:e.top+n.clientHeight*r}}function nA(n,e,t){let r=n.someProp("scrollThreshold")||0,i=n.someProp("scrollMargin")||5,o=n.dom.ownerDocument;for(let l=t||n.dom;l;){if(l.nodeType!=1){l=Ll(l);continue}let c=l,f=c==o.body,h=f?cL(o):fL(c),p=0,m=0;if(e.top<h.top+Zi(r,"top")?m=-(h.top-e.top+Zi(i,"top")):e.bottom>h.bottom-Zi(r,"bottom")&&(m=e.bottom-e.top>h.bottom-h.top?e.top+Zi(i,"top")-h.top:e.bottom-h.bottom+Zi(i,"bottom")),e.left<h.left+Zi(r,"left")?p=-(h.left-e.left+Zi(i,"left")):e.right>h.right-Zi(r,"right")&&(p=e.right-h.right+Zi(i,"right")),p||m)if(f)o.defaultView.scrollBy(p,m);else{let y=c.scrollLeft,b=c.scrollTop;m&&(c.scrollTop+=m),p&&(c.scrollLeft+=p);let S=c.scrollLeft-y,T=c.scrollTop-b;e={left:e.left-S,top:e.top-T,right:e.right-S,bottom:e.bottom-T}}let g=f?"fixed":getComputedStyle(l).position;if(/^(fixed|sticky)$/.test(g))break;l=g=="absolute"?l.offsetParent:Ll(l)}}function dL(n){let e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),r,i;for(let o=(e.left+e.right)/2,l=t+1;l<Math.min(innerHeight,e.bottom);l+=5){let c=n.root.elementFromPoint(o,l);if(!c||c==n.dom||!n.dom.contains(c))continue;let f=c.getBoundingClientRect();if(f.top>=t-20){r=c,i=f.top;break}}return{refDOM:r,refTop:i,stack:Cx(n.dom)}}function Cx(n){let e=[],t=n.ownerDocument;for(let r=n;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),n!=t);r=Ll(r));return e}function hL({refDOM:n,refTop:e,stack:t}){let r=n?n.getBoundingClientRect().top:0;Mx(t,r==0?0:r-e)}function Mx(n,e){for(let t=0;t<n.length;t++){let{dom:r,top:i,left:o}=n[t];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let gl=null;function pL(n){if(n.setActive)return n.setActive();if(gl)return n.focus(gl);let e=Cx(n);n.focus(gl==null?{get preventScroll(){return gl={preventScroll:!0},!0}}:void 0),gl||(gl=!1,Mx(e,0))}function wx(n,e){let t,r=2e8,i,o=0,l=e.top,c=e.top,f,h;for(let p=n.firstChild,m=0;p;p=p.nextSibling,m++){let g;if(p.nodeType==1)g=p.getClientRects();else if(p.nodeType==3)g=la(p).getClientRects();else continue;for(let y=0;y<g.length;y++){let b=g[y];if(b.top<=l&&b.bottom>=c){l=Math.max(b.bottom,l),c=Math.min(b.top,c);let S=b.left>e.left?b.left-e.left:b.right<e.left?e.left-b.right:0;if(S<r){t=p,r=S,i=S&&t.nodeType==3?{left:b.right<e.left?b.right:b.left,top:e.top}:e,p.nodeType==1&&S&&(o=m+(e.left>=(b.left+b.right)/2?1:0));continue}}else b.top>e.top&&!f&&b.left<=e.left&&b.right>=e.left&&(f=p,h={left:Math.max(b.left,Math.min(b.right,e.left)),top:b.top});!t&&(e.left>=b.right&&e.top>=b.top||e.left>=b.left&&e.top>=b.bottom)&&(o=m+1)}}return!t&&f&&(t=f,i=h,r=0),t&&t.nodeType==3?mL(t,i):!t||r&&t.nodeType==1?{node:n,offset:o}:wx(t,i)}function mL(n,e){let t=n.nodeValue.length,r=document.createRange(),i;for(let o=0;o<t;o++){r.setEnd(n,o+1),r.setStart(n,o);let l=Ka(r,1);if(l.top!=l.bottom&&L0(e,l)){i={node:n,offset:o+(e.left>=(l.left+l.right)/2?1:0)};break}}return r.detach(),i||{node:n,offset:0}}function L0(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function gL(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}function yL(n,e,t){let{node:r,offset:i}=wx(e,t),o=-1;if(r.nodeType==1&&!r.firstChild){let l=r.getBoundingClientRect();o=l.left!=l.right&&t.left>(l.left+l.right)/2?1:-1}return n.docView.posFromDOM(r,i,o)}function vL(n,e,t,r){let i=-1;for(let o=e,l=!1;o!=n.dom;){let c=n.docView.nearestDesc(o,!0),f;if(!c)return null;if(c.dom.nodeType==1&&(c.node.isBlock&&c.parent||!c.contentDOM)&&((f=c.dom.getBoundingClientRect()).width||f.height)&&(c.node.isBlock&&c.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(c.dom.nodeName)&&(!l&&f.left>r.left||f.top>r.top?i=c.posBefore:(!l&&f.right<r.left||f.bottom<r.top)&&(i=c.posAfter),l=!0),!c.contentDOM&&i<0&&!c.node.isText))return(c.node.isBlock?r.top<(f.top+f.bottom)/2:r.left<(f.left+f.right)/2)?c.posBefore:c.posAfter;o=c.dom.parentNode}return i>-1?i:n.docView.posFromDOM(e,t,-1)}function xx(n,e,t){let r=n.childNodes.length;if(r&&t.top<t.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-t.top)/(t.bottom-t.top))-2)),o=i;;){let l=n.childNodes[o];if(l.nodeType==1){let c=l.getClientRects();for(let f=0;f<c.length;f++){let h=c[f];if(L0(e,h))return xx(l,e,h)}}if((o=(o+1)%r)==i)break}return n}function bL(n,e){let t=n.dom.ownerDocument,r,i=0,o=lL(t,e.left,e.top);o&&({node:r,offset:i}=o);let l=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top),c;if(!l||!n.dom.contains(l.nodeType!=1?l.parentNode:l)){let h=n.dom.getBoundingClientRect();if(!L0(e,h)||(l=xx(n.dom,e,h),!l))return null}if(Dn)for(let h=l;r&&h;h=Ll(h))h.draggable&&(r=void 0);if(l=gL(l,e),r){if(Qr&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let p=r.childNodes[i],m;p.nodeName=="IMG"&&(m=p.getBoundingClientRect()).right<=e.left&&m.bottom>e.top&&i++}let h;Kc&&i&&r.nodeType==1&&(h=r.childNodes[i-1]).nodeType==1&&h.contentEditable=="false"&&h.getBoundingClientRect().top>=e.top&&i--,r==n.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?c=n.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(c=vL(n,r,i,e))}c==null&&(c=yL(n,l,e));let f=n.docView.nearestDesc(l,!0);return{pos:c,inside:f?f.posAtStart-f.border:-1}}function rA(n){return n.top<n.bottom||n.left<n.right}function Ka(n,e){let t=n.getClientRects();if(t.length){let r=t[e<0?0:t.length-1];if(rA(r))return r}return Array.prototype.find.call(t,rA)||n.getBoundingClientRect()}const SL=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function _x(n,e,t){let{node:r,offset:i,atom:o}=n.docView.domFromPos(e,t<0?-1:1),l=Kc||Qr;if(r.nodeType==3)if(l&&(SL.test(r.nodeValue)||(t<0?!i:i==r.nodeValue.length))){let f=Ka(la(r,i,i),t);if(Qr&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let h=Ka(la(r,i-1,i-1),-1);if(h.top==f.top){let p=Ka(la(r,i,i+1),-1);if(p.top!=f.top)return Gu(p,p.left<h.left)}}return f}else{let f=i,h=i,p=t<0?1:-1;return t<0&&!i?(h++,p=-1):t>=0&&i==r.nodeValue.length?(f--,p=1):t<0?f--:h++,Gu(Ka(la(r,f,h),p),p<0)}if(!n.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&i&&(t<0||i==Zr(r))){let f=r.childNodes[i-1];if(f.nodeType==1)return $g(f.getBoundingClientRect(),!1)}if(o==null&&i<Zr(r)){let f=r.childNodes[i];if(f.nodeType==1)return $g(f.getBoundingClientRect(),!0)}return $g(r.getBoundingClientRect(),t>=0)}if(o==null&&i&&(t<0||i==Zr(r))){let f=r.childNodes[i-1],h=f.nodeType==3?la(f,Zr(f)-(l?0:1)):f.nodeType==1&&(f.nodeName!="BR"||!f.nextSibling)?f:null;if(h)return Gu(Ka(h,1),!1)}if(o==null&&i<Zr(r)){let f=r.childNodes[i];for(;f.pmViewDesc&&f.pmViewDesc.ignoreForCoords;)f=f.nextSibling;let h=f?f.nodeType==3?la(f,0,l?0:1):f.nodeType==1?f:null:null;if(h)return Gu(Ka(h,-1),!0)}return Gu(Ka(r.nodeType==3?la(r):r,-t),t>=0)}function Gu(n,e){if(n.width==0)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function $g(n,e){if(n.height==0)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function kx(n,e,t){let r=n.state,i=n.root.activeElement;r!=e&&n.updateState(e),i!=n.dom&&n.focus();try{return t()}finally{r!=e&&n.updateState(r),i!=n.dom&&i&&i.focus()}}function EL(n,e,t){let r=e.selection,i=t=="up"?r.$from:r.$to;return kx(n,e,()=>{let{node:o}=n.docView.domFromPos(i.pos,t=="up"?-1:1);for(;;){let c=n.docView.nearestDesc(o,!0);if(!c)break;if(c.node.isBlock){o=c.contentDOM||c.dom;break}o=c.dom.parentNode}let l=_x(n,i.pos,1);for(let c=o.firstChild;c;c=c.nextSibling){let f;if(c.nodeType==1)f=c.getClientRects();else if(c.nodeType==3)f=la(c,0,c.nodeValue.length).getClientRects();else continue;for(let h=0;h<f.length;h++){let p=f[h];if(p.bottom>p.top+1&&(t=="up"?l.top-p.top>(p.bottom-l.top)*2:p.bottom-l.bottom>(l.bottom-p.top)*2))return!1}}return!0})}const TL=/[\u0590-\u08ac]/;function AL(n,e,t){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,l=i==r.parent.content.size,c=n.domSelection();return c?!TL.test(r.parent.textContent)||!c.modify?t=="left"||t=="backward"?o:l:kx(n,e,()=>{let{focusNode:f,focusOffset:h,anchorNode:p,anchorOffset:m}=n.domSelectionRange(),g=c.caretBidiLevel;c.modify("move",t,"character");let y=r.depth?n.docView.domAfterPos(r.before()):n.dom,{focusNode:b,focusOffset:S}=n.domSelectionRange(),T=b&&!y.contains(b.nodeType==1?b:b.parentNode)||f==b&&h==S;try{c.collapse(p,m),f&&(f!=p||h!=m)&&c.extend&&c.extend(f,h)}catch{}return g!=null&&(c.caretBidiLevel=g),T}):r.pos==r.start()||r.pos==r.end()}let iA=null,aA=null,oA=!1;function OL(n,e,t){return iA==e&&aA==t?oA:(iA=e,aA=t,oA=t=="up"||t=="down"?EL(n,e,t):AL(n,e,t))}const $r=0,sA=1,hs=2,_i=3;class Zc{constructor(e,t,r,i){this.parent=e,this.children=t,this.dom=r,this.contentDOM=i,this.dirty=$r,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,r=this.posAtStart;;t++){let i=this.children[t];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,l;if(e==this.contentDOM)o=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((l=o.pmViewDesc)&&l.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(l)+l.size:this.posAtStart}else{let o,l;if(e==this.contentDOM)o=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((l=o.pmViewDesc)&&l.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(l):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=t>_n(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&t==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let r=!0,i=e;i;i=i.parentNode){let o=this.getDesc(i),l;if(o&&(!t||o.node))if(r&&(l=o.nodeDOM)&&!(l.nodeType==1?l.contains(e.nodeType==1?e:e.parentNode):l==e))r=!1;else return o}}getDesc(e){let t=e.pmViewDesc;for(let r=t;r;r=r.parent)if(r==this)return t}posFromDOM(e,t,r){for(let i=e;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(e,t,r)}return-1}descAt(e){for(let t=0,r=0;t<this.children.length;t++){let i=this.children[t],o=r+i.size;if(r==e&&o!=r){for(;!i.border&&i.children.length;)for(let l=0;l<i.children.length;l++){let c=i.children[l];if(c.size){i=c;break}}return i}if(e<o)return i.descAt(e-r-i.border);r=o}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let o=0;r<this.children.length;r++){let l=this.children[r],c=o+l.size;if(c>e||l instanceof Nx){i=e-o;break}o=c}if(i)return this.children[r].domFromPos(i-this.children[r].border,t);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof Dx&&o.side>=0;r--);if(t<=0){let o,l=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,l=!1);return o&&t&&l&&!o.border&&!o.domAtom?o.domFromPos(o.size,t):{node:this.contentDOM,offset:o?_n(o.dom)+1:0}}else{let o,l=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,l=!1);return o&&l&&!o.border&&!o.domAtom?o.domFromPos(0,t):{node:this.contentDOM,offset:o?_n(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let l=r,c=0;;c++){let f=this.children[c],h=l+f.size;if(i==-1&&e<=h){let p=l+f.border;if(e>=p&&t<=h-f.border&&f.node&&f.contentDOM&&this.contentDOM.contains(f.contentDOM))return f.parseRange(e,t,p);e=l;for(let m=c;m>0;m--){let g=this.children[m-1];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(1)){i=_n(g.dom)+1;break}e-=g.size}i==-1&&(i=0)}if(i>-1&&(h>t||c==this.children.length-1)){t=h;for(let p=c+1;p<this.children.length;p++){let m=this.children[p];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(-1)){o=_n(m.dom);break}t+=m.size}o==-1&&(o=this.contentDOM.childNodes.length);break}l=h}return{node:this.contentDOM,from:e,to:t,fromOffset:i,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:r}=this.domFromPos(e,0);if(t.nodeType!=1||r==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[r]}setSelection(e,t,r,i=!1){let o=Math.min(e,t),l=Math.max(e,t);for(let y=0,b=0;y<this.children.length;y++){let S=this.children[y],T=b+S.size;if(o>b&&l<T)return S.setSelection(e-b-S.border,t-b-S.border,r,i);b=T}let c=this.domFromPos(e,e?-1:1),f=t==e?c:this.domFromPos(t,t?-1:1),h=r.root.getSelection(),p=r.domSelectionRange(),m=!1;if((Qr||Dn)&&e==t){let{node:y,offset:b}=c;if(y.nodeType==3){if(m=!!(b&&y.nodeValue[b-1]==`
`),m&&b==y.nodeValue.length)for(let S=y,T;S;S=S.parentNode){if(T=S.nextSibling){T.nodeName=="BR"&&(c=f={node:T.parentNode,offset:_n(T)+1});break}let A=S.pmViewDesc;if(A&&A.node&&A.node.isBlock)break}}else{let S=y.childNodes[b-1];m=S&&(S.nodeName=="BR"||S.contentEditable=="false")}}if(Qr&&p.focusNode&&p.focusNode!=f.node&&p.focusNode.nodeType==1){let y=p.focusNode.childNodes[p.focusOffset];y&&y.contentEditable=="false"&&(i=!0)}if(!(i||m&&Dn)&&Cs(c.node,c.offset,p.anchorNode,p.anchorOffset)&&Cs(f.node,f.offset,p.focusNode,p.focusOffset))return;let g=!1;if((h.extend||e==t)&&!(m&&Qr)){h.collapse(c.node,c.offset);try{e!=t&&h.extend(f.node,f.offset),g=!0}catch{}}if(!g){if(e>t){let b=c;c=f,f=b}let y=document.createRange();y.setEnd(f.node,f.offset),y.setStart(c.node,c.offset),h.removeAllRanges(),h.addRange(y)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],l=r+o.size;if(r==l?e<=l&&t>=r:e<l&&t>r){let c=r+o.border,f=l-o.border;if(e>=c&&t<=f){this.dirty=e==r||t==l?hs:sA,e==c&&t==f&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=_i:o.markDirty(e-c,t-c);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?hs:_i}r=l}this.dirty=hs}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let r=e==1?hs:sA;t.dirty<r&&(t.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class Dx extends Zc{constructor(e,t,r,i){let o,l=t.type.toDOM;if(typeof l=="function"&&(l=l(r,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!t.type.spec.raw){if(l.nodeType!=1){let c=document.createElement("span");c.appendChild(l),l=c}l.contentEditable="false",l.classList.add("ProseMirror-widget")}super(e,[],l,null),this.widget=t,this.widget=t,o=this}matchesWidget(e){return this.dirty==$r&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class CL extends Zc{constructor(e,t,r,i){super(e,[],t,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Ms extends Zc{constructor(e,t,r,i,o){super(e,[],r,i),this.mark=t,this.spec=o}static create(e,t,r,i){let o=i.nodeViews[t.type.name],l=o&&o(t,i,r);return(!l||!l.dom)&&(l=_s.renderSpec(document,t.type.spec.toDOM(t,r),null,t.attrs)),new Ms(e,t,l.dom,l.contentDOM||l.dom,l)}parseRule(){return this.dirty&_i||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=_i&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=$r){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=$r}}slice(e,t,r){let i=Ms.create(this.parent,this.mark,!0,r),o=this.children,l=this.size;t<l&&(o=Iv(o,t,l,r)),e>0&&(o=Iv(o,0,e,r));for(let c=0;c<o.length;c++)o[c].parent=i;return i.children=o,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class uo extends Zc{constructor(e,t,r,i,o,l,c,f,h){super(e,[],o,l),this.node=t,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=c}static create(e,t,r,i,o,l){let c=o.nodeViews[t.type.name],f,h=c&&c(t,o,()=>{if(!f)return l;if(f.parent)return f.parent.posBeforeChild(f)},r,i),p=h&&h.dom,m=h&&h.contentDOM;if(t.isText){if(!p)p=document.createTextNode(t.text);else if(p.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else p||({dom:p,contentDOM:m}=_s.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!m&&!t.isText&&p.nodeName!="BR"&&(p.hasAttribute("contenteditable")||(p.contentEditable="false"),t.type.spec.draggable&&(p.draggable=!0));let g=p;return p=jx(p,r,t),h?f=new ML(e,t,r,i,p,m||null,g,h,o,l+1):t.isText?new ap(e,t,r,i,p,g,o):new uo(e,t,r,i,p,m||null,g,o,l+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let r=this.children[t];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>se.empty)}return e}matchesNode(e,t,r){return this.dirty==$r&&e.eq(this.node)&&ih(t,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let r=this.node.inlineContent,i=t,o=e.composing?this.localCompositionInfo(e,t):null,l=o&&o.pos>-1?o:null,c=o&&o.pos<0,f=new xL(this,l&&l.node,e);DL(this.node,this.innerDeco,(h,p,m)=>{h.spec.marks?f.syncToMarks(h.spec.marks,r,e,p):h.type.side>=0&&!m&&f.syncToMarks(p==this.node.childCount?Ot.none:this.node.child(p).marks,r,e,p),f.placeWidget(h,e,i)},(h,p,m,g)=>{f.syncToMarks(h.marks,r,e,g);let y;f.findNodeMatch(h,p,m,g)||c&&e.state.selection.from>i&&e.state.selection.to<i+h.nodeSize&&(y=f.findIndexWithChild(o.node))>-1&&f.updateNodeAt(h,p,m,y,e)||f.updateNextNode(h,p,m,e,g,i)||f.addNode(h,p,m,e,i),i+=h.nodeSize}),f.syncToMarks([],r,e,0),this.node.isTextblock&&f.addTextblockHacks(),f.destroyRest(),(f.changed||this.dirty==hs)&&(l&&this.protectLocalComposition(e,l),Rx(this.contentDOM,this.children,e),Il&&NL(this.dom))}localCompositionInfo(e,t){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof Le)||r<t||i>t+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let l=o.nodeValue,c=RL(this.node.content,l,r-t,i-t);return c<0?null:{node:o,pos:c,text:l}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:r,text:i}){if(this.getDesc(t))return;let o=t;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let l=new CL(this,o,t,i);e.input.compositionNodes.push(l),this.children=Iv(this.children,r,r+i.length,e,l)}update(e,t,r,i){return this.dirty==_i||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,r,i),!0)}updateInner(e,t,r,i){this.updateOuterDeco(t),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=$r}updateOuterDeco(e){if(ih(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=Px(this.dom,this.nodeDOM,Lv(this.outerDeco,this.node,t),Lv(e,this.node,t)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function lA(n,e,t,r,i){jx(r,e,n);let o=new uo(void 0,n,e,t,r,r,r,i,0);return o.contentDOM&&o.updateChildren(i,0),o}class ap extends uo{constructor(e,t,r,i,o,l,c){super(e,t,r,i,o,null,l,c,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,r,i){return this.dirty==_i||this.dirty!=$r&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=$r||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=$r,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,r){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,r){let i=this.node.cut(e,t),o=document.createTextNode(i.text);return new ap(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=_i)}get domAtom(){return!1}isText(e){return this.node.text==e}}class Nx extends Zc{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==$r&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class ML extends uo{constructor(e,t,r,i,o,l,c,f,h,p){super(e,t,r,i,o,l,c,h,p),this.spec=f}update(e,t,r,i){if(this.dirty==_i)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let o=this.spec.update(e,t,r);return o&&this.updateInner(e,t,r,i),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,r,i){this.spec.setSelection?this.spec.setSelection(e,t,r.root):super.setSelection(e,t,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function Rx(n,e,t){let r=n.firstChild,i=!1;for(let o=0;o<e.length;o++){let l=e[o],c=l.dom;if(c.parentNode==n){for(;c!=r;)r=uA(r),i=!0;r=r.nextSibling}else i=!0,n.insertBefore(c,r);if(l instanceof Ms){let f=r?r.previousSibling:n.lastChild;Rx(l.contentDOM,l.children,t),r=f?f.nextSibling:n.firstChild}}for(;r;)r=uA(r),i=!0;i&&t.trackWrites==n&&(t.trackWrites=null)}const mc=function(n){n&&(this.nodeName=n)};mc.prototype=Object.create(null);const ps=[new mc];function Lv(n,e,t){if(n.length==0)return ps;let r=t?ps[0]:new mc,i=[r];for(let o=0;o<n.length;o++){let l=n[o].type.attrs;if(l){l.nodeName&&i.push(r=new mc(l.nodeName));for(let c in l){let f=l[c];f!=null&&(t&&i.length==1&&i.push(r=new mc(e.isInline?"span":"div")),c=="class"?r.class=(r.class?r.class+" ":"")+f:c=="style"?r.style=(r.style?r.style+";":"")+f:c!="nodeName"&&(r[c]=f))}}}return i}function Px(n,e,t,r){if(t==ps&&r==ps)return e;let i=e;for(let o=0;o<r.length;o++){let l=r[o],c=t[o];if(o){let f;c&&c.nodeName==l.nodeName&&i!=n&&(f=i.parentNode)&&f.nodeName.toLowerCase()==l.nodeName||(f=document.createElement(l.nodeName),f.pmIsDeco=!0,f.appendChild(i),c=ps[0]),i=f}wL(i,c||ps[0],l)}return i}function wL(n,e,t){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in t)&&n.removeAttribute(r);for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&t[r]!=e[r]&&n.setAttribute(r,t[r]);if(e.class!=t.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=t.class?t.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&n.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&n.classList.add(i[o]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)n.style.removeProperty(i[1])}t.style&&(n.style.cssText+=t.style)}}function jx(n,e,t){return Px(n,n,ps,Lv(e,t,n.nodeType!=1))}function ih(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function uA(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class xL{constructor(e,t,r){this.lock=t,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=_L(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let r=e;r<t;r++)this.top.children[r].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,r,i){let o=0,l=this.stack.length>>1,c=Math.min(l,e.length);for(;o<c&&(o==l-1?this.top:this.stack[o+1<<1]).matchesMark(e[o])&&e[o].type.spec.spanning!==!1;)o++;for(;o<l;)this.destroyRest(),this.top.dirty=$r,this.index=this.stack.pop(),this.top=this.stack.pop(),l--;for(;l<e.length;){this.stack.push(this.top,this.index+1);let f=-1,h=this.top.children.length;i<this.preMatch.index&&(h=Math.min(this.index+3,h));for(let p=this.index;p<h;p++){let m=this.top.children[p];if(m.matchesMark(e[l])&&!this.isLocked(m.dom)){f=p;break}}if(f>-1)f>this.index&&(this.changed=!0,this.destroyBetween(this.index,f)),this.top=this.top.children[this.index];else{let p=Ms.create(this.top,e[l],t,r);this.top.children.splice(this.index,0,p),this.top=p,this.changed=!0}this.index=0,l++}}findNodeMatch(e,t,r,i){let o=-1,l;if(i>=this.preMatch.index&&(l=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&l.matchesNode(e,t,r))o=this.top.children.indexOf(l,this.index);else for(let c=this.index,f=Math.min(this.top.children.length,c+5);c<f;c++){let h=this.top.children[c];if(h.matchesNode(e,t,r)&&!this.preMatch.matched.has(h)){o=c;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,t,r,i,o){let l=this.top.children[i];return l.dirty==_i&&l.dom==l.contentDOM&&(l.dirty=hs),l.update(e,t,r,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=t}}updateNextNode(e,t,r,i,o,l){for(let c=this.index;c<this.top.children.length;c++){let f=this.top.children[c];if(f instanceof uo){let h=this.preMatch.matched.get(f);if(h!=null&&h!=o)return!1;let p=f.dom,m,g=this.isLocked(p)&&!(e.isText&&f.node&&f.node.isText&&f.nodeDOM.nodeValue==e.text&&f.dirty!=_i&&ih(t,f.outerDeco));if(!g&&f.update(e,t,r,i))return this.destroyBetween(this.index,c),f.dom!=p&&(this.changed=!0),this.index++,!0;if(!g&&(m=this.recreateWrapper(f,e,t,r,i,l)))return this.destroyBetween(this.index,c),this.top.children[this.index]=m,m.contentDOM&&(m.dirty=hs,m.updateChildren(i,l+1),m.dirty=$r),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,r,i,o,l){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!ih(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let c=uo.create(this.top,t,r,i,o,l);if(c.contentDOM){c.children=e.children,e.children=[];for(let f of c.children)f.parent=c}return e.destroy(),c}addNode(e,t,r,i,o){let l=uo.create(this.top,e,t,r,i,o);l.contentDOM&&l.updateChildren(i,o+1),this.top.children.splice(this.index++,0,l),this.changed=!0}placeWidget(e,t,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new Dx(this.top,e,t,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof Ms;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof ap)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Dn||hn)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new Nx(this.top,[],r,null);t!=this.top?t.children.push(i):t.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function _L(n,e){let t=e,r=t.children.length,i=n.childCount,o=new Map,l=[];e:for(;i>0;){let c;for(;;)if(r){let h=t.children[r-1];if(h instanceof Ms)t=h,r=h.children.length;else{c=h,r--;break}}else{if(t==e)break e;r=t.parent.children.indexOf(t),t=t.parent}let f=c.node;if(f){if(f!=n.child(i-1))break;--i,o.set(c,i),l.push(c)}}return{index:i,matched:o,matches:l.reverse()}}function kL(n,e){return n.type.side-e.type.side}function DL(n,e,t,r){let i=e.locals(n),o=0;if(i.length==0){for(let h=0;h<n.childCount;h++){let p=n.child(h);r(p,i,e.forChild(o,p),h),o+=p.nodeSize}return}let l=0,c=[],f=null;for(let h=0;;){let p,m;for(;l<i.length&&i[l].to==o;){let T=i[l++];T.widget&&(p?(m||(m=[p])).push(T):p=T)}if(p)if(m){m.sort(kL);for(let T=0;T<m.length;T++)t(m[T],h,!!f)}else t(p,h,!!f);let g,y;if(f)y=-1,g=f,f=null;else if(h<n.childCount)y=h,g=n.child(h++);else break;for(let T=0;T<c.length;T++)c[T].to<=o&&c.splice(T--,1);for(;l<i.length&&i[l].from<=o&&i[l].to>o;)c.push(i[l++]);let b=o+g.nodeSize;if(g.isText){let T=b;l<i.length&&i[l].from<T&&(T=i[l].from);for(let A=0;A<c.length;A++)c[A].to<T&&(T=c[A].to);T<b&&(f=g.cut(T-o),g=g.cut(0,T-o),b=T,y=-1)}else for(;l<i.length&&i[l].to<b;)l++;let S=g.isInline&&!g.isLeaf?c.filter(T=>!T.inline):c.slice();r(g,S,e.forChild(o,g),y),o=b}}function NL(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function RL(n,e,t,r){for(let i=0,o=0;i<n.childCount&&o<=r;){let l=n.child(i++),c=o;if(o+=l.nodeSize,!l.isText)continue;let f=l.text;for(;i<n.childCount;){let h=n.child(i++);if(o+=h.nodeSize,!h.isText)break;f+=h.text}if(o>=t){if(o>=r&&f.slice(r-e.length-c,r-c)==e)return r-e.length;let h=c<r?f.lastIndexOf(e,r-c-1):-1;if(h>=0&&h+e.length+c>=t)return c+h;if(t==r&&f.length>=r+e.length-c&&f.slice(r-c,r-c+e.length)==e)return r}}return-1}function Iv(n,e,t,r,i){let o=[];for(let l=0,c=0;l<n.length;l++){let f=n[l],h=c,p=c+=f.size;h>=t||p<=e?o.push(f):(h<e&&o.push(f.slice(0,e-h,r)),i&&(o.push(i),i=void 0),p>t&&o.push(f.slice(t-h,f.size,r)))}return o}function I0(n,e=null){let t=n.domSelectionRange(),r=n.state.doc;if(!t.focusNode)return null;let i=n.docView.nearestDesc(t.focusNode),o=i&&i.size==0,l=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(l<0)return null;let c=r.resolve(l),f,h;if(ip(t)){for(f=l;i&&!i.node;)i=i.parent;let m=i.node;if(i&&m.isAtom&&ke.isSelectable(m)&&i.parent&&!(m.isInline&&oL(t.focusNode,t.focusOffset,i.dom))){let g=i.posBefore;h=new ke(l==g?c:r.resolve(g))}}else{if(t instanceof n.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let m=l,g=l;for(let y=0;y<t.rangeCount;y++){let b=t.getRangeAt(y);m=Math.min(m,n.docView.posFromDOM(b.startContainer,b.startOffset,1)),g=Math.max(g,n.docView.posFromDOM(b.endContainer,b.endOffset,-1))}if(m<0)return null;[f,l]=g==n.state.selection.anchor?[g,m]:[m,g],c=r.resolve(l)}else f=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(f<0)return null}let p=r.resolve(f);if(!h){let m=e=="pointer"||n.state.selection.head<c.pos&&!o?1:-1;h=B0(n,p,c,m)}return h}function Lx(n){return n.editable?n.hasFocus():Bx(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function da(n,e=!1){let t=n.state.selection;if(Ix(n,t),!!Lx(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&hn){let r=n.domSelectionRange(),i=n.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Cs(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)jL(n);else{let{anchor:r,head:i}=t,o,l;cA&&!(t instanceof Le)&&(t.$from.parent.inlineContent||(o=fA(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(l=fA(n,t.to))),n.docView.setSelection(r,i,n,e),cA&&(o&&dA(o),l&&dA(l)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&PL(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const cA=Dn||hn&&Ax<63;function fA(n,e){let{node:t,offset:r}=n.docView.domFromPos(e,0),i=r<t.childNodes.length?t.childNodes[r]:null,o=r?t.childNodes[r-1]:null;if(Dn&&i&&i.contentEditable=="false")return ey(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return ey(i);if(o)return ey(o)}}function ey(n){return n.contentEditable="true",Dn&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function dA(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function PL(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),r=t.anchorNode,i=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=r||t.anchorOffset!=i)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!Lx(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function jL(n){let e=n.domSelection();if(!e)return;let t=n.cursorWrapper.dom,r=t.nodeName=="IMG";r?e.collapse(t.parentNode,_n(t)+1):e.collapse(t,0),!r&&!n.state.selection.visible&&lr&&lo<=11&&(t.disabled=!0,t.disabled=!1)}function Ix(n,e){if(e instanceof ke){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(hA(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else hA(n)}function hA(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function B0(n,e,t,r){return n.someProp("createSelectionBetween",i=>i(n,e,t))||Le.between(e,t,r)}function pA(n){return n.editable&&!n.hasFocus()?!1:Bx(n)}function Bx(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function LL(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return Cs(e.node,e.offset,t.anchorNode,t.anchorOffset)}function Bv(n,e){let{$anchor:t,$head:r}=n.selection,i=e>0?t.max(r):t.min(r),o=i.parent.inlineContent?i.depth?n.doc.resolve(e>0?i.after():i.before()):null:i;return o&&Ke.findFrom(o,e)}function Za(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function mA(n,e,t){let r=n.state.selection;if(r instanceof Le)if(t.indexOf("s")>-1){let{$head:i}=r,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let l=n.state.doc.resolve(i.pos+o.nodeSize*(e<0?-1:1));return Za(n,new Le(r.$anchor,l))}else if(r.empty){if(n.endOfTextblock(e>0?"forward":"backward")){let i=Bv(n.state,e);return i&&i instanceof ke?Za(n,i):!1}else if(!(Kr&&t.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,l;if(!o||o.isText)return!1;let c=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(l=n.docView.descAt(c))&&!l.contentDOM?ke.isSelectable(o)?Za(n,new ke(e<0?n.state.doc.resolve(i.pos-o.nodeSize):i)):Kc?Za(n,new Le(n.state.doc.resolve(e<0?c:c+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof ke&&r.node.isInline)return Za(n,new Le(e>0?r.$to:r.$from));{let i=Bv(n.state,e);return i?Za(n,i):!1}}}function ah(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function gc(n,e){let t=n.pmViewDesc;return t&&t.size==0&&(e<0||n.nextSibling||n.nodeName!="BR")}function yl(n,e){return e<0?IL(n):BL(n)}function IL(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i,o,l=!1;for(Qr&&t.nodeType==1&&r<ah(t)&&gc(t.childNodes[r],-1)&&(l=!0);;)if(r>0){if(t.nodeType!=1)break;{let c=t.childNodes[r-1];if(gc(c,-1))i=t,o=--r;else if(c.nodeType==3)t=c,r=t.nodeValue.length;else break}}else{if(zx(t))break;{let c=t.previousSibling;for(;c&&gc(c,-1);)i=t.parentNode,o=_n(c),c=c.previousSibling;if(c)t=c,r=ah(t);else{if(t=t.parentNode,t==n.dom)break;r=0}}}l?zv(n,t,r):i&&zv(n,i,o)}function BL(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i=ah(t),o,l;for(;;)if(r<i){if(t.nodeType!=1)break;let c=t.childNodes[r];if(gc(c,1))o=t,l=++r;else break}else{if(zx(t))break;{let c=t.nextSibling;for(;c&&gc(c,1);)o=c.parentNode,l=_n(c)+1,c=c.nextSibling;if(c)t=c,r=0,i=ah(t);else{if(t=t.parentNode,t==n.dom)break;r=i=0}}}o&&zv(n,o,l)}function zx(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function zL(n,e){for(;n&&e==n.childNodes.length&&!Yc(n);)e=_n(n)+1,n=n.parentNode;for(;n&&e<n.childNodes.length;){let t=n.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=0}}function UL(n,e){for(;n&&!e&&!Yc(n);)e=_n(n),n=n.parentNode;for(;n&&e;){let t=n.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=n.childNodes.length}}function zv(n,e,t){if(e.nodeType!=3){let o,l;(l=zL(e,t))?(e=l,t=0):(o=UL(e,t))&&(e=o,t=o.nodeValue.length)}let r=n.domSelection();if(!r)return;if(ip(r)){let o=document.createRange();o.setEnd(e,t),o.setStart(e,t),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,t);n.domObserver.setCurSelection();let{state:i}=n;setTimeout(()=>{n.state==i&&da(n)},50)}function gA(n,e){let t=n.state.doc.resolve(e);if(!(hn||Ox)&&t.parent.inlineContent){let i=n.coordsAtPos(e);if(e>t.start()){let o=n.coordsAtPos(e-1),l=(o.top+o.bottom)/2;if(l>i.top&&l<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(e<t.end()){let o=n.coordsAtPos(e+1),l=(o.top+o.bottom)/2;if(l>i.top&&l<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function yA(n,e,t){let r=n.state.selection;if(r instanceof Le&&!r.empty||t.indexOf("s")>-1||Kr&&t.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let l=Bv(n.state,e);if(l&&l instanceof ke)return Za(n,l)}if(!i.parent.inlineContent){let l=e<0?i:o,c=r instanceof Dr?Ke.near(l,e):Ke.findFrom(l,e);return c?Za(n,c):!1}return!1}function vA(n,e){if(!(n.state.selection instanceof Le))return!0;let{$head:t,$anchor:r,empty:i}=n.state.selection;if(!t.sameParent(r))return!0;if(!i)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(o&&!o.isText){let l=n.state.tr;return e<0?l.delete(t.pos-o.nodeSize,t.pos):l.delete(t.pos,t.pos+o.nodeSize),n.dispatch(l),!0}return!1}function bA(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function HL(n){if(!Dn||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;bA(n,r,"true"),setTimeout(()=>bA(n,r,"false"),20)}return!1}function FL(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function VL(n,e){let t=e.keyCode,r=FL(e);if(t==8||Kr&&t==72&&r=="c")return vA(n,-1)||yl(n,-1);if(t==46&&!e.shiftKey||Kr&&t==68&&r=="c")return vA(n,1)||yl(n,1);if(t==13||t==27)return!0;if(t==37||Kr&&t==66&&r=="c"){let i=t==37?gA(n,n.state.selection.from)=="ltr"?-1:1:-1;return mA(n,i,r)||yl(n,i)}else if(t==39||Kr&&t==70&&r=="c"){let i=t==39?gA(n,n.state.selection.from)=="ltr"?1:-1:1;return mA(n,i,r)||yl(n,i)}else{if(t==38||Kr&&t==80&&r=="c")return yA(n,-1,r)||yl(n,-1);if(t==40||Kr&&t==78&&r=="c")return HL(n)||yA(n,1,r)||yl(n,1);if(r==(Kr?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function z0(n,e){n.someProp("transformCopied",y=>{e=y(e,n)});let t=[],{content:r,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let y=r.firstChild;t.push(y.type.name,y.attrs!=y.type.defaultAttrs?y.attrs:null),r=y.content}let l=n.someProp("clipboardSerializer")||_s.fromSchema(n.state.schema),c=Gx(),f=c.createElement("div");f.appendChild(l.serializeFragment(r,{document:c}));let h=f.firstChild,p,m=0;for(;h&&h.nodeType==1&&(p=qx[h.nodeName.toLowerCase()]);){for(let y=p.length-1;y>=0;y--){let b=c.createElement(p[y]);for(;f.firstChild;)b.appendChild(f.firstChild);f.appendChild(b),m++}h=f.firstChild}h&&h.nodeType==1&&h.setAttribute("data-pm-slice",`${i} ${o}${m?` -${m}`:""} ${JSON.stringify(t)}`);let g=n.someProp("clipboardTextSerializer",y=>y(e,n))||e.content.textBetween(0,e.content.size,`

`);return{dom:f,text:g,slice:e}}function Ux(n,e,t,r,i){let o=i.parent.type.spec.code,l,c;if(!t&&!e)return null;let f=!!e&&(r||o||!t);if(f){if(n.someProp("transformPastedText",g=>{e=g(e,o||r,n)}),o)return c=new be(se.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),n.someProp("transformPasted",g=>{c=g(c,n,!0)}),c;let m=n.someProp("clipboardTextParser",g=>g(e,i,r,n));if(m)c=m;else{let g=i.marks(),{schema:y}=n.state,b=_s.fromSchema(y);l=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(S=>{let T=l.appendChild(document.createElement("p"));S&&T.appendChild(b.serializeNode(y.text(S,g)))})}}else n.someProp("transformPastedHTML",m=>{t=m(t,n)}),l=YL(t),Kc&&KL(l);let h=l&&l.querySelector("[data-pm-slice]"),p=h&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(h.getAttribute("data-pm-slice")||"");if(p&&p[3])for(let m=+p[3];m>0;m--){let g=l.firstChild;for(;g&&g.nodeType!=1;)g=g.nextSibling;if(!g)break;l=g}if(c||(c=(n.someProp("clipboardParser")||n.someProp("domParser")||so.fromSchema(n.state.schema)).parseSlice(l,{preserveWhitespace:!!(f||p),context:i,ruleFromNode(g){return g.nodeName=="BR"&&!g.nextSibling&&g.parentNode&&!qL.test(g.parentNode.nodeName)?{ignore:!0}:null}})),p)c=ZL(SA(c,+p[1],+p[2]),p[4]);else if(c=be.maxOpen(GL(c.content,i),!0),c.openStart||c.openEnd){let m=0,g=0;for(let y=c.content.firstChild;m<c.openStart&&!y.type.spec.isolating;m++,y=y.firstChild);for(let y=c.content.lastChild;g<c.openEnd&&!y.type.spec.isolating;g++,y=y.lastChild);c=SA(c,m,g)}return n.someProp("transformPasted",m=>{c=m(c,n,f)}),c}const qL=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function GL(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let i=e.node(t).contentMatchAt(e.index(t)),o,l=[];if(n.forEach(c=>{if(!l)return;let f=i.findWrapping(c.type),h;if(!f)return l=null;if(h=l.length&&o.length&&Fx(f,o,c,l[l.length-1],0))l[l.length-1]=h;else{l.length&&(l[l.length-1]=Vx(l[l.length-1],o.length));let p=Hx(c,f);l.push(p),i=i.matchType(p.type),o=f}}),l)return se.from(l)}return n}function Hx(n,e,t=0){for(let r=e.length-1;r>=t;r--)n=e[r].create(null,se.from(n));return n}function Fx(n,e,t,r,i){if(i<n.length&&i<e.length&&n[i]==e[i]){let o=Fx(n,e,t,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==n.length-1?t.type:n[i+1]))return r.copy(r.content.append(se.from(Hx(t,n,i+1))))}}function Vx(n,e){if(e==0)return n;let t=n.content.replaceChild(n.childCount-1,Vx(n.lastChild,e-1)),r=n.contentMatchAt(n.childCount).fillBefore(se.empty,!0);return n.copy(t.append(r))}function Uv(n,e,t,r,i,o){let l=e<0?n.firstChild:n.lastChild,c=l.content;return n.childCount>1&&(o=0),i<r-1&&(c=Uv(c,e,t,r,i+1,o)),i>=t&&(c=e<0?l.contentMatchAt(0).fillBefore(c,o<=i).append(c):c.append(l.contentMatchAt(l.childCount).fillBefore(se.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,l.copy(c))}function SA(n,e,t){return e<n.openStart&&(n=new be(Uv(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new be(Uv(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const qx={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let EA=null;function Gx(){return EA||(EA=document.implementation.createHTMLDocument("title"))}let ty=null;function WL(n){let e=window.trustedTypes;return e?(ty||(ty=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),ty.createHTML(n)):n}function YL(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let t=Gx().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(n),i;if((i=r&&qx[r[1].toLowerCase()])&&(n=i.map(o=>"<"+o+">").join("")+n+i.map(o=>"</"+o+">").reverse().join("")),t.innerHTML=WL(n),i)for(let o=0;o<i.length;o++)t=t.querySelector(i[o])||t;return t}function KL(n){let e=n.querySelectorAll(hn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let r=e[t];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),r)}}function ZL(n,e){if(!n.size)return n;let t=n.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return n}let{content:i,openStart:o,openEnd:l}=n;for(let c=r.length-2;c>=0;c-=2){let f=t.nodes[r[c]];if(!f||f.hasRequiredAttrs())break;i=se.from(f.create(r[c+1],i)),o++,l++}return new be(i,o,l)}const Jn={},Xn={},JL={touchstart:!0,touchmove:!0};class XL{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.badSafariComposition=!1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function QL(n){for(let e in Jn){let t=Jn[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=r=>{eI(n,r)&&!U0(n,r)&&(n.editable||!(r.type in Xn))&&t(n,r)},JL[e]?{passive:!0}:void 0)}Dn&&n.dom.addEventListener("input",()=>null),Hv(n)}function ao(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function $L(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function Hv(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=r=>U0(n,r))})}function U0(n,e){return n.someProp("handleDOMEvents",t=>{let r=t[e.type];return r?r(n,e)||e.defaultPrevented:!1})}function eI(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function tI(n,e){!U0(n,e)&&Jn[e.type]&&(n.editable||!(e.type in Xn))&&Jn[e.type](n,e)}Xn.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=t.keyCode==16||t.shiftKey,!Yx(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!(ua&&hn&&t.keyCode==13)))if(t.keyCode!=229&&n.domObserver.forceFlush(),Il&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let r=Date.now();n.input.lastIOSEnter=r,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==r&&(n.someProp("handleKeyDown",i=>i(n,fs(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",r=>r(n,t))||VL(n,t)?t.preventDefault():ao(n,"key")};Xn.keyup=(n,e)=>{e.keyCode==16&&(n.input.shiftKey=!1)};Xn.keypress=(n,e)=>{let t=e;if(Yx(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||Kr&&t.metaKey)return;if(n.someProp("handleKeyPress",i=>i(n,t))){t.preventDefault();return}let r=n.state.selection;if(!(r instanceof Le)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(t.charCode),o=()=>n.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!n.someProp("handleTextInput",l=>l(n,r.$from.pos,r.$to.pos,i,o))&&n.dispatch(o()),t.preventDefault()}};function op(n){return{left:n.clientX,top:n.clientY}}function nI(n,e){let t=e.x-n.clientX,r=e.y-n.clientY;return t*t+r*r<100}function H0(n,e,t,r,i){if(r==-1)return!1;let o=n.state.doc.resolve(r);for(let l=o.depth+1;l>0;l--)if(n.someProp(e,c=>l>o.depth?c(n,t,o.nodeAfter,o.before(l),i,!0):c(n,t,o.node(l),o.before(l),i,!1)))return!0;return!1}function _l(n,e,t){if(n.focused||n.focus(),n.state.selection.eq(e))return;let r=n.state.tr.setSelection(e);r.setMeta("pointer",!0),n.dispatch(r)}function rI(n,e){if(e==-1)return!1;let t=n.state.doc.resolve(e),r=t.nodeAfter;return r&&r.isAtom&&ke.isSelectable(r)?(_l(n,new ke(t)),!0):!1}function iI(n,e){if(e==-1)return!1;let t=n.state.selection,r,i;t instanceof ke&&(r=t.node);let o=n.state.doc.resolve(e);for(let l=o.depth+1;l>0;l--){let c=l>o.depth?o.nodeAfter:o.node(l);if(ke.isSelectable(c)){r&&t.$from.depth>0&&l>=t.$from.depth&&o.before(t.$from.depth+1)==t.$from.pos?i=o.before(t.$from.depth):i=o.before(l);break}}return i!=null?(_l(n,ke.create(n.state.doc,i)),!0):!1}function aI(n,e,t,r,i){return H0(n,"handleClickOn",e,t,r)||n.someProp("handleClick",o=>o(n,e,r))||(i?iI(n,t):rI(n,t))}function oI(n,e,t,r){return H0(n,"handleDoubleClickOn",e,t,r)||n.someProp("handleDoubleClick",i=>i(n,e,r))}function sI(n,e,t,r){return H0(n,"handleTripleClickOn",e,t,r)||n.someProp("handleTripleClick",i=>i(n,e,r))||lI(n,t,r)}function lI(n,e,t){if(t.button!=0)return!1;let r=n.state.doc;if(e==-1)return r.inlineContent?(_l(n,Le.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let o=i.depth+1;o>0;o--){let l=o>i.depth?i.nodeAfter:i.node(o),c=i.before(o);if(l.inlineContent)_l(n,Le.create(r,c+1,c+1+l.content.size));else if(ke.isSelectable(l))_l(n,ke.create(r,c));else continue;return!0}}function F0(n){return oh(n)}const Wx=Kr?"metaKey":"ctrlKey";Jn.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let r=F0(n),i=Date.now(),o="singleClick";i-n.input.lastClick.time<500&&nI(t,n.input.lastClick)&&!t[Wx]&&n.input.lastClick.button==t.button&&(n.input.lastClick.type=="singleClick"?o="doubleClick":n.input.lastClick.type=="doubleClick"&&(o="tripleClick")),n.input.lastClick={time:i,x:t.clientX,y:t.clientY,type:o,button:t.button};let l=n.posAtCoords(op(t));l&&(o=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new uI(n,l,t,!!r)):(o=="doubleClick"?oI:sI)(n,l.pos,l.inside,t)?t.preventDefault():ao(n,"pointer"))};class uI{constructor(e,t,r,i){this.view=e,this.pos=t,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[Wx],this.allowDefault=r.shiftKey;let o,l;if(t.inside>-1)o=e.state.doc.nodeAt(t.inside),l=t.inside;else{let p=e.state.doc.resolve(t.pos);o=p.parent,l=p.depth?p.before():0}const c=i?null:r.target,f=c?e.docView.nearestDesc(c,!0):null;this.target=f&&f.nodeDOM.nodeType==1?f.nodeDOM:null;let{selection:h}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||h instanceof ke&&h.from<=l&&h.to>l)&&(this.mightDrag={node:o,pos:l,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Qr&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),ao(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>da(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(op(e))),this.updateAllowDefault(e),this.allowDefault||!t?ao(this.view,"pointer"):aI(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Dn&&this.mightDrag&&!this.mightDrag.node.isAtom||hn&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(_l(this.view,Ke.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):ao(this.view,"pointer")}move(e){this.updateAllowDefault(e),ao(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Jn.touchstart=n=>{n.input.lastTouch=Date.now(),F0(n),ao(n,"pointer")};Jn.touchmove=n=>{n.input.lastTouch=Date.now(),ao(n,"pointer")};Jn.contextmenu=n=>F0(n);function Yx(n,e){return n.composing?!0:Dn&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const cI=ua?5e3:-1;Xn.compositionstart=Xn.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$to;if(e.selection instanceof Le&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)||hn&&Ox&&fI(n)))n.markCursor=n.state.storedMarks||t.marks(),oh(n,!0),n.markCursor=null;else if(oh(n,!e.selection.empty),Qr&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let r=n.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let l=o<0?i.lastChild:i.childNodes[o-1];if(!l)break;if(l.nodeType==3){let c=n.domSelection();c&&c.collapse(l,l.nodeValue.length);break}else i=l,o=-1}}n.input.composing=!0}Kx(n,cI)};function fI(n){let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(!e||e.nodeType!=1||t>=e.childNodes.length)return!1;let r=e.childNodes[t];return r.nodeType==1&&r.contentEditable=="false"}Xn.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.badSafariComposition?n.domObserver.forceFlush():n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,Kx(n,20))};function Kx(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>oh(n),e))}function Zx(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=hI());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function dI(n){let e=n.domSelectionRange();if(!e.focusNode)return null;let t=iL(e.focusNode,e.focusOffset),r=aL(e.focusNode,e.focusOffset);if(t&&r&&t!=r){let i=r.pmViewDesc,o=n.domObserver.lastChangedTextNode;if(t==o||r==o)return o;if(!i||!i.isText(r.nodeValue))return r;if(n.input.compositionNode==r){let l=t.pmViewDesc;if(!(!l||!l.isText(t.nodeValue)))return r}}return t||r}function hI(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function oh(n,e=!1){if(!(ua&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),Zx(n),e||n.docView&&n.docView.dirty){let t=I0(n),r=n.state.selection;return t&&!t.eq(r)?n.dispatch(n.state.tr.setSelection(t)):(n.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?n.dispatch(n.state.tr.deleteSelection()):n.updateState(n.state),!0}return!1}}function pI(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),n.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}const Dc=lr&&lo<15||Il&&uL<604;Jn.copy=Xn.cut=(n,e)=>{let t=e,r=n.state.selection,i=t.type=="cut";if(r.empty)return;let o=Dc?null:t.clipboardData,l=r.content(),{dom:c,text:f}=z0(n,l);o?(t.preventDefault(),o.clearData(),o.setData("text/html",c.innerHTML),o.setData("text/plain",f)):pI(n,c),i&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function mI(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function gI(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,r=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),r.parentNode&&r.parentNode.removeChild(r),t?Nc(n,r.value,null,i,e):Nc(n,r.textContent,r.innerHTML,i,e)},50)}function Nc(n,e,t,r,i){let o=Ux(n,e,t,r,n.state.selection.$from);if(n.someProp("handlePaste",f=>f(n,i,o||be.empty)))return!0;if(!o)return!1;let l=mI(o),c=l?n.state.tr.replaceSelectionWith(l,r):n.state.tr.replaceSelection(o);return n.dispatch(c.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Jx(n){let e=n.getData("text/plain")||n.getData("Text");if(e)return e;let t=n.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}Xn.paste=(n,e)=>{let t=e;if(n.composing&&!ua)return;let r=Dc?null:t.clipboardData,i=n.input.shiftKey&&n.input.lastKeyCode!=45;r&&Nc(n,Jx(r),r.getData("text/html"),i,t)?t.preventDefault():gI(n,t)};class Xx{constructor(e,t,r){this.slice=e,this.move=t,this.node=r}}const yI=Kr?"altKey":"ctrlKey";function Qx(n,e){let t=n.someProp("dragCopies",r=>!r(e));return t??!e[yI]}Jn.dragstart=(n,e)=>{let t=e,r=n.input.mouseDown;if(r&&r.done(),!t.dataTransfer)return;let i=n.state.selection,o=i.empty?null:n.posAtCoords(op(t)),l;if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof ke?i.to-1:i.to))){if(r&&r.mightDrag)l=ke.create(n.state.doc,r.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let m=n.docView.nearestDesc(t.target,!0);m&&m.node.type.spec.draggable&&m!=n.docView&&(l=ke.create(n.state.doc,m.posBefore))}}let c=(l||n.state.selection).content(),{dom:f,text:h,slice:p}=z0(n,c);(!t.dataTransfer.files.length||!hn||Ax>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(Dc?"Text":"text/html",f.innerHTML),t.dataTransfer.effectAllowed="copyMove",Dc||t.dataTransfer.setData("text/plain",h),n.dragging=new Xx(p,Qx(n,t),l)};Jn.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)};Xn.dragover=Xn.dragenter=(n,e)=>e.preventDefault();Xn.drop=(n,e)=>{try{vI(n,e,n.dragging)}finally{n.dragging=null}};function vI(n,e,t){if(!e.dataTransfer)return;let r=n.posAtCoords(op(e));if(!r)return;let i=n.state.doc.resolve(r.pos),o=t&&t.slice;o?n.someProp("transformPasted",y=>{o=y(o,n,!1)}):o=Ux(n,Jx(e.dataTransfer),Dc?null:e.dataTransfer.getData("text/html"),!1,i);let l=!!(t&&Qx(n,e));if(n.someProp("handleDrop",y=>y(n,e,o||be.empty,l))){e.preventDefault();return}if(!o)return;e.preventDefault();let c=o?nx(n.state.doc,i.pos,o):i.pos;c==null&&(c=i.pos);let f=n.state.tr;if(l){let{node:y}=t;y?y.replace(f):f.deleteSelection()}let h=f.mapping.map(c),p=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,m=f.doc;if(p?f.replaceRangeWith(h,h,o.content.firstChild):f.replaceRange(h,h,o),f.doc.eq(m))return;let g=f.doc.resolve(h);if(p&&ke.isSelectable(o.content.firstChild)&&g.nodeAfter&&g.nodeAfter.sameMarkup(o.content.firstChild))f.setSelection(new ke(g));else{let y=f.mapping.map(c);f.mapping.maps[f.mapping.maps.length-1].forEach((b,S,T,A)=>y=A),f.setSelection(B0(n,g,f.doc.resolve(y)))}n.focus(),n.dispatch(f.setMeta("uiEvent","drop"))}Jn.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&da(n)},20))};Jn.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};Jn.beforeinput=(n,e)=>{if(hn&&ua&&e.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:r}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=r||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",o=>o(n,fs(8,"Backspace")))))return;let{$cursor:i}=n.state.selection;i&&i.pos>0&&n.dispatch(n.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let n in Xn)Jn[n]=Xn[n];function Rc(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}class sh{constructor(e,t){this.toDOM=e,this.spec=t||Ss,this.side=this.spec.side||0}map(e,t,r,i){let{pos:o,deleted:l}=e.mapResult(t.from+i,this.side<0?-1:1);return l?null:new Kn(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof sh&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Rc(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class co{constructor(e,t){this.attrs=e,this.spec=t||Ss}map(e,t,r,i){let o=e.map(t.from+i,this.spec.inclusiveStart?-1:1)-r,l=e.map(t.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=l?null:new Kn(o,l,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof co&&Rc(this.attrs,e.attrs)&&Rc(this.spec,e.spec)}static is(e){return e.type instanceof co}destroy(){}}class V0{constructor(e,t){this.attrs=e,this.spec=t||Ss}map(e,t,r,i){let o=e.mapResult(t.from+i,1);if(o.deleted)return null;let l=e.mapResult(t.to+i,-1);return l.deleted||l.pos<=o.pos?null:new Kn(o.pos-r,l.pos-r,this)}valid(e,t){let{index:r,offset:i}=e.content.findIndex(t.from),o;return i==t.from&&!(o=e.child(r)).isText&&i+o.nodeSize==t.to}eq(e){return this==e||e instanceof V0&&Rc(this.attrs,e.attrs)&&Rc(this.spec,e.spec)}destroy(){}}class Kn{constructor(e,t,r){this.from=e,this.to=t,this.type=r}copy(e,t){return new Kn(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,r){return this.type.map(e,this,t,r)}static widget(e,t,r){return new Kn(e,e,new sh(t,r))}static inline(e,t,r,i){return new Kn(e,t,new co(r,i))}static node(e,t,r,i){return new Kn(e,t,new V0(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof co}get widget(){return this.type instanceof sh}}const Ol=[],Ss={};class Pt{constructor(e,t){this.local=e.length?e:Ol,this.children=t.length?t:Ol}static create(e,t){return t.length?lh(t,e,0,Ss):jn}find(e,t,r){let i=[];return this.findInner(e??0,t??1e9,i,0,r),i}findInner(e,t,r,i,o){for(let l=0;l<this.local.length;l++){let c=this.local[l];c.from<=t&&c.to>=e&&(!o||o(c.spec))&&r.push(c.copy(c.from+i,c.to+i))}for(let l=0;l<this.children.length;l+=3)if(this.children[l]<t&&this.children[l+1]>e){let c=this.children[l]+1;this.children[l+2].findInner(e-c,t-c,r,i+c,o)}}map(e,t,r){return this==jn||e.maps.length==0?this:this.mapInner(e,t,0,0,r||Ss)}mapInner(e,t,r,i,o){let l;for(let c=0;c<this.local.length;c++){let f=this.local[c].map(e,r,i);f&&f.type.valid(t,f)?(l||(l=[])).push(f):o.onRemove&&o.onRemove(this.local[c].spec)}return this.children.length?bI(this.children,l||[],e,t,r,i,o):l?new Pt(l.sort(Es),Ol):jn}add(e,t){return t.length?this==jn?Pt.create(e,t):this.addInner(e,t,0):this}addInner(e,t,r){let i,o=0;e.forEach((c,f)=>{let h=f+r,p;if(p=e_(t,c,h)){for(i||(i=this.children.slice());o<i.length&&i[o]<f;)o+=3;i[o]==f?i[o+2]=i[o+2].addInner(c,p,h+1):i.splice(o,0,f,f+c.nodeSize,lh(p,c,h+1,Ss)),o+=3}});let l=$x(o?t_(t):t,-r);for(let c=0;c<l.length;c++)l[c].type.valid(e,l[c])||l.splice(c--,1);return new Pt(l.length?this.local.concat(l).sort(Es):this.local,i||this.children)}remove(e){return e.length==0||this==jn?this:this.removeInner(e,0)}removeInner(e,t){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let l,c=r[o]+t,f=r[o+1]+t;for(let p=0,m;p<e.length;p++)(m=e[p])&&m.from>c&&m.to<f&&(e[p]=null,(l||(l=[])).push(m));if(!l)continue;r==this.children&&(r=this.children.slice());let h=r[o+2].removeInner(l,c+1);h!=jn?r[o+2]=h:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,l;o<e.length;o++)if(l=e[o])for(let c=0;c<i.length;c++)i[c].eq(l,t)&&(i==this.local&&(i=this.local.slice()),i.splice(c--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new Pt(i,r):jn}forChild(e,t){if(this==jn)return this;if(t.isLeaf)return Pt.empty;let r,i;for(let c=0;c<this.children.length;c+=3)if(this.children[c]>=e){this.children[c]==e&&(r=this.children[c+2]);break}let o=e+1,l=o+t.content.size;for(let c=0;c<this.local.length;c++){let f=this.local[c];if(f.from<l&&f.to>o&&f.type instanceof co){let h=Math.max(o,f.from)-o,p=Math.min(l,f.to)-o;h<p&&(i||(i=[])).push(f.copy(h,p))}}if(i){let c=new Pt(i.sort(Es),Ol);return r?new $a([c,r]):c}return r||jn}eq(e){if(this==e)return!0;if(!(e instanceof Pt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return q0(this.localsInner(e))}localsInner(e){if(this==jn)return Ol;if(e.inlineContent||!this.local.some(co.is))return this.local;let t=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof co||t.push(this.local[r]);return t}forEachSet(e){e(this)}}Pt.empty=new Pt([],[]);Pt.removeOverlap=q0;const jn=Pt.empty;class $a{constructor(e){this.members=e}map(e,t){const r=this.members.map(i=>i.map(e,t,Ss));return $a.from(r)}forChild(e,t){if(t.isLeaf)return Pt.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,t);o!=jn&&(o instanceof $a?r=r.concat(o.members):r.push(o))}return $a.from(r)}eq(e){if(!(e instanceof $a)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(o.length)if(!t)t=o;else{r&&(t=t.slice(),r=!1);for(let l=0;l<o.length;l++)t.push(o[l])}}return t?q0(r?t:t.sort(Es)):Ol}static from(e){switch(e.length){case 0:return jn;case 1:return e[0];default:return new $a(e.every(t=>t instanceof Pt)?e:e.reduce((t,r)=>t.concat(r instanceof Pt?r:r.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function bI(n,e,t,r,i,o,l){let c=n.slice();for(let h=0,p=o;h<t.maps.length;h++){let m=0;t.maps[h].forEach((g,y,b,S)=>{let T=S-b-(y-g);for(let A=0;A<c.length;A+=3){let M=c[A+1];if(M<0||g>M+p-m)continue;let w=c[A]+p-m;y>=w?c[A+1]=g<=w?-2:-1:g>=p&&T&&(c[A]+=T,c[A+1]+=T)}m+=T}),p=t.maps[h].map(p,-1)}let f=!1;for(let h=0;h<c.length;h+=3)if(c[h+1]<0){if(c[h+1]==-2){f=!0,c[h+1]=-1;continue}let p=t.map(n[h]+o),m=p-i;if(m<0||m>=r.content.size){f=!0;continue}let g=t.map(n[h+1]+o,-1),y=g-i,{index:b,offset:S}=r.content.findIndex(m),T=r.maybeChild(b);if(T&&S==m&&S+T.nodeSize==y){let A=c[h+2].mapInner(t,T,p+1,n[h]+o+1,l);A!=jn?(c[h]=m,c[h+1]=y,c[h+2]=A):(c[h+1]=-2,f=!0)}else f=!0}if(f){let h=SI(c,n,e,t,i,o,l),p=lh(h,r,0,l);e=p.local;for(let m=0;m<c.length;m+=3)c[m+1]<0&&(c.splice(m,3),m-=3);for(let m=0,g=0;m<p.children.length;m+=3){let y=p.children[m];for(;g<c.length&&c[g]<y;)g+=3;c.splice(g,0,p.children[m],p.children[m+1],p.children[m+2])}}return new Pt(e.sort(Es),c)}function $x(n,e){if(!e||!n.length)return n;let t=[];for(let r=0;r<n.length;r++){let i=n[r];t.push(new Kn(i.from+e,i.to+e,i.type))}return t}function SI(n,e,t,r,i,o,l){function c(f,h){for(let p=0;p<f.local.length;p++){let m=f.local[p].map(r,i,h);m?t.push(m):l.onRemove&&l.onRemove(f.local[p].spec)}for(let p=0;p<f.children.length;p+=3)c(f.children[p+2],f.children[p]+h+1)}for(let f=0;f<n.length;f+=3)n[f+1]==-1&&c(n[f+2],e[f]+o+1);return t}function e_(n,e,t){if(e.isLeaf)return null;let r=t+e.nodeSize,i=null;for(let o=0,l;o<n.length;o++)(l=n[o])&&l.from>t&&l.to<r&&((i||(i=[])).push(l),n[o]=null);return i}function t_(n){let e=[];for(let t=0;t<n.length;t++)n[t]!=null&&e.push(n[t]);return e}function lh(n,e,t,r){let i=[],o=!1;e.forEach((c,f)=>{let h=e_(n,c,f+t);if(h){o=!0;let p=lh(h,c,t+f+1,r);p!=jn&&i.push(f,f+c.nodeSize,p)}});let l=$x(o?t_(n):n,-t).sort(Es);for(let c=0;c<l.length;c++)l[c].type.valid(e,l[c])||(r.onRemove&&r.onRemove(l[c].spec),l.splice(c--,1));return l.length||i.length?new Pt(l,i):jn}function Es(n,e){return n.from-e.from||n.to-e.to}function q0(n){let e=n;for(let t=0;t<e.length-1;t++){let r=e[t];if(r.from!=r.to)for(let i=t+1;i<e.length;i++){let o=e[i];if(o.from==r.from){o.to!=r.to&&(e==n&&(e=n.slice()),e[i]=o.copy(o.from,r.to),TA(e,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==n&&(e=n.slice()),e[t]=r.copy(r.from,o.from),TA(e,i,r.copy(o.from,r.to)));break}}}return e}function TA(n,e,t){for(;e<n.length&&Es(t,n[e])>0;)e++;n.splice(e,0,t)}function ny(n){let e=[];return n.someProp("decorations",t=>{let r=t(n.state);r&&r!=jn&&e.push(r)}),n.cursorWrapper&&e.push(Pt.create(n.state.doc,[n.cursorWrapper.deco])),$a.from(e)}const EI={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},TI=lr&&lo<=11;class AI{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class OI{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new AI,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);lr&&lo<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():Dn&&e.composing&&r.some(i=>i.type=="childList"&&i.target.nodeName=="TR")?(e.input.badSafariComposition=!0,this.flushSoon()):this.flush()}),TI&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,EI)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(pA(this.view)){if(this.suppressingSelectionUpdates)return da(this.view);if(lr&&lo<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Cs(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,r;for(let o=e.focusNode;o;o=Ll(o))t.add(o);for(let o=e.anchorNode;o;o=Ll(o))if(t.has(o)){r=o;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&pA(e)&&!this.ignoreSelectionChange(r),o=-1,l=-1,c=!1,f=[];if(e.editable)for(let p=0;p<t.length;p++){let m=this.registerMutation(t[p],f);m&&(o=o<0?m.from:Math.min(m.from,o),l=l<0?m.to:Math.max(m.to,l),m.typeOver&&(c=!0))}if(Qr&&f.length){let p=f.filter(m=>m.nodeName=="BR");if(p.length==2){let[m,g]=p;m.parentNode&&m.parentNode.parentNode==g.parentNode?g.remove():m.remove()}else{let{focusNode:m}=this.currentSelection;for(let g of p){let y=g.parentNode;y&&y.nodeName=="LI"&&(!m||wI(e,m)!=y)&&g.remove()}}}else if((hn||Dn)&&f.some(p=>p.nodeName=="BR")&&(e.input.lastKeyCode==8||e.input.lastKeyCode==46)){for(let p of f)if(p.nodeName=="BR"&&p.parentNode){let m=p.nextSibling;m&&m.nodeType==1&&m.contentEditable=="false"&&p.parentNode.removeChild(p)}}let h=null;o<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&ip(r)&&(h=I0(e))&&h.eq(Ke.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,da(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||i)&&(o>-1&&(e.docView.markDirty(o,l),CI(e)),e.input.badSafariComposition&&(e.input.badSafariComposition=!1,xI(e,f)),this.handleDOMChange(o,l,c,f),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||da(e),this.currentSelection.set(r))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let p=0;p<e.addedNodes.length;p++){let m=e.addedNodes[p];t.push(m),m.nodeType==3&&(this.lastChangedTextNode=m)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,o=e.nextSibling;if(lr&&lo<=11&&e.addedNodes.length)for(let p=0;p<e.addedNodes.length;p++){let{previousSibling:m,nextSibling:g}=e.addedNodes[p];(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(i=m),(!g||Array.prototype.indexOf.call(e.addedNodes,g)<0)&&(o=g)}let l=i&&i.parentNode==e.target?_n(i)+1:0,c=r.localPosFromDOM(e.target,l,-1),f=o&&o.parentNode==e.target?_n(o):e.target.childNodes.length,h=r.localPosFromDOM(e.target,f,1);return{from:c,to:h}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let AA=new WeakMap,OA=!1;function CI(n){if(!AA.has(n)&&(AA.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=Qr,OA)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),OA=!0}}function CA(n,e){let t=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,l=n.domAtPos(n.state.selection.anchor);return Cs(l.node,l.offset,i,o)&&([t,r,i,o]=[i,o,t,r]),{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:o}}function MI(n,e){if(e.getComposedRanges){let i=e.getComposedRanges(n.root)[0];if(i)return CA(n,i)}let t;function r(i){i.preventDefault(),i.stopImmediatePropagation(),t=i.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",r,!0),t?CA(n,t):null}function wI(n,e){for(let t=e.parentNode;t&&t!=n.dom;t=t.parentNode){let r=n.docView.nearestDesc(t,!0);if(r&&r.node.isBlock)return t}return null}function xI(n,e){var t;let{focusNode:r,focusOffset:i}=n.domSelectionRange();for(let o of e)if(((t=o.parentNode)===null||t===void 0?void 0:t.nodeName)=="TR"){let l=o.nextSibling;for(;l&&l.nodeName!="TD"&&l.nodeName!="TH";)l=l.nextSibling;if(l){let c=l;for(;;){let f=c.firstChild;if(!f||f.nodeType!=1||f.contentEditable=="false"||/^(BR|IMG)$/.test(f.nodeName))break;c=f}c.insertBefore(o,c.firstChild),r==o&&n.domSelection().collapse(o,i)}else o.parentNode.removeChild(o)}}function _I(n,e,t){let{node:r,fromOffset:i,toOffset:o,from:l,to:c}=n.docView.parseRange(e,t),f=n.domSelectionRange(),h,p=f.anchorNode;if(p&&n.dom.contains(p.nodeType==1?p:p.parentNode)&&(h=[{node:p,offset:f.anchorOffset}],ip(f)||h.push({node:f.focusNode,offset:f.focusOffset})),hn&&n.input.lastKeyCode===8)for(let T=o;T>i;T--){let A=r.childNodes[T-1],M=A.pmViewDesc;if(A.nodeName=="BR"&&!M){o=T;break}if(!M||M.size)break}let m=n.state.doc,g=n.someProp("domParser")||so.fromSchema(n.state.schema),y=m.resolve(l),b=null,S=g.parse(r,{topNode:y.parent,topMatch:y.parent.contentMatchAt(y.index()),topOpen:!0,from:i,to:o,preserveWhitespace:y.parent.type.whitespace=="pre"?"full":!0,findPositions:h,ruleFromNode:kI,context:y});if(h&&h[0].pos!=null){let T=h[0].pos,A=h[1]&&h[1].pos;A==null&&(A=T),b={anchor:T+l,head:A+l}}return{doc:S,sel:b,from:l,to:c}}function kI(n){let e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(Dn&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(n.parentNode.lastChild==n||Dn&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const DI=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function NI(n,e,t,r,i){let o=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,e<0){let P=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,k=I0(n,P);if(k&&!n.state.selection.eq(k)){if(hn&&ua&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",B=>B(n,fs(13,"Enter"))))return;let j=n.state.tr.setSelection(k);P=="pointer"?j.setMeta("pointer",!0):P=="key"&&j.scrollIntoView(),o&&j.setMeta("composition",o),n.dispatch(j)}return}let l=n.state.doc.resolve(e),c=l.sharedDepth(t);e=l.before(c+1),t=n.state.doc.resolve(t).after(c+1);let f=n.state.selection,h=_I(n,e,t),p=n.state.doc,m=p.slice(h.from,h.to),g,y;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(g=n.state.selection.to,y="end"):(g=n.state.selection.from,y="start"),n.input.lastKeyCode=null;let b=jI(m.content,h.doc.content,h.from,g,y);if(b&&n.input.domChangeCount++,(Il&&n.input.lastIOSEnter>Date.now()-225||ua)&&i.some(P=>P.nodeType==1&&!DI.test(P.nodeName))&&(!b||b.endA>=b.endB)&&n.someProp("handleKeyDown",P=>P(n,fs(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!b)if(r&&f instanceof Le&&!f.empty&&f.$head.sameParent(f.$anchor)&&!n.composing&&!(h.sel&&h.sel.anchor!=h.sel.head))b={start:f.from,endA:f.to,endB:f.to};else{if(h.sel){let P=MA(n,n.state.doc,h.sel);if(P&&!P.eq(n.state.selection)){let k=n.state.tr.setSelection(P);o&&k.setMeta("composition",o),n.dispatch(k)}}return}n.state.selection.from<n.state.selection.to&&b.start==b.endB&&n.state.selection instanceof Le&&(b.start>n.state.selection.from&&b.start<=n.state.selection.from+2&&n.state.selection.from>=h.from?b.start=n.state.selection.from:b.endA<n.state.selection.to&&b.endA>=n.state.selection.to-2&&n.state.selection.to<=h.to&&(b.endB+=n.state.selection.to-b.endA,b.endA=n.state.selection.to)),lr&&lo<=11&&b.endB==b.start+1&&b.endA==b.start&&b.start>h.from&&h.doc.textBetween(b.start-h.from-1,b.start-h.from+1)==" "&&(b.start--,b.endA--,b.endB--);let S=h.doc.resolveNoCache(b.start-h.from),T=h.doc.resolveNoCache(b.endB-h.from),A=p.resolve(b.start),M=S.sameParent(T)&&S.parent.inlineContent&&A.end()>=b.endA;if((Il&&n.input.lastIOSEnter>Date.now()-225&&(!M||i.some(P=>P.nodeName=="DIV"||P.nodeName=="P"))||!M&&S.pos<h.doc.content.size&&(!S.sameParent(T)||!S.parent.inlineContent)&&S.pos<T.pos&&!/\S/.test(h.doc.textBetween(S.pos,T.pos,"","")))&&n.someProp("handleKeyDown",P=>P(n,fs(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>b.start&&PI(p,b.start,b.endA,S,T)&&n.someProp("handleKeyDown",P=>P(n,fs(8,"Backspace")))){ua&&hn&&n.domObserver.suppressSelectionUpdates();return}hn&&b.endB==b.start&&(n.input.lastChromeDelete=Date.now()),ua&&!M&&S.start()!=T.start()&&T.parentOffset==0&&S.depth==T.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==b.endA&&(b.endB-=2,T=h.doc.resolveNoCache(b.endB-h.from),setTimeout(()=>{n.someProp("handleKeyDown",function(P){return P(n,fs(13,"Enter"))})},20));let w=b.start,x=b.endA,N=P=>{let k=P||n.state.tr.replace(w,x,h.doc.slice(b.start-h.from,b.endB-h.from));if(h.sel){let j=MA(n,k.doc,h.sel);j&&!(hn&&n.composing&&j.empty&&(b.start!=b.endB||n.input.lastChromeDelete<Date.now()-100)&&(j.head==w||j.head==k.mapping.map(x)-1)||lr&&j.empty&&j.head==w)&&k.setSelection(j)}return o&&k.setMeta("composition",o),k.scrollIntoView()},z;if(M)if(S.pos==T.pos){lr&&lo<=11&&S.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>da(n),20));let P=N(n.state.tr.delete(w,x)),k=p.resolve(b.start).marksAcross(p.resolve(b.endA));k&&P.ensureMarks(k),n.dispatch(P)}else if(b.endA==b.endB&&(z=RI(S.parent.content.cut(S.parentOffset,T.parentOffset),A.parent.content.cut(A.parentOffset,b.endA-A.start())))){let P=N(n.state.tr);z.type=="add"?P.addMark(w,x,z.mark):P.removeMark(w,x,z.mark),n.dispatch(P)}else if(S.parent.child(S.index()).isText&&S.index()==T.index()-(T.textOffset?0:1)){let P=S.parent.textBetween(S.parentOffset,T.parentOffset),k=()=>N(n.state.tr.insertText(P,w,x));n.someProp("handleTextInput",j=>j(n,w,x,P,k))||n.dispatch(k())}else n.dispatch(N());else n.dispatch(N())}function MA(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:B0(n,e.resolve(t.anchor),e.resolve(t.head))}function RI(n,e){let t=n.firstChild.marks,r=e.firstChild.marks,i=t,o=r,l,c,f;for(let p=0;p<r.length;p++)i=r[p].removeFromSet(i);for(let p=0;p<t.length;p++)o=t[p].removeFromSet(o);if(i.length==1&&o.length==0)c=i[0],l="add",f=p=>p.mark(c.addToSet(p.marks));else if(i.length==0&&o.length==1)c=o[0],l="remove",f=p=>p.mark(c.removeFromSet(p.marks));else return null;let h=[];for(let p=0;p<e.childCount;p++)h.push(f(e.child(p)));if(se.from(h).eq(n))return{mark:c,type:l}}function PI(n,e,t,r,i){if(t-e<=i.pos-r.pos||ry(r,!0,!1)<i.pos)return!1;let o=n.resolve(e);if(!r.parent.isTextblock){let c=o.nodeAfter;return c!=null&&t==e+c.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let l=n.resolve(ry(o,!0,!0));return!l.parent.isTextblock||l.pos>t||ry(l,!0,!1)<t?!1:r.parent.content.cut(r.parentOffset).eq(l.parent.content)}function ry(n,e,t){let r=n.depth,i=e?n.end():n.pos;for(;r>0&&(e||n.indexAfter(r)==n.node(r).childCount);)r--,i++,e=!1;if(t){let o=n.node(r).maybeChild(n.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function jI(n,e,t,r,i){let o=n.findDiffStart(e,t);if(o==null)return null;let{a:l,b:c}=n.findDiffEnd(e,t+n.size,t+e.size);if(i=="end"){let f=Math.max(0,o-Math.min(l,c));r-=l+f-o}if(l<o&&n.size<e.size){let f=r<=o&&r>=l?o-r:0;o-=f,o&&o<e.size&&wA(e.textBetween(o-1,o+1))&&(o+=f?1:-1),c=o+(c-l),l=o}else if(c<o){let f=r<=o&&r>=c?o-r:0;o-=f,o&&o<n.size&&wA(n.textBetween(o-1,o+1))&&(o+=f?1:-1),l=o+(l-c),c=o}return{start:o,endA:l,endB:c}}function wA(n){if(n.length!=2)return!1;let e=n.charCodeAt(0),t=n.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class n_{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new XL,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(NA),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=kA(this),_A(this),this.nodeViews=DA(this),this.docView=lA(this.state.doc,xA(this),ny(this),this.dom,this),this.domObserver=new OI(this,(r,i,o,l)=>NI(this,r,i,o,l)),this.domObserver.start(),QL(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Hv(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(NA),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let r in this._props)t[r]=this._props[r];t.state=this.state;for(let r in e)t[r]=e[r];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var r;let i=this.state,o=!1,l=!1;e.storedMarks&&this.composing&&(Zx(this),l=!0),this.state=e;let c=i.plugins!=e.plugins||this._props.plugins!=t.plugins;if(c||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let y=DA(this);II(y,this.nodeViews)&&(this.nodeViews=y,o=!0)}(c||t.handleDOMEvents!=this._props.handleDOMEvents)&&Hv(this),this.editable=kA(this),_A(this);let f=ny(this),h=xA(this),p=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",m=o||!this.docView.matchesNode(e.doc,h,f);(m||!e.selection.eq(i.selection))&&(l=!0);let g=p=="preserve"&&l&&this.dom.style.overflowAnchor==null&&dL(this);if(l){this.domObserver.stop();let y=m&&(lr||hn)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&LI(i.selection,e.selection);if(m){let b=hn?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=dI(this)),(o||!this.docView.update(e.doc,h,f,this))&&(this.docView.updateOuterDeco(h),this.docView.destroy(),this.docView=lA(e.doc,h,f,this.dom,this)),b&&(!this.trackWrites||!this.dom.contains(this.trackWrites))&&(y=!0)}y||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&LL(this))?da(this,y):(Ix(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),p=="reset"?this.dom.scrollTop=0:p=="to selection"?this.scrollToSelection():g&&hL(g)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof ke){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&nA(this,t.getBoundingClientRect(),e)}else nA(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let r=this.directPlugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let r=this.state.plugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let r=this.pluginViews[t];r.update&&r.update(this,e)}}updateDraggedNode(e,t){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let o=r.from+(this.state.doc.content.size-t.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==r.node&&(i=o)}this.dragging=new Xx(e.slice,e.move,i<0?void 0:ke.create(this.state.doc,i))}someProp(e,t){let r=this._props&&this._props[e],i;if(r!=null&&(i=t?t(r):r))return i;for(let l=0;l<this.directPlugins.length;l++){let c=this.directPlugins[l].props[e];if(c!=null&&(i=t?t(c):c))return i}let o=this.state.plugins;if(o)for(let l=0;l<o.length;l++){let c=o[l].props[e];if(c!=null&&(i=t?t(c):c))return i}}hasFocus(){if(lr){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&pL(this.dom),da(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return bL(this,e)}coordsAtPos(e,t=1){return _x(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,r=-1){let i=this.docView.posFromDOM(e,t,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,t){return OL(this,t||this.state,e)}pasteHTML(e,t){return Nc(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return Nc(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return z0(this,e)}destroy(){this.docView&&($L(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],ny(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,nL())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return tI(this,e)}domSelectionRange(){let e=this.domSelection();return e?Dn&&this.root.nodeType===11&&sL(this.dom.ownerDocument)==this.dom&&MI(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}n_.prototype.dispatch=function(n){let e=this._props.dispatchTransaction;e?e.call(this,n):this.updateState(this.state.apply(n))};function xA(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),n.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(n.state)),t)for(let r in t)r=="class"?e.class+=" "+t[r]:r=="style"?e.style=(e.style?e.style+";":"")+t[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(t[r]))}),e.translate||(e.translate="no"),[Kn.node(0,n.state.doc.content.size,e)]}function _A(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:Kn.widget(n.state.selection.from,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function kA(n){return!n.someProp("editable",e=>e(n.state)===!1)}function LI(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}function DA(n){let e=Object.create(null);function t(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function II(n,e){let t=0,r=0;for(let i in n){if(n[i]!=e[i])return!0;t++}for(let i in e)r++;return t!=r}function NA(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var po={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},uh={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},BI=typeof navigator<"u"&&/Mac/.test(navigator.platform),zI=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var kn=0;kn<10;kn++)po[48+kn]=po[96+kn]=String(kn);for(var kn=1;kn<=24;kn++)po[kn+111]="F"+kn;for(var kn=65;kn<=90;kn++)po[kn]=String.fromCharCode(kn+32),uh[kn]=String.fromCharCode(kn);for(var iy in po)uh.hasOwnProperty(iy)||(uh[iy]=po[iy]);function UI(n){var e=BI&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||zI&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?uh:po)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const HI=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),FI=typeof navigator<"u"&&/Win/.test(navigator.platform);function VI(n){let e=n.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let r,i,o,l;for(let c=0;c<e.length-1;c++){let f=e[c];if(/^(cmd|meta|m)$/i.test(f))l=!0;else if(/^a(lt)?$/i.test(f))r=!0;else if(/^(c|ctrl|control)$/i.test(f))i=!0;else if(/^s(hift)?$/i.test(f))o=!0;else if(/^mod$/i.test(f))HI?l=!0:i=!0;else throw new Error("Unrecognized modifier name: "+f)}return r&&(t="Alt-"+t),i&&(t="Ctrl-"+t),l&&(t="Meta-"+t),o&&(t="Shift-"+t),t}function qI(n){let e=Object.create(null);for(let t in n)e[VI(t)]=n[t];return e}function ay(n,e,t=!0){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t&&e.shiftKey&&(n="Shift-"+n),n}function GI(n){return new Lt({props:{handleKeyDown:r_(n)}})}function r_(n){let e=qI(n);return function(t,r){let i=UI(r),o,l=e[ay(i,r)];if(l&&l(t.state,t.dispatch,t))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let c=e[ay(i,r,!1)];if(c&&c(t.state,t.dispatch,t))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(FI&&r.ctrlKey&&r.altKey)&&(o=po[r.keyCode])&&o!=i){let c=e[ay(o,r)];if(c&&c(t.state,t.dispatch,t))return!0}}return!1}}var WI=Object.defineProperty,G0=(n,e)=>{for(var t in e)WI(n,t,{get:e[t],enumerable:!0})};function sp(n){const{state:e,transaction:t}=n;let{selection:r}=t,{doc:i}=t,{storedMarks:o}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return r},get doc(){return i},get tr(){return r=t.selection,i=t.doc,o=t.storedMarks,t}}}var lp=class{constructor(n){this.editor=n.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=n.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:n,editor:e,state:t}=this,{view:r}=e,{tr:i}=t,o=this.buildProps(i);return Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...h)=>{const p=c(...h)(o);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(i),p}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(n,e=!0){const{rawCommands:t,editor:r,state:i}=this,{view:o}=r,l=[],c=!!n,f=n||i.tr,h=()=>(!c&&e&&!f.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(f),l.every(m=>m===!0)),p={...Object.fromEntries(Object.entries(t).map(([m,g])=>[m,(...b)=>{const S=this.buildProps(f,e),T=g(...b)(S);return l.push(T),p}])),run:h};return p}createCan(n){const{rawCommands:e,state:t}=this,r=!1,i=n||t.tr,o=this.buildProps(i,r);return{...Object.fromEntries(Object.entries(e).map(([c,f])=>[c,(...h)=>f(...h)({...o,dispatch:void 0})])),chain:()=>this.createChain(i,r)}}buildProps(n,e=!0){const{rawCommands:t,editor:r,state:i}=this,{view:o}=r,l={tr:n,editor:r,view:o,state:sp({state:i,transaction:n}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(n,e),can:()=>this.createCan(n),get commands(){return Object.fromEntries(Object.entries(t).map(([c,f])=>[c,(...h)=>f(...h)(l)]))}};return l}},i_={};G0(i_,{blur:()=>YI,clearContent:()=>KI,clearNodes:()=>ZI,command:()=>JI,createParagraphNear:()=>XI,cut:()=>QI,deleteCurrentNode:()=>$I,deleteNode:()=>eB,deleteRange:()=>tB,deleteSelection:()=>nB,enter:()=>rB,exitCode:()=>iB,extendMarkRange:()=>aB,first:()=>oB,focus:()=>lB,forEach:()=>uB,insertContent:()=>cB,insertContentAt:()=>hB,joinBackward:()=>gB,joinDown:()=>mB,joinForward:()=>yB,joinItemBackward:()=>vB,joinItemForward:()=>bB,joinTextblockBackward:()=>SB,joinTextblockForward:()=>EB,joinUp:()=>pB,keyboardShortcut:()=>AB,lift:()=>OB,liftEmptyBlock:()=>CB,liftListItem:()=>MB,newlineInCode:()=>wB,resetAttributes:()=>xB,scrollIntoView:()=>_B,selectAll:()=>kB,selectNodeBackward:()=>DB,selectNodeForward:()=>NB,selectParentNode:()=>RB,selectTextblockEnd:()=>PB,selectTextblockStart:()=>jB,setContent:()=>LB,setMark:()=>nz,setMeta:()=>rz,setNode:()=>iz,setNodeSelection:()=>az,setTextDirection:()=>oz,setTextSelection:()=>sz,sinkListItem:()=>lz,splitBlock:()=>uz,splitListItem:()=>cz,toggleList:()=>fz,toggleMark:()=>dz,toggleNode:()=>hz,toggleWrap:()=>pz,undoInputRule:()=>mz,unsetAllMarks:()=>gz,unsetMark:()=>yz,unsetTextDirection:()=>vz,updateAttributes:()=>bz,wrapIn:()=>Sz,wrapInList:()=>Ez});var YI=()=>({editor:n,view:e})=>(requestAnimationFrame(()=>{var t;n.isDestroyed||(e.dom.blur(),(t=window?.getSelection())==null||t.removeAllRanges())}),!0),KI=(n=!0)=>({commands:e})=>e.setContent("",{emitUpdate:n}),ZI=()=>({state:n,tr:e,dispatch:t})=>{const{selection:r}=e,{ranges:i}=r;return t&&i.forEach(({$from:o,$to:l})=>{n.doc.nodesBetween(o.pos,l.pos,(c,f)=>{if(c.type.isText)return;const{doc:h,mapping:p}=e,m=h.resolve(p.map(f)),g=h.resolve(p.map(f+c.nodeSize)),y=m.blockRange(g);if(!y)return;const b=ql(y);if(c.type.isTextblock){const{defaultType:S}=m.parent.contentMatchAt(m.index());e.setNodeMarkup(y.start,S)}(b||b===0)&&e.lift(y,b)})}),!0},JI=n=>e=>n(e),XI=()=>({state:n,dispatch:e})=>vx(n,e),QI=(n,e)=>({editor:t,tr:r})=>{const{state:i}=t,o=i.doc.slice(n.from,n.to);r.deleteRange(n.from,n.to);const l=r.mapping.map(e);return r.insert(l,o.content),r.setSelection(new Le(r.doc.resolve(Math.max(l-1,0)))),!0},$I=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,r=t.$anchor.node();if(r.content.size>0)return!1;const i=n.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===r.type){if(e){const c=i.before(o),f=i.after(o);n.delete(c,f).scrollIntoView()}return!0}return!1};function nn(n,e){if(typeof n=="string"){if(!e.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return e.nodes[n]}return n}var eB=n=>({tr:e,state:t,dispatch:r})=>{const i=nn(n,t.schema),o=e.selection.$anchor;for(let l=o.depth;l>0;l-=1)if(o.node(l).type===i){if(r){const f=o.before(l),h=o.after(l);e.delete(f,h).scrollIntoView()}return!0}return!1},tB=n=>({tr:e,dispatch:t})=>{const{from:r,to:i}=n;return t&&e.delete(r,i),!0},nB=()=>({state:n,dispatch:e})=>D0(n,e),rB=()=>({commands:n})=>n.keyboardShortcut("Enter"),iB=()=>({state:n,dispatch:e})=>Hj(n,e);function W0(n){return Object.prototype.toString.call(n)==="[object RegExp]"}function ch(n,e,t={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>t.strict?e[i]===n[i]:W0(e[i])?e[i].test(n[i]):e[i]===n[i]):!0}function a_(n,e,t={}){return n.find(r=>r.type===e&&ch(Object.fromEntries(Object.keys(t).map(i=>[i,r.attrs[i]])),t))}function RA(n,e,t={}){return!!a_(n,e,t)}function Y0(n,e,t){var r;if(!n||!e)return;let i=n.parent.childAfter(n.parentOffset);if((!i.node||!i.node.marks.some(p=>p.type===e))&&(i=n.parent.childBefore(n.parentOffset)),!i.node||!i.node.marks.some(p=>p.type===e)||(t=t||((r=i.node.marks[0])==null?void 0:r.attrs),!a_([...i.node.marks],e,t)))return;let l=i.index,c=n.start()+i.offset,f=l+1,h=c+i.node.nodeSize;for(;l>0&&RA([...n.parent.child(l-1).marks],e,t);)l-=1,c-=n.parent.child(l).nodeSize;for(;f<n.parent.childCount&&RA([...n.parent.child(f).marks],e,t);)h+=n.parent.child(f).nodeSize,f+=1;return{from:c,to:h}}function ya(n,e){if(typeof n=="string"){if(!e.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return e.marks[n]}return n}var aB=(n,e={})=>({tr:t,state:r,dispatch:i})=>{const o=ya(n,r.schema),{doc:l,selection:c}=t,{$from:f,from:h,to:p}=c;if(i){const m=Y0(f,o,e);if(m&&m.from<=h&&m.to>=p){const g=Le.create(l,m.from,m.to);t.setSelection(g)}}return!0},oB=n=>e=>{const t=typeof n=="function"?n(e):n;for(let r=0;r<t.length;r+=1)if(t[r](e))return!0;return!1};function o_(n){return n instanceof Le}function ms(n=0,e=0,t=0){return Math.min(Math.max(n,e),t)}function s_(n,e=null){if(!e)return null;const t=Ke.atStart(n),r=Ke.atEnd(n);if(e==="start"||e===!0)return t;if(e==="end")return r;const i=t.from,o=r.to;return e==="all"?Le.create(n,ms(0,i,o),ms(n.content.size,i,o)):Le.create(n,ms(e,i,o),ms(e,i,o))}function PA(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function fh(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function sB(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}var lB=(n=null,e={})=>({editor:t,view:r,tr:i,dispatch:o})=>{e={scrollIntoView:!0,...e};const l=()=>{(fh()||PA())&&r.dom.focus(),sB()&&!fh()&&!PA()&&r.dom.focus({preventScroll:!0}),requestAnimationFrame(()=>{t.isDestroyed||(r.focus(),e?.scrollIntoView&&t.commands.scrollIntoView())})};if(r.hasFocus()&&n===null||n===!1)return!0;if(o&&n===null&&!o_(t.state.selection))return l(),!0;const c=s_(i.doc,n)||t.state.selection,f=t.state.selection.eq(c);return o&&(f||i.setSelection(c),f&&i.storedMarks&&i.setStoredMarks(i.storedMarks),l()),!0},uB=(n,e)=>t=>n.every((r,i)=>e(r,{...t,index:i})),cB=(n,e)=>({tr:t,commands:r})=>r.insertContentAt({from:t.selection.from,to:t.selection.to},n,e),l_=n=>{const e=n.childNodes;for(let t=e.length-1;t>=0;t-=1){const r=e[t];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?n.removeChild(r):r.nodeType===1&&l_(r)}return n};function Sd(n){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${n}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return l_(t)}function Pc(n,e,t){if(n instanceof oo||n instanceof se)return n;t={slice:!0,parseOptions:{},...t};const r=typeof n=="object"&&n!==null,i=typeof n=="string";if(r)try{if(Array.isArray(n)&&n.length>0)return se.fromArray(n.map(c=>e.nodeFromJSON(c)));const l=e.nodeFromJSON(n);return t.errorOnInvalidContent&&l.check(),l}catch(o){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",o),Pc("",e,t)}if(i){if(t.errorOnInvalidContent){let l=!1,c="";const f=new Gw({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:h=>(l=!0,c=typeof h=="string"?h:h.outerHTML,null)}]}})});if(t.slice?so.fromSchema(f).parseSlice(Sd(n),t.parseOptions):so.fromSchema(f).parse(Sd(n),t.parseOptions),t.errorOnInvalidContent&&l)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${c}`)})}const o=so.fromSchema(e);return t.slice?o.parseSlice(Sd(n),t.parseOptions).content:o.parse(Sd(n),t.parseOptions)}return Pc("",e,t)}function fB(n,e,t){const r=n.steps.length-1;if(r<e)return;const i=n.steps[r];if(!(i instanceof dn||i instanceof pn))return;const o=n.mapping.maps[r];let l=0;o.forEach((c,f,h,p)=>{l===0&&(l=p)}),n.setSelection(Ke.near(n.doc.resolve(l),t))}var dB=n=>!("type"in n),hB=(n,e,t)=>({tr:r,dispatch:i,editor:o})=>{var l;if(i){t={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let c;const f=T=>{o.emit("contentError",{editor:o,error:T,disableCollaboration:()=>{"collaboration"in o.storage&&typeof o.storage.collaboration=="object"&&o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}})},h={preserveWhitespace:"full",...t.parseOptions};if(!t.errorOnInvalidContent&&!o.options.enableContentCheck&&o.options.emitContentError)try{Pc(e,o.schema,{parseOptions:h,errorOnInvalidContent:!0})}catch(T){f(T)}try{c=Pc(e,o.schema,{parseOptions:h,errorOnInvalidContent:(l=t.errorOnInvalidContent)!=null?l:o.options.enableContentCheck})}catch(T){return f(T),!1}let{from:p,to:m}=typeof n=="number"?{from:n,to:n}:{from:n.from,to:n.to},g=!0,y=!0;if((dB(c)?c:[c]).forEach(T=>{T.check(),g=g?T.isText&&T.marks.length===0:!1,y=y?T.isBlock:!1}),p===m&&y){const{parent:T}=r.doc.resolve(p);T.isTextblock&&!T.type.spec.code&&!T.childCount&&(p-=1,m+=1)}let S;if(g){if(Array.isArray(e))S=e.map(T=>T.text||"").join("");else if(e instanceof se){let T="";e.forEach(A=>{A.text&&(T+=A.text)}),S=T}else typeof e=="object"&&e&&e.text?S=e.text:S=e;r.insertText(S,p,m)}else{S=c;const T=r.doc.resolve(p),A=T.node(),M=T.parentOffset===0,w=A.isText||A.isTextblock,x=A.content.size>0;M&&w&&x&&(p=Math.max(0,p-1)),r.replaceWith(p,m,S)}t.updateSelection&&fB(r,r.steps.length-1,-1),t.applyInputRules&&r.setMeta("applyInputRules",{from:p,text:S}),t.applyPasteRules&&r.setMeta("applyPasteRules",{from:p,text:S})}return!0},pB=()=>({state:n,dispatch:e})=>Bj(n,e),mB=()=>({state:n,dispatch:e})=>zj(n,e),gB=()=>({state:n,dispatch:e})=>fx(n,e),yB=()=>({state:n,dispatch:e})=>mx(n,e),vB=()=>({state:n,dispatch:e,tr:t})=>{try{const r=tp(n.doc,n.selection.$from.pos,-1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},bB=()=>({state:n,dispatch:e,tr:t})=>{try{const r=tp(n.doc,n.selection.$from.pos,1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},SB=()=>({state:n,dispatch:e})=>Lj(n,e),EB=()=>({state:n,dispatch:e})=>Ij(n,e);function u_(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function TB(n){const e=n.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let r,i,o,l;for(let c=0;c<e.length-1;c+=1){const f=e[c];if(/^(cmd|meta|m)$/i.test(f))l=!0;else if(/^a(lt)?$/i.test(f))r=!0;else if(/^(c|ctrl|control)$/i.test(f))i=!0;else if(/^s(hift)?$/i.test(f))o=!0;else if(/^mod$/i.test(f))fh()||u_()?l=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${f}`)}return r&&(t=`Alt-${t}`),i&&(t=`Ctrl-${t}`),l&&(t=`Meta-${t}`),o&&(t=`Shift-${t}`),t}var AB=n=>({editor:e,view:t,tr:r,dispatch:i})=>{const o=TB(n).split(/-(?!$)/),l=o.find(h=>!["Alt","Ctrl","Meta","Shift"].includes(h)),c=new KeyboardEvent("keydown",{key:l==="Space"?" ":l,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),f=e.captureTransaction(()=>{t.someProp("handleKeyDown",h=>h(t,c))});return f?.steps.forEach(h=>{const p=h.map(r.mapping);p&&i&&r.maybeStep(p)}),!0};function mo(n,e,t={}){const{from:r,to:i,empty:o}=n.selection,l=e?nn(e,n.schema):null,c=[];n.doc.nodesBetween(r,i,(m,g)=>{if(m.isText)return;const y=Math.max(r,g),b=Math.min(i,g+m.nodeSize);c.push({node:m,from:y,to:b})});const f=i-r,h=c.filter(m=>l?l.name===m.node.type.name:!0).filter(m=>ch(m.node.attrs,t,{strict:!1}));return o?!!h.length:h.reduce((m,g)=>m+g.to-g.from,0)>=f}var OB=(n,e={})=>({state:t,dispatch:r})=>{const i=nn(n,t.schema);return mo(t,i,e)?Uj(t,r):!1},CB=()=>({state:n,dispatch:e})=>bx(n,e),MB=n=>({state:e,dispatch:t})=>{const r=nn(n,e.schema);return Qj(r)(e,t)},wB=()=>({state:n,dispatch:e})=>yx(n,e);function up(n,e){return e.nodes[n]?"node":e.marks[n]?"mark":null}function jA(n,e){const t=typeof e=="string"?[e]:e;return Object.keys(n).reduce((r,i)=>(t.includes(i)||(r[i]=n[i]),r),{})}var xB=(n,e)=>({tr:t,state:r,dispatch:i})=>{let o=null,l=null;const c=up(typeof n=="string"?n:n.name,r.schema);if(!c)return!1;c==="node"&&(o=nn(n,r.schema)),c==="mark"&&(l=ya(n,r.schema));let f=!1;return t.selection.ranges.forEach(h=>{r.doc.nodesBetween(h.$from.pos,h.$to.pos,(p,m)=>{o&&o===p.type&&(f=!0,i&&t.setNodeMarkup(m,void 0,jA(p.attrs,e))),l&&p.marks.length&&p.marks.forEach(g=>{l===g.type&&(f=!0,i&&t.addMark(m,m+p.nodeSize,l.create(jA(g.attrs,e))))})})}),f},_B=()=>({tr:n,dispatch:e})=>(e&&n.scrollIntoView(),!0),kB=()=>({tr:n,dispatch:e})=>{if(e){const t=new Dr(n.doc);n.setSelection(t)}return!0},DB=()=>({state:n,dispatch:e})=>hx(n,e),NB=()=>({state:n,dispatch:e})=>gx(n,e),RB=()=>({state:n,dispatch:e})=>qj(n,e),PB=()=>({state:n,dispatch:e})=>Yj(n,e),jB=()=>({state:n,dispatch:e})=>Wj(n,e);function Fv(n,e,t={},r={}){return Pc(n,e,{slice:!1,parseOptions:t,errorOnInvalidContent:r.errorOnInvalidContent})}var LB=(n,{errorOnInvalidContent:e,emitUpdate:t=!0,parseOptions:r={}}={})=>({editor:i,tr:o,dispatch:l,commands:c})=>{const{doc:f}=o;if(r.preserveWhitespace!=="full"){const h=Fv(n,i.schema,r,{errorOnInvalidContent:e??i.options.enableContentCheck});return l&&o.replaceWith(0,f.content.size,h).setMeta("preventUpdate",!t),!0}return l&&o.setMeta("preventUpdate",!t),c.insertContentAt({from:0,to:f.content.size},n,{parseOptions:r,errorOnInvalidContent:e??i.options.enableContentCheck})};function c_(n,e){const t=ya(e,n.schema),{from:r,to:i,empty:o}=n.selection,l=[];o?(n.storedMarks&&l.push(...n.storedMarks),l.push(...n.selection.$head.marks())):n.doc.nodesBetween(r,i,f=>{l.push(...f.marks)});const c=l.find(f=>f.type.name===t.name);return c?{...c.attrs}:{}}function f_(n,e){const t=new sx(n);return e.forEach(r=>{r.steps.forEach(i=>{t.step(i)})}),t}function IB(n){for(let e=0;e<n.edgeCount;e+=1){const{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function BB(n,e,t){const r=[];return n.nodesBetween(e.from,e.to,(i,o)=>{t(i)&&r.push({node:i,pos:o})}),r}function zB(n,e){for(let t=n.depth;t>0;t-=1){const r=n.node(t);if(e(r))return{pos:t>0?n.before(t):0,start:n.start(t),depth:t,node:r}}}function cp(n){return e=>zB(e.$from,n)}function we(n,e,t){return n.config[e]===void 0&&n.parent?we(n.parent,e,t):typeof n.config[e]=="function"?n.config[e].bind({...t,parent:n.parent?we(n.parent,e,t):null}):n.config[e]}function K0(n){return n.map(e=>{const t={name:e.name,options:e.options,storage:e.storage},r=we(e,"addExtensions",t);return r?[e,...K0(r())]:e}).flat(10)}function Z0(n,e){const t=_s.fromSchema(e).serializeFragment(n),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(t),i.innerHTML}function d_(n){return typeof n=="function"}function vt(n,e=void 0,...t){return d_(n)?e?n.bind(e)(...t):n(...t):n}function UB(n={}){return Object.keys(n).length===0&&n.constructor===Object}function Bl(n){const e=n.filter(i=>i.type==="extension"),t=n.filter(i=>i.type==="node"),r=n.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:r}}function h_(n){const e=[],{nodeExtensions:t,markExtensions:r}=Bl(n),i=[...t,...r],o={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return n.forEach(l=>{const c={name:l.name,options:l.options,storage:l.storage,extensions:i},f=we(l,"addGlobalAttributes",c);if(!f)return;f().forEach(p=>{p.types.forEach(m=>{Object.entries(p.attributes).forEach(([g,y])=>{e.push({type:m,name:g,attribute:{...o,...y}})})})})}),i.forEach(l=>{const c={name:l.name,options:l.options,storage:l.storage},f=we(l,"addAttributes",c);if(!f)return;const h=f();Object.entries(h).forEach(([p,m])=>{const g={...o,...m};typeof g?.default=="function"&&(g.default=g.default()),g?.isRequired&&g?.default===void 0&&delete g.default,e.push({type:l.name,name:p,attribute:g})})}),e}function rn(...n){return n.filter(e=>!!e).reduce((e,t)=>{const r={...e};return Object.entries(t).forEach(([i,o])=>{if(!r[i]){r[i]=o;return}if(i==="class"){const c=o?String(o).split(" "):[],f=r[i]?r[i].split(" "):[],h=c.filter(p=>!f.includes(p));r[i]=[...f,...h].join(" ")}else if(i==="style"){const c=o?o.split(";").map(p=>p.trim()).filter(Boolean):[],f=r[i]?r[i].split(";").map(p=>p.trim()).filter(Boolean):[],h=new Map;f.forEach(p=>{const[m,g]=p.split(":").map(y=>y.trim());h.set(m,g)}),c.forEach(p=>{const[m,g]=p.split(":").map(y=>y.trim());h.set(m,g)}),r[i]=Array.from(h.entries()).map(([p,m])=>`${p}: ${m}`).join("; ")}else r[i]=o}),r},{})}function jc(n,e){return e.filter(t=>t.type===n.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(n.attrs)||{}:{[t.name]:n.attrs[t.name]}).reduce((t,r)=>rn(t,r),{})}function HB(n){return typeof n!="string"?n:n.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(n):n==="true"?!0:n==="false"?!1:n}function LA(n,e){return"style"in n?n:{...n,getAttrs:t=>{const r=n.getAttrs?n.getAttrs(t):n.attrs;if(r===!1)return!1;const i=e.reduce((o,l)=>{const c=l.attribute.parseHTML?l.attribute.parseHTML(t):HB(t.getAttribute(l.name));return c==null?o:{...o,[l.name]:c}},{});return{...r,...i}}}}function IA(n){return Object.fromEntries(Object.entries(n).filter(([e,t])=>e==="attrs"&&UB(t)?!1:t!=null))}function BA(n){var e,t;const r={};return!((e=n?.attribute)!=null&&e.isRequired)&&"default"in(n?.attribute||{})&&(r.default=n.attribute.default),((t=n?.attribute)==null?void 0:t.validate)!==void 0&&(r.validate=n.attribute.validate),[n.name,r]}function FB(n,e){var t;const r=h_(n),{nodeExtensions:i,markExtensions:o}=Bl(n),l=(t=i.find(h=>we(h,"topNode")))==null?void 0:t.name,c=Object.fromEntries(i.map(h=>{const p=r.filter(A=>A.type===h.name),m={name:h.name,options:h.options,storage:h.storage,editor:e},g=n.reduce((A,M)=>{const w=we(M,"extendNodeSchema",m);return{...A,...w?w(h):{}}},{}),y=IA({...g,content:vt(we(h,"content",m)),marks:vt(we(h,"marks",m)),group:vt(we(h,"group",m)),inline:vt(we(h,"inline",m)),atom:vt(we(h,"atom",m)),selectable:vt(we(h,"selectable",m)),draggable:vt(we(h,"draggable",m)),code:vt(we(h,"code",m)),whitespace:vt(we(h,"whitespace",m)),linebreakReplacement:vt(we(h,"linebreakReplacement",m)),defining:vt(we(h,"defining",m)),isolating:vt(we(h,"isolating",m)),attrs:Object.fromEntries(p.map(BA))}),b=vt(we(h,"parseHTML",m));b&&(y.parseDOM=b.map(A=>LA(A,p)));const S=we(h,"renderHTML",m);S&&(y.toDOM=A=>S({node:A,HTMLAttributes:jc(A,p)}));const T=we(h,"renderText",m);return T&&(y.toText=T),[h.name,y]})),f=Object.fromEntries(o.map(h=>{const p=r.filter(T=>T.type===h.name),m={name:h.name,options:h.options,storage:h.storage,editor:e},g=n.reduce((T,A)=>{const M=we(A,"extendMarkSchema",m);return{...T,...M?M(h):{}}},{}),y=IA({...g,inclusive:vt(we(h,"inclusive",m)),excludes:vt(we(h,"excludes",m)),group:vt(we(h,"group",m)),spanning:vt(we(h,"spanning",m)),code:vt(we(h,"code",m)),attrs:Object.fromEntries(p.map(BA))}),b=vt(we(h,"parseHTML",m));b&&(y.parseDOM=b.map(T=>LA(T,p)));const S=we(h,"renderHTML",m);return S&&(y.toDOM=T=>S({mark:T,HTMLAttributes:jc(T,p)})),[h.name,y]}));return new Gw({topNode:l,nodes:c,marks:f})}function VB(n){const e=n.filter((t,r)=>n.indexOf(t)!==r);return Array.from(new Set(e))}function dh(n){return n.sort((t,r)=>{const i=we(t,"priority")||100,o=we(r,"priority")||100;return i>o?-1:i<o?1:0})}function p_(n){const e=dh(K0(n)),t=VB(e.map(r=>r.name));return t.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${t.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function m_(n,e,t){const{from:r,to:i}=e,{blockSeparator:o=`

`,textSerializers:l={}}=t||{};let c="";return n.nodesBetween(r,i,(f,h,p,m)=>{var g;f.isBlock&&h>r&&(c+=o);const y=l?.[f.type.name];if(y)return p&&(c+=y({node:f,pos:h,parent:p,index:m,range:e})),!1;f.isText&&(c+=(g=f?.text)==null?void 0:g.slice(Math.max(r,h)-h,i-h))}),c}function qB(n,e){const t={from:0,to:n.content.size};return m_(n,t,e)}function g_(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}function GB(n,e){const t=nn(e,n.schema),{from:r,to:i}=n.selection,o=[];n.doc.nodesBetween(r,i,c=>{o.push(c)});const l=o.reverse().find(c=>c.type.name===t.name);return l?{...l.attrs}:{}}function y_(n,e){const t=up(typeof e=="string"?e:e.name,n.schema);return t==="node"?GB(n,e):t==="mark"?c_(n,e):{}}function WB(n,e=JSON.stringify){const t={};return n.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(t,i)?!1:t[i]=!0})}function YB(n){const e=WB(n);return e.length===1?e:e.filter((t,r)=>!e.filter((o,l)=>l!==r).some(o=>t.oldRange.from>=o.oldRange.from&&t.oldRange.to<=o.oldRange.to&&t.newRange.from>=o.newRange.from&&t.newRange.to<=o.newRange.to))}function v_(n){const{mapping:e,steps:t}=n,r=[];return e.maps.forEach((i,o)=>{const l=[];if(i.ranges.length)i.forEach((c,f)=>{l.push({from:c,to:f})});else{const{from:c,to:f}=t[o];if(c===void 0||f===void 0)return;l.push({from:c,to:f})}l.forEach(({from:c,to:f})=>{const h=e.slice(o).map(c,-1),p=e.slice(o).map(f),m=e.invert().map(h,-1),g=e.invert().map(p);r.push({oldRange:{from:m,to:g},newRange:{from:h,to:p}})})}),YB(r)}function J0(n,e,t){const r=[];return n===e?t.resolve(n).marks().forEach(i=>{const o=t.resolve(n),l=Y0(o,i.type);l&&r.push({mark:i,...l})}):t.nodesBetween(n,e,(i,o)=>{!i||i?.nodeSize===void 0||r.push(...i.marks.map(l=>({from:o,to:o+i.nodeSize,mark:l})))}),r}var KB=(n,e,t,r=20)=>{const i=n.doc.resolve(t);let o=r,l=null;for(;o>0&&l===null;){const c=i.node(o);c?.type.name===e?l=c:o-=1}return[l,o]};function Ed(n,e){return e.nodes[n]||e.marks[n]||null}function Gd(n,e,t){return Object.fromEntries(Object.entries(t).filter(([r])=>{const i=n.find(o=>o.type===e&&o.name===r);return i?i.attribute.keepOnSplit:!1}))}var ZB=(n,e=500)=>{let t="";const r=n.parentOffset;return n.parent.nodesBetween(Math.max(0,r-e),r,(i,o,l,c)=>{var f,h;const p=((h=(f=i.type.spec).toText)==null?void 0:h.call(f,{node:i,pos:o,parent:l,index:c}))||i.textContent||"%leaf%";t+=i.isAtom&&!i.isText?p:p.slice(0,Math.max(0,r-o))}),t};function Vv(n,e,t={}){const{empty:r,ranges:i}=n.selection,o=e?ya(e,n.schema):null;if(r)return!!(n.storedMarks||n.selection.$from.marks()).filter(m=>o?o.name===m.type.name:!0).find(m=>ch(m.attrs,t,{strict:!1}));let l=0;const c=[];if(i.forEach(({$from:m,$to:g})=>{const y=m.pos,b=g.pos;n.doc.nodesBetween(y,b,(S,T)=>{if(!S.isText&&!S.marks.length)return;const A=Math.max(y,T),M=Math.min(b,T+S.nodeSize),w=M-A;l+=w,c.push(...S.marks.map(x=>({mark:x,from:A,to:M})))})}),l===0)return!1;const f=c.filter(m=>o?o.name===m.mark.type.name:!0).filter(m=>ch(m.mark.attrs,t,{strict:!1})).reduce((m,g)=>m+g.to-g.from,0),h=c.filter(m=>o?m.mark.type!==o&&m.mark.type.excludes(o):!0).reduce((m,g)=>m+g.to-g.from,0);return(f>0?f+h:f)>=l}function JB(n,e,t={}){if(!e)return mo(n,null,t)||Vv(n,null,t);const r=up(e,n.schema);return r==="node"?mo(n,e,t):r==="mark"?Vv(n,e,t):!1}var XB=(n,e)=>{const{$from:t,$to:r,$anchor:i}=n.selection;if(e){const o=cp(c=>c.type.name===e)(n.selection);if(!o)return!1;const l=n.doc.resolve(o.pos+1);return i.pos+1===l.end()}return!(r.parentOffset<r.parent.nodeSize-2||t.pos!==r.pos)},QB=n=>{const{$from:e,$to:t}=n.selection;return!(e.parentOffset>0||e.pos!==t.pos)};function zA(n,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===n.name):e}function UA(n,e){const{nodeExtensions:t}=Bl(e),r=t.find(l=>l.name===n);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},o=vt(we(r,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}function fp(n,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var r;if(t){if(n.type.name==="hardBreak")return!0;if(n.isText)return/^\s*$/m.test((r=n.text)!=null?r:"")}if(n.isText)return!n.text;if(n.isAtom||n.isLeaf)return!1;if(n.content.childCount===0)return!0;if(e){let i=!0;return n.content.forEach(o=>{i!==!1&&(fp(o,{ignoreWhitespace:t,checkChildren:e})||(i=!1))}),i}return!1}function b_(n){return n instanceof ke}var S_=class E_{constructor(e){this.position=e}static fromJSON(e){return new E_(e.position)}toJSON(){return{position:this.position}}};function $B(n,e){const t=e.mapping.mapResult(n.position);return{position:new S_(t.pos),mapResult:t}}function ez(n){return new S_(n)}function tz(n,e,t){var r;const{selection:i}=e;let o=null;if(o_(i)&&(o=i.$cursor),o){const c=(r=n.storedMarks)!=null?r:o.marks();return o.parent.type.allowsMarkType(t)&&(!!t.isInSet(c)||!c.some(h=>h.type.excludes(t)))}const{ranges:l}=i;return l.some(({$from:c,$to:f})=>{let h=c.depth===0?n.doc.inlineContent&&n.doc.type.allowsMarkType(t):!1;return n.doc.nodesBetween(c.pos,f.pos,(p,m,g)=>{if(h)return!1;if(p.isInline){const y=!g||g.type.allowsMarkType(t),b=!!t.isInSet(p.marks)||!p.marks.some(S=>S.type.excludes(t));h=y&&b}return!h}),h})}var nz=(n,e={})=>({tr:t,state:r,dispatch:i})=>{const{selection:o}=t,{empty:l,ranges:c}=o,f=ya(n,r.schema);if(i)if(l){const h=c_(r,f);t.addStoredMark(f.create({...h,...e}))}else c.forEach(h=>{const p=h.$from.pos,m=h.$to.pos;r.doc.nodesBetween(p,m,(g,y)=>{const b=Math.max(y,p),S=Math.min(y+g.nodeSize,m);g.marks.find(A=>A.type===f)?g.marks.forEach(A=>{f===A.type&&t.addMark(b,S,f.create({...A.attrs,...e}))}):t.addMark(b,S,f.create(e))})});return tz(r,t,f)},rz=(n,e)=>({tr:t})=>(t.setMeta(n,e),!0),iz=(n,e={})=>({state:t,dispatch:r,chain:i})=>{const o=nn(n,t.schema);let l;return t.selection.$anchor.sameParent(t.selection.$head)&&(l=t.selection.$anchor.parent.attrs),o.isTextblock?i().command(({commands:c})=>$T(o,{...l,...e})(t)?!0:c.clearNodes()).command(({state:c})=>$T(o,{...l,...e})(c,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},az=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,i=ms(n,0,r.content.size),o=ke.create(r,i);e.setSelection(o)}return!0},oz=(n,e)=>({tr:t,state:r,dispatch:i})=>{const{selection:o}=r;let l,c;return typeof e=="number"?(l=e,c=e):e&&"from"in e&&"to"in e?(l=e.from,c=e.to):(l=o.from,c=o.to),i&&t.doc.nodesBetween(l,c,(f,h)=>{f.isText||t.setNodeMarkup(h,void 0,{...f.attrs,dir:n})}),!0},sz=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,{from:i,to:o}=typeof n=="number"?{from:n,to:n}:n,l=Le.atStart(r).from,c=Le.atEnd(r).to,f=ms(i,l,c),h=ms(o,l,c),p=Le.create(r,f,h);e.setSelection(p)}return!0},lz=n=>({state:e,dispatch:t})=>{const r=nn(n,e.schema);return tL(r)(e,t)};function HA(n,e){const t=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(t){const r=t.filter(i=>e?.includes(i.type.name));n.tr.ensureMarks(r)}}var uz=({keepMarks:n=!0}={})=>({tr:e,state:t,dispatch:r,editor:i})=>{const{selection:o,doc:l}=e,{$from:c,$to:f}=o,h=i.extensionManager.attributes,p=Gd(h,c.node().type.name,c.node().attrs);if(o instanceof ke&&o.node.isBlock)return!c.parentOffset||!fa(l,c.pos)?!1:(r&&(n&&HA(t,i.extensionManager.splittableMarks),e.split(c.pos).scrollIntoView()),!0);if(!c.parent.isBlock)return!1;const m=f.parentOffset===f.parent.content.size,g=c.depth===0?void 0:IB(c.node(-1).contentMatchAt(c.indexAfter(-1)));let y=m&&g?[{type:g,attrs:p}]:void 0,b=fa(e.doc,e.mapping.map(c.pos),1,y);if(!y&&!b&&fa(e.doc,e.mapping.map(c.pos),1,g?[{type:g}]:void 0)&&(b=!0,y=g?[{type:g,attrs:p}]:void 0),r){if(b&&(o instanceof Le&&e.deleteSelection(),e.split(e.mapping.map(c.pos),1,y),g&&!m&&!c.parentOffset&&c.parent.type!==g)){const S=e.mapping.map(c.before()),T=e.doc.resolve(S);c.node(-1).canReplaceWith(T.index(),T.index()+1,g)&&e.setNodeMarkup(e.mapping.map(c.before()),g)}n&&HA(t,i.extensionManager.splittableMarks),e.scrollIntoView()}return b},cz=(n,e={})=>({tr:t,state:r,dispatch:i,editor:o})=>{var l;const c=nn(n,r.schema),{$from:f,$to:h}=r.selection,p=r.selection.node;if(p&&p.isBlock||f.depth<2||!f.sameParent(h))return!1;const m=f.node(-1);if(m.type!==c)return!1;const g=o.extensionManager.attributes;if(f.parent.content.size===0&&f.node(-1).childCount===f.indexAfter(-1)){if(f.depth===2||f.node(-3).type!==c||f.index(-2)!==f.node(-2).childCount-1)return!1;if(i){let A=se.empty;const M=f.index(-1)?1:f.index(-2)?2:3;for(let k=f.depth-M;k>=f.depth-3;k-=1)A=se.from(f.node(k).copy(A));const w=f.indexAfter(-1)<f.node(-2).childCount?1:f.indexAfter(-2)<f.node(-3).childCount?2:3,x={...Gd(g,f.node().type.name,f.node().attrs),...e},N=((l=c.contentMatch.defaultType)==null?void 0:l.createAndFill(x))||void 0;A=A.append(se.from(c.createAndFill(null,N)||void 0));const z=f.before(f.depth-(M-1));t.replace(z,f.after(-w),new be(A,4-M,0));let P=-1;t.doc.nodesBetween(z,t.doc.content.size,(k,j)=>{if(P>-1)return!1;k.isTextblock&&k.content.size===0&&(P=j+1)}),P>-1&&t.setSelection(Le.near(t.doc.resolve(P))),t.scrollIntoView()}return!0}const y=h.pos===f.end()?m.contentMatchAt(0).defaultType:null,b={...Gd(g,m.type.name,m.attrs),...e},S={...Gd(g,f.node().type.name,f.node().attrs),...e};t.delete(f.pos,h.pos);const T=y?[{type:c,attrs:b},{type:y,attrs:S}]:[{type:c,attrs:b}];if(!fa(t.doc,f.pos,2))return!1;if(i){const{selection:A,storedMarks:M}=r,{splittableMarks:w}=o.extensionManager,x=M||A.$to.parentOffset&&A.$from.marks();if(t.split(f.pos,2,T).scrollIntoView(),!x||!i)return!0;const N=x.filter(z=>w.includes(z.type.name));t.ensureMarks(N)}return!0},oy=(n,e)=>{const t=cp(l=>l.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(r===void 0)return!0;const i=n.doc.nodeAt(r);return t.node.type===i?.type&&go(n.doc,t.pos)&&n.join(t.pos),!0},sy=(n,e)=>{const t=cp(l=>l.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(t.start).after(t.depth);if(r===void 0)return!0;const i=n.doc.nodeAt(r);return t.node.type===i?.type&&go(n.doc,r)&&n.join(r),!0},fz=(n,e,t,r={})=>({editor:i,tr:o,state:l,dispatch:c,chain:f,commands:h,can:p})=>{const{extensions:m,splittableMarks:g}=i.extensionManager,y=nn(n,l.schema),b=nn(e,l.schema),{selection:S,storedMarks:T}=l,{$from:A,$to:M}=S,w=A.blockRange(M),x=T||S.$to.parentOffset&&S.$from.marks();if(!w)return!1;const N=cp(z=>UA(z.type.name,m))(S);if(w.depth>=1&&N&&w.depth-N.depth<=1){if(N.node.type===y)return h.liftListItem(b);if(UA(N.node.type.name,m)&&y.validContent(N.node.content)&&c)return f().command(()=>(o.setNodeMarkup(N.pos,y),!0)).command(()=>oy(o,y)).command(()=>sy(o,y)).run()}return!t||!x||!c?f().command(()=>p().wrapInList(y,r)?!0:h.clearNodes()).wrapInList(y,r).command(()=>oy(o,y)).command(()=>sy(o,y)).run():f().command(()=>{const z=p().wrapInList(y,r),P=x.filter(k=>g.includes(k.type.name));return o.ensureMarks(P),z?!0:h.clearNodes()}).wrapInList(y,r).command(()=>oy(o,y)).command(()=>sy(o,y)).run()},dz=(n,e={},t={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:o=!1}=t,l=ya(n,r.schema);return Vv(r,l,e)?i.unsetMark(l,{extendEmptyMarkRange:o}):i.setMark(l,e)},hz=(n,e,t={})=>({state:r,commands:i})=>{const o=nn(n,r.schema),l=nn(e,r.schema),c=mo(r,o,t);let f;return r.selection.$anchor.sameParent(r.selection.$head)&&(f=r.selection.$anchor.parent.attrs),c?i.setNode(l,f):i.setNode(o,{...f,...t})},pz=(n,e={})=>({state:t,commands:r})=>{const i=nn(n,t.schema);return mo(t,i,e)?r.lift(i):r.wrapIn(i,e)},mz=()=>({state:n,dispatch:e})=>{const t=n.plugins;for(let r=0;r<t.length;r+=1){const i=t[r];let o;if(i.spec.isInputRules&&(o=i.getState(n))){if(e){const l=n.tr,c=o.transform;for(let f=c.steps.length-1;f>=0;f-=1)l.step(c.steps[f].invert(c.docs[f]));if(o.text){const f=l.doc.resolve(o.from).marks();l.replaceWith(o.from,o.to,n.schema.text(o.text,f))}else l.delete(o.from,o.to)}return!0}}return!1},gz=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,{empty:r,ranges:i}=t;return r||e&&i.forEach(o=>{n.removeMark(o.$from.pos,o.$to.pos)}),!0},yz=(n,e={})=>({tr:t,state:r,dispatch:i})=>{var o;const{extendEmptyMarkRange:l=!1}=e,{selection:c}=t,f=ya(n,r.schema),{$from:h,empty:p,ranges:m}=c;if(!i)return!0;if(p&&l){let{from:g,to:y}=c;const b=(o=h.marks().find(T=>T.type===f))==null?void 0:o.attrs,S=Y0(h,f,b);S&&(g=S.from,y=S.to),t.removeMark(g,y,f)}else m.forEach(g=>{t.removeMark(g.$from.pos,g.$to.pos,f)});return t.removeStoredMark(f),!0},vz=n=>({tr:e,state:t,dispatch:r})=>{const{selection:i}=t;let o,l;return typeof n=="number"?(o=n,l=n):n&&"from"in n&&"to"in n?(o=n.from,l=n.to):(o=i.from,l=i.to),r&&e.doc.nodesBetween(o,l,(c,f)=>{if(c.isText)return;const h={...c.attrs};delete h.dir,e.setNodeMarkup(f,void 0,h)}),!0},bz=(n,e={})=>({tr:t,state:r,dispatch:i})=>{let o=null,l=null;const c=up(typeof n=="string"?n:n.name,r.schema);if(!c)return!1;c==="node"&&(o=nn(n,r.schema)),c==="mark"&&(l=ya(n,r.schema));let f=!1;return t.selection.ranges.forEach(h=>{const p=h.$from.pos,m=h.$to.pos;let g,y,b,S;t.selection.empty?r.doc.nodesBetween(p,m,(T,A)=>{o&&o===T.type&&(f=!0,b=Math.max(A,p),S=Math.min(A+T.nodeSize,m),g=A,y=T)}):r.doc.nodesBetween(p,m,(T,A)=>{A<p&&o&&o===T.type&&(f=!0,b=Math.max(A,p),S=Math.min(A+T.nodeSize,m),g=A,y=T),A>=p&&A<=m&&(o&&o===T.type&&(f=!0,i&&t.setNodeMarkup(A,void 0,{...T.attrs,...e})),l&&T.marks.length&&T.marks.forEach(M=>{if(l===M.type&&(f=!0,i)){const w=Math.max(A,p),x=Math.min(A+T.nodeSize,m);t.addMark(w,x,l.create({...M.attrs,...e}))}}))}),y&&(g!==void 0&&i&&t.setNodeMarkup(g,void 0,{...y.attrs,...e}),l&&y.marks.length&&y.marks.forEach(T=>{l===T.type&&i&&t.addMark(b,S,l.create({...T.attrs,...e}))}))}),f},Sz=(n,e={})=>({state:t,dispatch:r})=>{const i=nn(n,t.schema);return Kj(i,e)(t,r)},Ez=(n,e={})=>({state:t,dispatch:r})=>{const i=nn(n,t.schema);return Zj(i,e)(t,r)},Tz=class{constructor(){this.callbacks={}}on(n,e){return this.callbacks[n]||(this.callbacks[n]=[]),this.callbacks[n].push(e),this}emit(n,...e){const t=this.callbacks[n];return t&&t.forEach(r=>r.apply(this,e)),this}off(n,e){const t=this.callbacks[n];return t&&(e?this.callbacks[n]=t.filter(r=>r!==e):delete this.callbacks[n]),this}once(n,e){const t=(...r)=>{this.off(n,t),e.apply(this,r)};return this.on(n,t)}removeAllListeners(){this.callbacks={}}},dp=class{constructor(n){var e;this.find=n.find,this.handler=n.handler,this.undoable=(e=n.undoable)!=null?e:!0}},Az=(n,e)=>{if(W0(e))return e.exec(n);const t=e(n);if(!t)return null;const r=[t.text];return r.index=t.index,r.input=n,r.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(t.replaceWith)),r};function Td(n){var e;const{editor:t,from:r,to:i,text:o,rules:l,plugin:c}=n,{view:f}=t;if(f.composing)return!1;const h=f.state.doc.resolve(r);if(h.parent.type.spec.code||(e=h.nodeBefore||h.nodeAfter)!=null&&e.marks.find(g=>g.type.spec.code))return!1;let p=!1;const m=ZB(h)+o;return l.forEach(g=>{if(p)return;const y=Az(m,g.find);if(!y)return;const b=f.state.tr,S=sp({state:f.state,transaction:b}),T={from:r-(y[0].length-o.length),to:i},{commands:A,chain:M,can:w}=new lp({editor:t,state:S});g.handler({state:S,range:T,match:y,commands:A,chain:M,can:w})===null||!b.steps.length||(g.undoable&&b.setMeta(c,{transform:b,from:r,to:i,text:o}),f.dispatch(b),p=!0)}),p}function Oz(n){const{editor:e,rules:t}=n,r=new Lt({state:{init(){return null},apply(i,o,l){const c=i.getMeta(r);if(c)return c;const f=i.getMeta("applyInputRules");return f&&setTimeout(()=>{let{text:p}=f;typeof p=="string"?p=p:p=Z0(se.from(p),l.schema);const{from:m}=f,g=m+p.length;Td({editor:e,from:m,to:g,text:p,rules:t,plugin:r})}),i.selectionSet||i.docChanged?null:o}},props:{handleTextInput(i,o,l,c){return Td({editor:e,from:o,to:l,text:c,rules:t,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:o}=i.state.selection;o&&Td({editor:e,from:o.pos,to:o.pos,text:"",rules:t,plugin:r})}),!1)},handleKeyDown(i,o){if(o.key!=="Enter")return!1;const{$cursor:l}=i.state.selection;return l?Td({editor:e,from:l.pos,to:l.pos,text:`
`,rules:t,plugin:r}):!1}},isInputRules:!0});return r}function Cz(n){return Object.prototype.toString.call(n).slice(8,-1)}function Ad(n){return Cz(n)!=="Object"?!1:n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function T_(n,e){const t={...n};return Ad(n)&&Ad(e)&&Object.keys(e).forEach(r=>{Ad(e[r])&&Ad(n[r])?t[r]=T_(n[r],e[r]):t[r]=e[r]}),t}var X0=class{constructor(n={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...n},this.name=this.config.name}get options(){return{...vt(we(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...vt(we(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(n={}){const e=this.extend({...this.config,addOptions:()=>T_(this.options,n)});return e.name=this.name,e.parent=this.parent,e}extend(n={}){const e=new this.constructor({...this.config,...n});return e.parent=this,this.child=e,e.name="name"in n?n.name:e.parent.name,e}},ks=class A_ extends X0{constructor(){super(...arguments),this.type="mark"}static create(e={}){const t=typeof e=="function"?e():e;return new A_(t)}static handleExit({editor:e,mark:t}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const l=i.marks();if(!!!l.find(h=>h?.type.name===t.name))return!1;const f=l.find(h=>h?.type.name===t.name);return f&&r.removeStoredMark(f),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const t=typeof e=="function"?e():e;return super.extend(t)}};function Mz(n){return typeof n=="number"}var wz=class{constructor(n){this.find=n.find,this.handler=n.handler}},xz=(n,e,t)=>{if(W0(e))return[...n.matchAll(e)];const r=e(n,t);return r?r.map(i=>{const o=[i.text];return o.index=i.index,o.input=n,o.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(i.replaceWith)),o}):[]};function _z(n){const{editor:e,state:t,from:r,to:i,rule:o,pasteEvent:l,dropEvent:c}=n,{commands:f,chain:h,can:p}=new lp({editor:e,state:t}),m=[];return t.doc.nodesBetween(r,i,(y,b)=>{var S,T,A,M,w;if((T=(S=y.type)==null?void 0:S.spec)!=null&&T.code||!(y.isText||y.isTextblock||y.isInline))return;const x=(w=(M=(A=y.content)==null?void 0:A.size)!=null?M:y.nodeSize)!=null?w:0,N=Math.max(r,b),z=Math.min(i,b+x);if(N>=z)return;const P=y.isText?y.text||"":y.textBetween(N-b,z-b,void 0,"");xz(P,o.find,l).forEach(j=>{if(j.index===void 0)return;const B=N+j.index+1,G=B+j[0].length,$={from:t.tr.mapping.map(B),to:t.tr.mapping.map(G)},ne=o.handler({state:t,range:$,match:j,commands:f,chain:h,can:p,pasteEvent:l,dropEvent:c});m.push(ne)})}),m.every(y=>y!==null)}var Od=null,kz=n=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)==null||e.setData("text/html",n),t};function Dz(n){const{editor:e,rules:t}=n;let r=null,i=!1,o=!1,l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,c;try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}const f=({state:p,from:m,to:g,rule:y,pasteEvt:b})=>{const S=p.tr,T=sp({state:p,transaction:S});if(!(!_z({editor:e,state:T,from:Math.max(m-1,0),to:g.b-1,rule:y,pasteEvent:b,dropEvent:c})||!S.steps.length)){try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}return l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,S}};return t.map(p=>new Lt({view(m){const g=b=>{var S;r=(S=m.dom.parentElement)!=null&&S.contains(b.target)?m.dom.parentElement:null,r&&(Od=e)},y=()=>{Od&&(Od=null)};return window.addEventListener("dragstart",g),window.addEventListener("dragend",y),{destroy(){window.removeEventListener("dragstart",g),window.removeEventListener("dragend",y)}}},props:{handleDOMEvents:{drop:(m,g)=>{if(o=r===m.dom.parentElement,c=g,!o){const y=Od;y?.isEditable&&setTimeout(()=>{const b=y.state.selection;b&&y.commands.deleteRange({from:b.from,to:b.to})},10)}return!1},paste:(m,g)=>{var y;const b=(y=g.clipboardData)==null?void 0:y.getData("text/html");return l=g,i=!!b?.includes("data-pm-slice"),!1}}},appendTransaction:(m,g,y)=>{const b=m[0],S=b.getMeta("uiEvent")==="paste"&&!i,T=b.getMeta("uiEvent")==="drop"&&!o,A=b.getMeta("applyPasteRules"),M=!!A;if(!S&&!T&&!M)return;if(M){let{text:N}=A;typeof N=="string"?N=N:N=Z0(se.from(N),y.schema);const{from:z}=A,P=z+N.length,k=kz(N);return f({rule:p,state:y,from:z,to:{b:P},pasteEvt:k})}const w=g.doc.content.findDiffStart(y.doc.content),x=g.doc.content.findDiffEnd(y.doc.content);if(!(!Mz(w)||!x||w===x.b))return f({rule:p,state:y,from:w,to:x,pasteEvt:l})}}))}var hp=class{constructor(n,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=n,this.extensions=p_(n),this.schema=FB(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((n,e)=>{const t={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Ed(e.name,this.schema)},r=we(e,"addCommands",t);return r?{...n,...r()}:n},{})}get plugins(){const{editor:n}=this;return dh([...this.extensions].reverse()).flatMap(r=>{const i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:n,type:Ed(r.name,this.schema)},o=[],l=we(r,"addKeyboardShortcuts",i);let c={};if(r.type==="mark"&&we(r,"exitable",i)&&(c.ArrowRight=()=>ks.handleExit({editor:n,mark:r})),l){const g=Object.fromEntries(Object.entries(l()).map(([y,b])=>[y,()=>b({editor:n})]));c={...c,...g}}const f=GI(c);o.push(f);const h=we(r,"addInputRules",i);if(zA(r,n.options.enableInputRules)&&h){const g=h();if(g&&g.length){const y=Oz({editor:n,rules:g}),b=Array.isArray(y)?y:[y];o.push(...b)}}const p=we(r,"addPasteRules",i);if(zA(r,n.options.enablePasteRules)&&p){const g=p();if(g&&g.length){const y=Dz({editor:n,rules:g});o.push(...y)}}const m=we(r,"addProseMirrorPlugins",i);if(m){const g=m();o.push(...g)}return o})}get attributes(){return h_(this.extensions)}get nodeViews(){const{editor:n}=this,{nodeExtensions:e}=Bl(this.extensions);return Object.fromEntries(e.filter(t=>!!we(t,"addNodeView")).map(t=>{const r=this.attributes.filter(f=>f.type===t.name),i={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:n,type:nn(t.name,this.schema)},o=we(t,"addNodeView",i);if(!o)return[];const l=o();if(!l)return[];const c=(f,h,p,m,g)=>{const y=jc(f,r);return l({node:f,view:h,getPos:p,decorations:m,innerDecorations:g,editor:n,extension:t,HTMLAttributes:y})};return[t.name,c]}))}dispatchTransaction(n){const{editor:e}=this;return dh([...this.extensions].reverse()).reduceRight((r,i)=>{const o={name:i.name,options:i.options,storage:this.editor.extensionStorage[i.name],editor:e,type:Ed(i.name,this.schema)},l=we(i,"dispatchTransaction",o);return l?c=>{l.call(o,{transaction:c,next:r})}:r},n)}get markViews(){const{editor:n}=this,{markExtensions:e}=Bl(this.extensions);return Object.fromEntries(e.filter(t=>!!we(t,"addMarkView")).map(t=>{const r=this.attributes.filter(c=>c.type===t.name),i={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:n,type:ya(t.name,this.schema)},o=we(t,"addMarkView",i);if(!o)return[];const l=(c,f,h)=>{const p=jc(c,r);return o()({mark:c,view:f,inline:h,editor:n,extension:t,HTMLAttributes:p,updateAttributes:m=>{Gz(c,n,m)}})};return[t.name,l]}))}setupExtensions(){const n=this.extensions;this.editor.extensionStorage=Object.fromEntries(n.map(e=>[e.name,e.storage])),n.forEach(e=>{var t;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Ed(e.name,this.schema)};e.type==="mark"&&((t=vt(we(e,"keepOnSplit",r)))==null||t)&&this.splittableMarks.push(e.name);const i=we(e,"onBeforeCreate",r),o=we(e,"onCreate",r),l=we(e,"onUpdate",r),c=we(e,"onSelectionUpdate",r),f=we(e,"onTransaction",r),h=we(e,"onFocus",r),p=we(e,"onBlur",r),m=we(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),o&&this.editor.on("create",o),l&&this.editor.on("update",l),c&&this.editor.on("selectionUpdate",c),f&&this.editor.on("transaction",f),h&&this.editor.on("focus",h),p&&this.editor.on("blur",p),m&&this.editor.on("destroy",m)})}};hp.resolve=p_;hp.sort=dh;hp.flatten=K0;var Nz={};G0(Nz,{ClipboardTextSerializer:()=>C_,Commands:()=>M_,Delete:()=>w_,Drop:()=>x_,Editable:()=>__,FocusEvents:()=>D_,Keymap:()=>N_,Paste:()=>R_,Tabindex:()=>P_,TextDirection:()=>j_,focusEventsPluginKey:()=>k_});var Zt=class O_ extends X0{constructor(){super(...arguments),this.type="extension"}static create(e={}){const t=typeof e=="function"?e():e;return new O_(t)}configure(e){return super.configure(e)}extend(e){const t=typeof e=="function"?e():e;return super.extend(t)}},C_=Zt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Lt({key:new un("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:n}=this,{state:e,schema:t}=n,{doc:r,selection:i}=e,{ranges:o}=i,l=Math.min(...o.map(p=>p.$from.pos)),c=Math.max(...o.map(p=>p.$to.pos)),f=g_(t);return m_(r,{from:l,to:c},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:f})}}})]}}),M_=Zt.create({name:"commands",addCommands(){return{...i_}}}),w_=Zt.create({name:"delete",onUpdate({transaction:n,appendedTransactions:e}){var t,r,i;const o=()=>{var l,c,f,h;if((h=(f=(c=(l=this.editor.options.coreExtensionOptions)==null?void 0:l.delete)==null?void 0:c.filterTransaction)==null?void 0:f.call(c,n))!=null?h:n.getMeta("y-sync$"))return;const p=f_(n.before,[n,...e]);v_(p).forEach(y=>{p.mapping.mapResult(y.oldRange.from).deletedAfter&&p.mapping.mapResult(y.oldRange.to).deletedBefore&&p.before.nodesBetween(y.oldRange.from,y.oldRange.to,(b,S)=>{const T=S+b.nodeSize-2,A=y.oldRange.from<=S&&T<=y.oldRange.to;this.editor.emit("delete",{type:"node",node:b,from:S,to:T,newFrom:p.mapping.map(S),newTo:p.mapping.map(T),deletedRange:y.oldRange,newRange:y.newRange,partial:!A,editor:this.editor,transaction:n,combinedTransform:p})})});const g=p.mapping;p.steps.forEach((y,b)=>{var S,T;if(y instanceof hi){const A=g.slice(b).map(y.from,-1),M=g.slice(b).map(y.to),w=g.invert().map(A,-1),x=g.invert().map(M),N=(S=p.doc.nodeAt(A-1))==null?void 0:S.marks.some(P=>P.eq(y.mark)),z=(T=p.doc.nodeAt(M))==null?void 0:T.marks.some(P=>P.eq(y.mark));this.editor.emit("delete",{type:"mark",mark:y.mark,from:y.from,to:y.to,deletedRange:{from:w,to:x},newRange:{from:A,to:M},partial:!!(z||N),editor:this.editor,transaction:n,combinedTransform:p})}})};(i=(r=(t=this.editor.options.coreExtensionOptions)==null?void 0:t.delete)==null?void 0:r.async)==null||i?setTimeout(o,0):o()}}),x_=Zt.create({name:"drop",addProseMirrorPlugins(){return[new Lt({key:new un("tiptapDrop"),props:{handleDrop:(n,e,t,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:r})}}})]}}),__=Zt.create({name:"editable",addProseMirrorPlugins(){return[new Lt({key:new un("editable"),props:{editable:()=>this.editor.options.editable}})]}}),k_=new un("focusEvents"),D_=Zt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:n}=this;return[new Lt({key:k_,props:{handleDOMEvents:{focus:(e,t)=>{n.isFocused=!0;const r=n.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,t)=>{n.isFocused=!1;const r=n.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),N_=Zt.create({name:"keymap",addKeyboardShortcuts(){const n=()=>this.editor.commands.first(({commands:l})=>[()=>l.undoInputRule(),()=>l.command(({tr:c})=>{const{selection:f,doc:h}=c,{empty:p,$anchor:m}=f,{pos:g,parent:y}=m,b=m.parent.isTextblock&&g>0?c.doc.resolve(g-1):m,S=b.parent.type.spec.isolating,T=m.pos-m.parentOffset,A=S&&b.parent.childCount===1?T===m.pos:Ke.atStart(h).from===g;return!p||!y.type.isTextblock||y.textContent.length||!A||A&&m.parent.type.name==="paragraph"?!1:l.clearNodes()}),()=>l.deleteSelection(),()=>l.joinBackward(),()=>l.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:l})=>[()=>l.deleteSelection(),()=>l.deleteCurrentNode(),()=>l.joinForward(),()=>l.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:l})=>[()=>l.newlineInCode(),()=>l.createParagraphNear(),()=>l.liftEmptyBlock(),()=>l.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},o={...r,"Ctrl-h":n,"Alt-Backspace":n,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return fh()||u_()?o:i},addProseMirrorPlugins(){return[new Lt({key:new un("clearDocument"),appendTransaction:(n,e,t)=>{if(n.some(S=>S.getMeta("composition")))return;const r=n.some(S=>S.docChanged)&&!e.doc.eq(t.doc),i=n.some(S=>S.getMeta("preventClearDocument"));if(!r||i)return;const{empty:o,from:l,to:c}=e.selection,f=Ke.atStart(e.doc).from,h=Ke.atEnd(e.doc).to;if(o||!(l===f&&c===h)||!fp(t.doc))return;const g=t.tr,y=sp({state:t,transaction:g}),{commands:b}=new lp({editor:this.editor,state:y});if(b.clearNodes(),!!g.steps.length)return g}})]}}),R_=Zt.create({name:"paste",addProseMirrorPlugins(){return[new Lt({key:new un("tiptapPaste"),props:{handlePaste:(n,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),P_=Zt.create({name:"tabindex",addProseMirrorPlugins(){return[new Lt({key:new un("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),j_=Zt.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:n}=Bl(this.extensions);return[{types:n.filter(e=>e.name!=="text").map(e=>e.name),attributes:{dir:{default:this.options.direction,parseHTML:e=>{const t=e.getAttribute("dir");return t&&(t==="ltr"||t==="rtl"||t==="auto")?t:this.options.direction},renderHTML:e=>e.dir?{dir:e.dir}:{}}}}]},addProseMirrorPlugins(){return[new Lt({key:new un("textDirection"),props:{attributes:()=>{const n=this.options.direction;return n?{dir:n}:{}}}})]}}),Rz=class sc{constructor(e,t,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=t,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:t,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new sc(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new sc(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new sc(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,r)=>{const i=t.isBlock&&!t.isTextblock,o=t.isAtom&&!t.isText,l=t.isInline,c=this.pos+r+(o?0:1);if(c<0||c>this.resolvedPos.doc.nodeSize-2)return;const f=this.resolvedPos.doc.resolve(c);if(!i&&!l&&f.depth<=this.depth)return;const h=new sc(f,this.editor,i,i||l?t:null);i&&(h.actualDepth=this.depth+1),e.push(h)}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(t).length>0){const o=i.node.attrs,l=Object.keys(t);for(let c=0;c<l.length;c+=1){const f=l[c];if(o[f]!==t[f])break}}else r=i;i=i.parent}return r}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const o=Object.keys(t);return this.children.forEach(l=>{r&&i.length>0||(l.node.type.name===e&&o.every(f=>t[f]===l.node.attrs[f])&&i.push(l),!(r&&i.length>0)&&(i=i.concat(l.querySelectorAll(e,t,r))))}),i}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}},Pz=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function jz(n,e,t){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(i),i}var Lz=class extends Tz{constructor(n={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null,enableExtensionDispatchTransaction:!0},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:$B,createMappablePosition:ez},this.setOptions(n),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:i,moved:o})=>this.options.onDrop(r,i,o)),this.on("paste",({event:r,slice:i})=>this.options.onPaste(r,i)),this.on("delete",this.options.onDelete);const e=this.createDoc(),t=s_(e,this.options.autofocus);this.editorState=Ml.create({doc:e,schema:this.schema,selection:t||void 0}),this.options.element&&this.mount(this.options.element)}mount(n){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(n),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const n=this.editorView.dom;n?.editor&&delete n.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(n){console.warn("Failed to remove CSS element:",n)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=jz(Pz,this.options.injectNonce))}setOptions(n={}){this.options={...this.options,...n},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(n,e=!0){this.setOptions({editable:n}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:n=>{this.editorState=n},dispatch:n=>{this.dispatchTransaction(n)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(n,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in n)return Reflect.get(n,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(n,e){const t=d_(e)?e(n,[...this.state.plugins]):[...this.state.plugins,n],r=this.state.reconfigure({plugins:t});return this.view.updateState(r),r}unregisterPlugin(n){if(this.isDestroyed)return;const e=this.state.plugins;let t=e;if([].concat(n).forEach(i=>{const o=typeof i=="string"?`${i}$`:i.key;t=t.filter(l=>!l.key.startsWith(o))}),e.length===t.length)return;const r=this.state.reconfigure({plugins:t});return this.view.updateState(r),r}createExtensionManager(){var n,e;const r=[...this.options.enableCoreExtensions?[__,C_.configure({blockSeparator:(e=(n=this.options.coreExtensionOptions)==null?void 0:n.clipboardTextSerializer)==null?void 0:e.blockSeparator}),M_,D_,N_,P_,x_,R_,w_,j_.configure({direction:this.options.textDirection})].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i?.type));this.extensionManager=new hp(r,this)}createCommandManager(){this.commandManager=new lp({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let n;try{n=Fv(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(t=>t.name!=="collaboration"),this.createExtensionManager()}}),n=Fv(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return n}createView(n){const{editorProps:e,enableExtensionDispatchTransaction:t}=this.options,r=e.dispatchTransaction||this.dispatchTransaction.bind(this),i=t?this.extensionManager.dispatchTransaction(r):r;this.editorView=new n_(n,{...e,attributes:{role:"textbox",...e?.attributes},dispatchTransaction:i,state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const o=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(o),this.prependClass(),this.injectCSS();const l=this.view.dom;l.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(n){this.isCapturingTransaction=!0,n(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(n){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=n;return}n.steps.forEach(h=>{var p;return(p=this.capturedTransaction)==null?void 0:p.step(h)});return}const{state:e,transactions:t}=this.state.applyTransaction(n),r=!this.state.selection.eq(e.selection),i=t.includes(n),o=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:n,nextState:e}),!i)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:n,appendedTransactions:t.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:n});const l=t.findLast(h=>h.getMeta("focus")||h.getMeta("blur")),c=l?.getMeta("focus"),f=l?.getMeta("blur");c&&this.emit("focus",{editor:this,event:c.event,transaction:l}),f&&this.emit("blur",{editor:this,event:f.event,transaction:l}),!(n.getMeta("preventUpdate")||!t.some(h=>h.docChanged)||o.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:n,appendedTransactions:t.slice(1)})}getAttributes(n){return y_(this.state,n)}isActive(n,e){const t=typeof n=="string"?n:null,r=typeof n=="string"?e:n;return JB(this.state,t,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Z0(this.state.doc.content,this.schema)}getText(n){const{blockSeparator:e=`

`,textSerializers:t={}}=n||{};return qB(this.state.doc,{blockSeparator:e,textSerializers:{...g_(this.schema),...t}})}get isEmpty(){return fp(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var n,e;return(e=(n=this.editorView)==null?void 0:n.isDestroyed)!=null?e:!0}$node(n,e){var t;return((t=this.$doc)==null?void 0:t.querySelector(n,e))||null}$nodes(n,e){var t;return((t=this.$doc)==null?void 0:t.querySelectorAll(n,e))||null}$pos(n){const e=this.state.doc.resolve(n);return new Rz(e,this)}get $doc(){return this.$pos(0)}};function zl(n){return new dp({find:n.find,handler:({state:e,range:t,match:r})=>{const i=vt(n.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:o}=e,l=r[r.length-1],c=r[0];if(l){const f=c.search(/\S/),h=t.from+c.indexOf(l),p=h+l.length;if(J0(t.from,t.to,e.doc).filter(y=>y.mark.type.excluded.find(S=>S===n.type&&S!==y.mark.type)).filter(y=>y.to>h).length)return null;p<t.to&&o.delete(p,t.to),h>t.from&&o.delete(t.from+f,h);const g=t.from+f+l.length;o.addMark(t.from+f,g,n.type.create(i||{})),o.removeStoredMark(n.type)}},undoable:n.undoable})}function Iz(n){return new dp({find:n.find,handler:({state:e,range:t,match:r})=>{const i=vt(n.getAttributes,void 0,r)||{},{tr:o}=e,l=t.from;let c=t.to;const f=n.type.create(i);if(r[1]){const h=r[0].lastIndexOf(r[1]);let p=l+h;p>c?p=c:c=p+r[1].length;const m=r[0][r[0].length-1];o.insertText(m,l+r[0].length-1),o.replaceWith(p,c,f)}else if(r[0]){const h=n.type.isInline?l:l-1;o.insert(h,n.type.create(i)).delete(o.mapping.map(l),o.mapping.map(c))}o.scrollIntoView()},undoable:n.undoable})}function qv(n){return new dp({find:n.find,handler:({state:e,range:t,match:r})=>{const i=e.doc.resolve(t.from),o=vt(n.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),n.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,n.type,o)},undoable:n.undoable})}function Ul(n){return new dp({find:n.find,handler:({state:e,range:t,match:r,chain:i})=>{const o=vt(n.getAttributes,void 0,r)||{},l=e.tr.delete(t.from,t.to),f=l.doc.resolve(t.from).blockRange(),h=f&&_0(f,n.type,o);if(!h)return null;if(l.wrap(f,h),n.keepMarks&&n.editor){const{selection:m,storedMarks:g}=e,{splittableMarks:y}=n.editor.extensionManager,b=g||m.$to.parentOffset&&m.$from.marks();if(b){const S=b.filter(T=>y.includes(T.type.name));l.ensureMarks(S)}}if(n.keepAttributes){const m=n.type.name==="bulletList"||n.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(m,o).run()}const p=l.doc.resolve(t.from-1).nodeBefore;p&&p.type===n.type&&go(l.doc,t.from-1)&&(!n.joinPredicate||n.joinPredicate(r,p))&&l.join(t.from-1)},undoable:n.undoable})}function Bz(n,e){const{selection:t}=n,{$from:r}=t;if(t instanceof ke){const o=r.index();return r.parent.canReplaceWith(o,o+1,e)}let i=r.depth;for(;i>=0;){const o=r.index(i);if(r.node(i).contentMatchAt(o).matchType(e))return!0;i-=1}return!1}var zz={};G0(zz,{createAtomBlockMarkdownSpec:()=>Uz,createBlockMarkdownSpec:()=>Hz,createInlineMarkdownSpec:()=>qz,parseAttributes:()=>Q0,parseIndentedBlocks:()=>Gv,renderNestedMarkdownContent:()=>eb,serializeAttributes:()=>$0});function Q0(n){if(!n?.trim())return{};const e={},t=[],r=n.replace(/["']([^"']*)["']/g,h=>(t.push(h),`__QUOTED_${t.length-1}__`)),i=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(i){const h=i.map(p=>p.trim().slice(1));e.class=h.join(" ")}const o=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);o&&(e.id=o[1]);const l=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(l)).forEach(([,h,p])=>{var m;const g=parseInt(((m=p.match(/__QUOTED_(\d+)__/))==null?void 0:m[1])||"0",10),y=t[g];y&&(e[h]=y.slice(1,-1))});const f=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return f&&f.split(/\s+/).filter(Boolean).forEach(p=>{p.match(/^[a-zA-Z][\w-]*$/)&&(e[p]=!0)}),e}function $0(n){if(!n||Object.keys(n).length===0)return"";const e=[];return n.class&&String(n.class).split(/\s+/).filter(Boolean).forEach(r=>e.push(`.${r}`)),n.id&&e.push(`#${n.id}`),Object.entries(n).forEach(([t,r])=>{t==="class"||t==="id"||(r===!0?e.push(t):r!==!1&&r!=null&&e.push(`${t}="${String(r)}"`))}),e.join(" ")}function Uz(n){const{nodeName:e,name:t,parseAttributes:r=Q0,serializeAttributes:i=$0,defaultAttributes:o={},requiredAttributes:l=[],allowedAttributes:c}=n,f=t||e,h=p=>{if(!c)return p;const m={};return c.forEach(g=>{g in p&&(m[g]=p[g])}),m};return{parseMarkdown:(p,m)=>{const g={...o,...p.attributes};return m.createNode(e,g,[])},markdownTokenizer:{name:e,level:"block",start(p){var m;const g=new RegExp(`^:::${f}(?:\\s|$)`,"m"),y=(m=p.match(g))==null?void 0:m.index;return y!==void 0?y:-1},tokenize(p,m,g){const y=new RegExp(`^:::${f}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),b=p.match(y);if(!b)return;const S=b[1]||"",T=r(S);if(!l.find(M=>!(M in T)))return{type:e,raw:b[0],attributes:T}}},renderMarkdown:p=>{const m=h(p.attrs||{}),g=i(m),y=g?` {${g}}`:"";return`:::${f}${y} :::`}}}function Hz(n){const{nodeName:e,name:t,getContent:r,parseAttributes:i=Q0,serializeAttributes:o=$0,defaultAttributes:l={},content:c="block",allowedAttributes:f}=n,h=t||e,p=m=>{if(!f)return m;const g={};return f.forEach(y=>{y in m&&(g[y]=m[y])}),g};return{parseMarkdown:(m,g)=>{let y;if(r){const S=r(m);y=typeof S=="string"?[{type:"text",text:S}]:S}else c==="block"?y=g.parseChildren(m.tokens||[]):y=g.parseInline(m.tokens||[]);const b={...l,...m.attributes};return g.createNode(e,b,y)},markdownTokenizer:{name:e,level:"block",start(m){var g;const y=new RegExp(`^:::${h}`,"m"),b=(g=m.match(y))==null?void 0:g.index;return b!==void 0?b:-1},tokenize(m,g,y){var b;const S=new RegExp(`^:::${h}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),T=m.match(S);if(!T)return;const[A,M=""]=T,w=i(M);let x=1;const N=A.length;let z="";const P=/^:::([\w-]*)(\s.*)?/gm,k=m.slice(N);for(P.lastIndex=0;;){const j=P.exec(k);if(j===null)break;const B=j.index,G=j[1];if(!((b=j[2])!=null&&b.endsWith(":::"))){if(G)x+=1;else if(x-=1,x===0){const $=k.slice(0,B);z=$.trim();const ne=m.slice(0,N+B+j[0].length);let le=[];if(z)if(c==="block")for(le=y.blockTokens($),le.forEach(ee=>{ee.text&&(!ee.tokens||ee.tokens.length===0)&&(ee.tokens=y.inlineTokens(ee.text))});le.length>0;){const ee=le[le.length-1];if(ee.type==="paragraph"&&(!ee.text||ee.text.trim()===""))le.pop();else break}else le=y.inlineTokens(z);return{type:e,raw:ne,attributes:w,content:z,tokens:le}}}}}},renderMarkdown:(m,g)=>{const y=p(m.attrs||{}),b=o(y),S=b?` {${b}}`:"",T=g.renderChildren(m.content||[],`

`);return`:::${h}${S}

${T}

:::`}}}function Fz(n){if(!n.trim())return{};const e={},t=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=t.exec(n);for(;r!==null;){const[,i,o,l]=r;e[i]=o||l,r=t.exec(n)}return e}function Vz(n){return Object.entries(n).filter(([,e])=>e!=null).map(([e,t])=>`${e}="${t}"`).join(" ")}function qz(n){const{nodeName:e,name:t,getContent:r,parseAttributes:i=Fz,serializeAttributes:o=Vz,defaultAttributes:l={},selfClosing:c=!1,allowedAttributes:f}=n,h=t||e,p=g=>{if(!f)return g;const y={};return f.forEach(b=>{const S=typeof b=="string"?b:b.name,T=typeof b=="string"?void 0:b.skipIfDefault;if(S in g){const A=g[S];if(T!==void 0&&A===T)return;y[S]=A}}),y},m=h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(g,y)=>{const b={...l,...g.attributes};if(c)return y.createNode(e,b);const S=r?r(g):g.content||"";return S?y.createNode(e,b,[y.createTextNode(S)]):y.createNode(e,b,[])},markdownTokenizer:{name:e,level:"inline",start(g){const y=c?new RegExp(`\\[${m}\\s*[^\\]]*\\]`):new RegExp(`\\[${m}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${m}\\]`),b=g.match(y),S=b?.index;return S!==void 0?S:-1},tokenize(g,y,b){const S=c?new RegExp(`^\\[${m}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${m}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${m}\\]`),T=g.match(S);if(!T)return;let A="",M="";if(c){const[,x]=T;M=x}else{const[,x,N]=T;M=x,A=N||""}const w=i(M.trim());return{type:e,raw:T[0],content:A.trim(),attributes:w}}},renderMarkdown:g=>{let y="";r?y=r(g):g.content&&g.content.length>0&&(y=g.content.filter(A=>A.type==="text").map(A=>A.text).join(""));const b=p(g.attrs||{}),S=o(b),T=S?` ${S}`:"";return c?`[${h}${T}]`:`[${h}${T}]${y}[/${h}]`}}}function Gv(n,e,t){var r,i,o,l;const c=n.split(`
`),f=[];let h="",p=0;const m=e.baseIndentSize||2;for(;p<c.length;){const g=c[p],y=g.match(e.itemPattern);if(!y){if(f.length>0)break;if(g.trim()===""){p+=1,h=`${h}${g}
`;continue}else return}const b=e.extractItemData(y),{indentLevel:S,mainContent:T}=b;h=`${h}${g}
`;const A=[T];for(p+=1;p<c.length;){const N=c[p];if(N.trim()===""){const P=c.slice(p+1).findIndex(B=>B.trim()!=="");if(P===-1)break;if((((i=(r=c[p+1+P].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:i.length)||0)>S){A.push(N),h=`${h}${N}
`,p+=1;continue}else break}if((((l=(o=N.match(/^(\s*)/))==null?void 0:o[1])==null?void 0:l.length)||0)>S)A.push(N),h=`${h}${N}
`,p+=1;else break}let M;const w=A.slice(1);if(w.length>0){const N=w.map(z=>z.slice(S+m)).join(`
`);N.trim()&&(e.customNestedParser?M=e.customNestedParser(N):M=t.blockTokens(N))}const x=e.createToken(b,M);f.push(x)}if(f.length!==0)return{items:f,raw:h}}function eb(n,e,t,r){if(!n||!Array.isArray(n.content))return"";const i=typeof t=="function"?t(r):t,[o,...l]=n.content,c=e.renderChildren([o]),f=[`${i}${c}`];return l&&l.length>0&&l.forEach(h=>{const p=e.renderChildren([h]);if(p){const m=p.split(`
`).map(g=>g?e.indent(g):"").join(`
`);f.push(m)}}),f.join(`
`)}function Gz(n,e,t={}){const{state:r}=e,{doc:i,tr:o}=r,l=n;i.descendants((c,f)=>{const h=o.mapping.map(f),p=o.mapping.map(f)+c.nodeSize;let m=null;if(c.marks.forEach(y=>{if(y!==l)return!1;m=y}),!m)return;let g=!1;if(Object.keys(t).forEach(y=>{t[y]!==m.attrs[y]&&(g=!0)}),g){const y=n.type.create({...n.attrs,...t});o.removeMark(h,p,n.type),o.addMark(h,p,y)}}),o.docChanged&&e.view.dispatch(o)}var Rr=class L_ extends X0{constructor(){super(...arguments),this.type="node"}static create(e={}){const t=typeof e=="function"?e():e;return new L_(t)}configure(e){return super.configure(e)}extend(e){const t=typeof e=="function"?e():e;return super.extend(t)}};function ws(n){return new wz({find:n.find,handler:({state:e,range:t,match:r,pasteEvent:i})=>{const o=vt(n.getAttributes,void 0,r,i);if(o===!1||o===null)return null;const{tr:l}=e,c=r[r.length-1],f=r[0];let h=t.to;if(c){const p=f.search(/\S/),m=t.from+f.indexOf(c),g=m+c.length;if(J0(t.from,t.to,e.doc).filter(b=>b.mark.type.excluded.find(T=>T===n.type&&T!==b.mark.type)).filter(b=>b.to>m).length)return null;g<t.to&&l.delete(g,t.to),m>t.from&&l.delete(t.from+p,m),h=t.from+p+c.length,l.addMark(t.from+p,h,n.type.create(o||{})),l.removeStoredMark(n.type)}}})}const{getOwnPropertyNames:Wz,getOwnPropertySymbols:Yz}=Object,{hasOwnProperty:Kz}=Object.prototype;function ly(n,e){return function(r,i,o){return n(r,i,o)&&e(r,i,o)}}function Cd(n){return function(t,r,i){if(!t||!r||typeof t!="object"||typeof r!="object")return n(t,r,i);const{cache:o}=i,l=o.get(t),c=o.get(r);if(l&&c)return l===r&&c===t;o.set(t,r),o.set(r,t);const f=n(t,r,i);return o.delete(t),o.delete(r),f}}function Zz(n){return n?.[Symbol.toStringTag]}function FA(n){return Wz(n).concat(Yz(n))}const Jz=Object.hasOwn||((n,e)=>Kz.call(n,e));function Ds(n,e){return n===e||!n&&!e&&n!==n&&e!==e}const Xz="__v",Qz="__o",$z="_owner",{getOwnPropertyDescriptor:VA,keys:qA}=Object;function e3(n,e){return n.byteLength===e.byteLength&&hh(new Uint8Array(n),new Uint8Array(e))}function t3(n,e,t){let r=n.length;if(e.length!==r)return!1;for(;r-- >0;)if(!t.equals(n[r],e[r],r,r,n,e,t))return!1;return!0}function n3(n,e){return n.byteLength===e.byteLength&&hh(new Uint8Array(n.buffer,n.byteOffset,n.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function r3(n,e){return Ds(n.getTime(),e.getTime())}function i3(n,e){return n.name===e.name&&n.message===e.message&&n.cause===e.cause&&n.stack===e.stack}function a3(n,e){return n===e}function GA(n,e,t){const r=n.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=n.entries();let l,c,f=0;for(;(l=o.next())&&!l.done;){const h=e.entries();let p=!1,m=0;for(;(c=h.next())&&!c.done;){if(i[m]){m++;continue}const g=l.value,y=c.value;if(t.equals(g[0],y[0],f,m,n,e,t)&&t.equals(g[1],y[1],g[0],y[0],n,e,t)){p=i[m]=!0;break}m++}if(!p)return!1;f++}return!0}const o3=Ds;function s3(n,e,t){const r=qA(n);let i=r.length;if(qA(e).length!==i)return!1;for(;i-- >0;)if(!I_(n,e,t,r[i]))return!1;return!0}function Wu(n,e,t){const r=FA(n);let i=r.length;if(FA(e).length!==i)return!1;let o,l,c;for(;i-- >0;)if(o=r[i],!I_(n,e,t,o)||(l=VA(n,o),c=VA(e,o),(l||c)&&(!l||!c||l.configurable!==c.configurable||l.enumerable!==c.enumerable||l.writable!==c.writable)))return!1;return!0}function l3(n,e){return Ds(n.valueOf(),e.valueOf())}function u3(n,e){return n.source===e.source&&n.flags===e.flags}function WA(n,e,t){const r=n.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=n.values();let l,c;for(;(l=o.next())&&!l.done;){const f=e.values();let h=!1,p=0;for(;(c=f.next())&&!c.done;){if(!i[p]&&t.equals(l.value,c.value,l.value,c.value,n,e,t)){h=i[p]=!0;break}p++}if(!h)return!1}return!0}function hh(n,e){let t=n.byteLength;if(e.byteLength!==t||n.byteOffset!==e.byteOffset)return!1;for(;t-- >0;)if(n[t]!==e[t])return!1;return!0}function c3(n,e){return n.hostname===e.hostname&&n.pathname===e.pathname&&n.protocol===e.protocol&&n.port===e.port&&n.hash===e.hash&&n.username===e.username&&n.password===e.password}function I_(n,e,t,r){return(r===$z||r===Qz||r===Xz)&&(n.$$typeof||e.$$typeof)?!0:Jz(e,r)&&t.equals(n[r],e[r],r,r,n,e,t)}const f3="[object ArrayBuffer]",d3="[object Arguments]",h3="[object Boolean]",p3="[object DataView]",m3="[object Date]",g3="[object Error]",y3="[object Map]",v3="[object Number]",b3="[object Object]",S3="[object RegExp]",E3="[object Set]",T3="[object String]",A3={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},O3="[object URL]",C3=Object.prototype.toString;function M3({areArrayBuffersEqual:n,areArraysEqual:e,areDataViewsEqual:t,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:l,areNumbersEqual:c,areObjectsEqual:f,arePrimitiveWrappersEqual:h,areRegExpsEqual:p,areSetsEqual:m,areTypedArraysEqual:g,areUrlsEqual:y,unknownTagComparators:b}){return function(T,A,M){if(T===A)return!0;if(T==null||A==null)return!1;const w=typeof T;if(w!==typeof A)return!1;if(w!=="object")return w==="number"?c(T,A,M):w==="function"?o(T,A,M):!1;const x=T.constructor;if(x!==A.constructor)return!1;if(x===Object)return f(T,A,M);if(Array.isArray(T))return e(T,A,M);if(x===Date)return r(T,A,M);if(x===RegExp)return p(T,A,M);if(x===Map)return l(T,A,M);if(x===Set)return m(T,A,M);const N=C3.call(T);if(N===m3)return r(T,A,M);if(N===S3)return p(T,A,M);if(N===y3)return l(T,A,M);if(N===E3)return m(T,A,M);if(N===b3)return typeof T.then!="function"&&typeof A.then!="function"&&f(T,A,M);if(N===O3)return y(T,A,M);if(N===g3)return i(T,A,M);if(N===d3)return f(T,A,M);if(A3[N])return g(T,A,M);if(N===f3)return n(T,A,M);if(N===p3)return t(T,A,M);if(N===h3||N===v3||N===T3)return h(T,A,M);if(b){let z=b[N];if(!z){const P=Zz(T);P&&(z=b[P])}if(z)return z(T,A,M)}return!1}}function w3({circular:n,createCustomConfig:e,strict:t}){let r={areArrayBuffersEqual:e3,areArraysEqual:t?Wu:t3,areDataViewsEqual:n3,areDatesEqual:r3,areErrorsEqual:i3,areFunctionsEqual:a3,areMapsEqual:t?ly(GA,Wu):GA,areNumbersEqual:o3,areObjectsEqual:t?Wu:s3,arePrimitiveWrappersEqual:l3,areRegExpsEqual:u3,areSetsEqual:t?ly(WA,Wu):WA,areTypedArraysEqual:t?ly(hh,Wu):hh,areUrlsEqual:c3,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),n){const i=Cd(r.areArraysEqual),o=Cd(r.areMapsEqual),l=Cd(r.areObjectsEqual),c=Cd(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return r}function x3(n){return function(e,t,r,i,o,l,c){return n(e,t,c)}}function _3({circular:n,comparator:e,createState:t,equals:r,strict:i}){if(t)return function(c,f){const{cache:h=n?new WeakMap:void 0,meta:p}=t();return e(c,f,{cache:h,equals:r,meta:p,strict:i})};if(n)return function(c,f){return e(c,f,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(c,f){return e(c,f,o)}}const k3=vo();vo({strict:!0});vo({circular:!0});vo({circular:!0,strict:!0});vo({createInternalComparator:()=>Ds});vo({strict:!0,createInternalComparator:()=>Ds});vo({circular:!0,createInternalComparator:()=>Ds});vo({circular:!0,createInternalComparator:()=>Ds,strict:!0});function vo(n={}){const{circular:e=!1,createInternalComparator:t,createState:r,strict:i=!1}=n,o=w3(n),l=M3(o),c=t?t(l):x3(l);return _3({circular:e,comparator:l,createState:r,equals:c,strict:i})}var uy={exports:{}},cy={};var YA;function D3(){if(YA)return cy;YA=1;var n=Vc(),e=xw();function t(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var r=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,o=n.useRef,l=n.useEffect,c=n.useMemo,f=n.useDebugValue;return cy.useSyncExternalStoreWithSelector=function(h,p,m,g,y){var b=o(null);if(b.current===null){var S={hasValue:!1,value:null};b.current=S}else S=b.current;b=c(function(){function A(z){if(!M){if(M=!0,w=z,z=g(z),y!==void 0&&S.hasValue){var P=S.value;if(y(P,z))return x=P}return x=z}if(P=x,r(w,z))return P;var k=g(z);return y!==void 0&&y(P,k)?(w=z,P):(w=z,x=k)}var M=!1,w,x,N=m===void 0?null:m;return[function(){return A(p())},N===null?void 0:function(){return A(N())}]},[p,m,g,y]);var T=i(h,b[0],b[1]);return l(function(){S.hasValue=!0,S.value=T},[T]),f(T),T},cy}var KA;function N3(){return KA||(KA=1,uy.exports=D3()),uy.exports}var R3=N3(),P3=(...n)=>e=>{n.forEach(t=>{typeof t=="function"?t(e):t&&(t.current=e)})},j3=({contentComponent:n})=>{const e=_w.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getServerSnapshot);return C.jsx(C.Fragment,{children:Object.values(e)})};function L3(){const n=new Set;let e={};return{subscribe(t){return n.add(t),()=>{n.delete(t)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(t,r){e={...e,[t]:B2.createPortal(r.reactElement,r.element,t)},n.forEach(i=>i())},removeRenderer(t){const r={...e};delete r[t],e=r,n.forEach(i=>i())}}}var I3=class extends ho.Component{constructor(n){var e;super(n),this.editorContentRef=ho.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=n.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){var n;const e=this.props.editor;if(e&&!e.isDestroyed&&((n=e.view.dom)!=null&&n.parentNode)){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:t}),e.contentComponent=L3(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var n;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((n=e.view.dom)!=null&&n.parentNode))return;const t=document.createElement("div");t.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:t})}catch{}}}render(){const{editor:n,innerRef:e,...t}=this.props;return C.jsxs(C.Fragment,{children:[C.jsx("div",{ref:P3(e,this.editorContentRef),...t}),n?.contentComponent&&C.jsx(j3,{contentComponent:n.contentComponent})]})}},B3=L.forwardRef((n,e)=>{const t=ho.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[n.editor]);return ho.createElement(I3,{key:t,innerRef:e,...n})}),z3=ho.memo(B3),U3=typeof window<"u"?L.useLayoutEffect:L.useEffect,H3=class{constructor(n){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=n,this.lastSnapshot={editor:n,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(n){return this.subscribers.add(n),()=>{this.subscribers.delete(n)}}watch(n){if(this.editor=n,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},t=this.editor;return t.on("transaction",e),()=>{t.off("transaction",e)}}}};function F3(n){var e;const[t]=L.useState(()=>new H3(n.editor)),r=R3.useSyncExternalStoreWithSelector(t.subscribe,t.getSnapshot,t.getServerSnapshot,n.selector,(e=n.equalityFn)!=null?e:k3);return U3(()=>t.watch(n.editor),[n.editor,t]),L.useDebugValue(r),r}var V3=!1,Wv=typeof window>"u",q3=Wv||!!(typeof window<"u"&&window.next),G3=class B_{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(t=>t())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?Wv||q3?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,o;return(o=(i=this.options.current).onBeforeCreate)==null?void 0:o.call(i,...r)},onBlur:(...r)=>{var i,o;return(o=(i=this.options.current).onBlur)==null?void 0:o.call(i,...r)},onCreate:(...r)=>{var i,o;return(o=(i=this.options.current).onCreate)==null?void 0:o.call(i,...r)},onDestroy:(...r)=>{var i,o;return(o=(i=this.options.current).onDestroy)==null?void 0:o.call(i,...r)},onFocus:(...r)=>{var i,o;return(o=(i=this.options.current).onFocus)==null?void 0:o.call(i,...r)},onSelectionUpdate:(...r)=>{var i,o;return(o=(i=this.options.current).onSelectionUpdate)==null?void 0:o.call(i,...r)},onTransaction:(...r)=>{var i,o;return(o=(i=this.options.current).onTransaction)==null?void 0:o.call(i,...r)},onUpdate:(...r)=>{var i,o;return(o=(i=this.options.current).onUpdate)==null?void 0:o.call(i,...r)},onContentError:(...r)=>{var i,o;return(o=(i=this.options.current).onContentError)==null?void 0:o.call(i,...r)},onDrop:(...r)=>{var i,o;return(o=(i=this.options.current).onDrop)==null?void 0:o.call(i,...r)},onPaste:(...r)=>{var i,o;return(o=(i=this.options.current).onPaste)==null?void 0:o.call(i,...r)},onDelete:(...r)=>{var i,o;return(o=(i=this.options.current).onDelete)==null?void 0:o.call(i,...r)}};return new Lz(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,t){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&t.extensions?e.extensions.length!==t.extensions.length?!1:e.extensions.every((i,o)=>{var l;return i===((l=t.extensions)==null?void 0:l[o])}):e[r]===t[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?B_.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){t&&t.setOptions(this.options.current);return}t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function W3(n={},e=[]){const t=L.useRef(n);t.current=n;const[r]=L.useState(()=>new G3(t)),i=_w.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return L.useDebugValue(i),L.useEffect(r.onRender(e)),F3({editor:i,selector:({transactionNumber:o})=>n.shouldRerenderOnTransaction===!1||n.shouldRerenderOnTransaction===void 0?null:n.immediatelyRender&&o===0?0:o+1}),i}var Y3=L.createContext({editor:null});Y3.Consumer;var K3=L.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),Z3=()=>L.useContext(K3);ho.forwardRef((n,e)=>{const{onDragStart:t}=Z3(),r=n.as||"div";return C.jsx(r,{...n,ref:e,"data-node-view-wrapper":"",onDragStart:t,style:{whiteSpace:"normal",...n.style}})});ho.createContext({markViewContentRef:()=>{}});var ph=(n,e)=>{if(n==="slot")return 0;if(n instanceof Function)return n(e);const{children:t,...r}=e??{};if(n==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[n,r,t]},J3=/^\s*>\s$/,X3=Rr.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:n}){return ph("blockquote",{...rn(this.options.HTMLAttributes,n),children:ph("slot",{})})},parseMarkdown:(n,e)=>e.createNode("blockquote",void 0,e.parseChildren(n.tokens||[])),renderMarkdown:(n,e)=>{if(!n.content)return"";const t=">",r=[];return n.content.forEach(i=>{const c=e.renderChildren([i]).split(`
`).map(f=>f.trim()===""?t:`${t} ${f}`);r.push(c.join(`
`))}),r.join(`
${t}
`)},addCommands(){return{setBlockquote:()=>({commands:n})=>n.wrapIn(this.name),toggleBlockquote:()=>({commands:n})=>n.toggleWrap(this.name),unsetBlockquote:()=>({commands:n})=>n.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Ul({find:J3,type:this.type})]}}),Q3=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,$3=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,eU=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,tU=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,nU=ks.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:n=>n.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:n=>n.type.name===this.name},{style:"font-weight",getAttrs:n=>/^(bold(er)?|[5-9]\d{2,})$/.test(n)&&null}]},renderHTML({HTMLAttributes:n}){return ph("strong",{...rn(this.options.HTMLAttributes,n),children:ph("slot",{})})},markdownTokenName:"strong",parseMarkdown:(n,e)=>e.applyMark("bold",e.parseInline(n.tokens||[])),renderMarkdown:(n,e)=>`**${e.renderChildren(n)}**`,addCommands(){return{setBold:()=>({commands:n})=>n.setMark(this.name),toggleBold:()=>({commands:n})=>n.toggleMark(this.name),unsetBold:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[zl({find:Q3,type:this.type}),zl({find:eU,type:this.type})]},addPasteRules(){return[ws({find:$3,type:this.type}),ws({find:tU,type:this.type})]}}),rU=/(^|[^`])`([^`]+)`(?!`)$/,iU=/(^|[^`])`([^`]+)`(?!`)/g,aU=ks.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:n}){return["code",rn(this.options.HTMLAttributes,n),0]},markdownTokenName:"codespan",parseMarkdown:(n,e)=>e.applyMark("code",[{type:"text",text:n.text||""}]),renderMarkdown:(n,e)=>n.content?`\`${e.renderChildren(n.content)}\``:"",addCommands(){return{setCode:()=>({commands:n})=>n.setMark(this.name),toggleCode:()=>({commands:n})=>n.toggleMark(this.name),unsetCode:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[zl({find:rU,type:this.type})]},addPasteRules(){return[ws({find:iU,type:this.type})]}}),fy=4,oU=/^```([a-z]+)?[\s\n]$/,sU=/^~~~([a-z]+)?[\s\n]$/,lU=Rr.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:fy,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:n=>{var e;const{languageClassPrefix:t}=this.options;if(!t)return null;const o=[...((e=n.firstElementChild)==null?void 0:e.classList)||[]].filter(l=>l.startsWith(t)).map(l=>l.replace(t,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:n,HTMLAttributes:e}){return["pre",rn(this.options.HTMLAttributes,e),["code",{class:n.attrs.language?this.options.languageClassPrefix+n.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(n,e)=>{var t;return((t=n.raw)==null?void 0:t.startsWith("```"))===!1&&n.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:n.lang||null},n.text?[e.createTextNode(n.text)]:[])},renderMarkdown:(n,e)=>{var t;let r="";const i=((t=n.attrs)==null?void 0:t.language)||"";return n.content?r=[`\`\`\`${i}`,e.renderChildren(n.content),"```"].join(`
`):r=`\`\`\`${i}

\`\`\``,r},addCommands(){return{setCodeBlock:n=>({commands:e})=>e.setNode(this.name,n),toggleCodeBlock:n=>({commands:e})=>e.toggleNode(this.name,"paragraph",n)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:n,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!n||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:n})=>{var e;if(!this.options.enableTabIndentation)return!1;const t=(e=this.options.tabSize)!=null?e:fy,{state:r}=n,{selection:i}=r,{$from:o,empty:l}=i;if(o.parent.type!==this.type)return!1;const c=" ".repeat(t);return l?n.commands.insertContent(c):n.commands.command(({tr:f})=>{const{from:h,to:p}=i,y=r.doc.textBetween(h,p,`
`,`
`).split(`
`).map(b=>c+b).join(`
`);return f.replaceWith(h,p,r.schema.text(y)),!0})},"Shift-Tab":({editor:n})=>{var e;if(!this.options.enableTabIndentation)return!1;const t=(e=this.options.tabSize)!=null?e:fy,{state:r}=n,{selection:i}=r,{$from:o,empty:l}=i;return o.parent.type!==this.type?!1:l?n.commands.command(({tr:c})=>{var f;const{pos:h}=o,p=o.start(),m=o.end(),y=r.doc.textBetween(p,m,`
`,`
`).split(`
`);let b=0,S=0;const T=h-p;for(let z=0;z<y.length;z+=1){if(S+y[z].length>=T){b=z;break}S+=y[z].length+1}const M=((f=y[b].match(/^ */))==null?void 0:f[0])||"",w=Math.min(M.length,t);if(w===0)return!0;let x=p;for(let z=0;z<b;z+=1)x+=y[z].length+1;return c.delete(x,x+w),h-x<=w&&c.setSelection(Le.create(c.doc,x)),!0}):n.commands.command(({tr:c})=>{const{from:f,to:h}=i,g=r.doc.textBetween(f,h,`
`,`
`).split(`
`).map(y=>{var b;const S=((b=y.match(/^ */))==null?void 0:b[0])||"",T=Math.min(S.length,t);return y.slice(T)}).join(`
`);return c.replaceWith(f,h,r.schema.text(g)),!0})},Enter:({editor:n})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=n,{selection:t}=e,{$from:r,empty:i}=t;if(!i||r.parent.type!==this.type)return!1;const o=r.parentOffset===r.parent.nodeSize-2,l=r.parent.textContent.endsWith(`

`);return!o||!l?!1:n.chain().command(({tr:c})=>(c.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:n})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=n,{selection:t,doc:r}=e,{$from:i,empty:o}=t;if(!o||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const c=i.after();return c===void 0?!1:r.nodeAt(c)?n.commands.command(({tr:h})=>(h.setSelection(Ke.near(r.resolve(c))),!0)):n.commands.exitCode()}}},addInputRules(){return[qv({find:oU,type:this.type,getAttributes:n=>({language:n[1]})}),qv({find:sU,type:this.type,getAttributes:n=>({language:n[1]})})]},addProseMirrorPlugins(){return[new Lt({key:new un("codeBlockVSCodeHandler"),props:{handlePaste:(n,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,o=i?.mode;if(!t||!o)return!1;const{tr:l,schema:c}=n.state,f=c.text(t.replace(/\r\n?/g,`
`));return l.replaceSelectionWith(this.type.create({language:o},f)),l.selection.$from.parent.type!==this.type&&l.setSelection(Le.near(l.doc.resolve(Math.max(0,l.selection.from-2)))),l.setMeta("paste",!0),n.dispatch(l),!0}}})]}}),uU=Rr.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(n,e)=>n.content?e.renderChildren(n.content,`

`):""}),cU=Rr.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:n}){return["br",rn(this.options.HTMLAttributes,n)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:n,chain:e,state:t,editor:r})=>n.first([()=>n.exitCode(),()=>n.command(()=>{const{selection:i,storedMarks:o}=t;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:l}=this.options,{splittableMarks:c}=r.extensionManager,f=o||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:h,dispatch:p})=>{if(p&&f&&l){const m=f.filter(g=>c.includes(g.type.name));h.ensureMarks(m)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),fU=Rr.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(n=>({tag:`h${n}`,attrs:{level:n}}))},renderHTML({node:n,HTMLAttributes:e}){return[`h${this.options.levels.includes(n.attrs.level)?n.attrs.level:this.options.levels[0]}`,rn(this.options.HTMLAttributes,e),0]},parseMarkdown:(n,e)=>e.createNode("heading",{level:n.depth||1},e.parseInline(n.tokens||[])),renderMarkdown:(n,e)=>{var t;const r=(t=n.attrs)!=null&&t.level?parseInt(n.attrs.level,10):1,i="#".repeat(r);return n.content?`${i} ${e.renderChildren(n.content)}`:""},addCommands(){return{setHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.setNode(this.name,n):!1,toggleHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.toggleNode(this.name,"paragraph",n):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((n,e)=>({...n,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(n=>qv({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${n}})\\s$`),type:this.type,getAttributes:{level:n}}))}}),dU=Rr.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:n}){return["hr",rn(this.options.HTMLAttributes,n)]},markdownTokenName:"hr",parseMarkdown:(n,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:n,state:e})=>{if(!Bz(e,e.schema.nodes[this.name]))return!1;const{selection:t}=e,{$to:r}=t,i=n();return b_(t)?i.insertContentAt(r.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({state:o,tr:l,dispatch:c})=>{if(c){const{$to:f}=l.selection,h=f.end();if(f.nodeAfter)f.nodeAfter.isTextblock?l.setSelection(Le.create(l.doc,f.pos+1)):f.nodeAfter.isBlock?l.setSelection(ke.create(l.doc,f.pos)):l.setSelection(Le.create(l.doc,f.pos));else{const p=o.schema.nodes[this.options.nextNodeType]||f.parent.type.contentMatch.defaultType,m=p?.create();m&&(l.insert(h,m),l.setSelection(Le.create(l.doc,h+1)))}l.scrollIntoView()}return!0}).run()}}},addInputRules(){return[Iz({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),hU=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,pU=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,mU=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,gU=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,yU=ks.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:n=>n.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:n=>n.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:n}){return["em",rn(this.options.HTMLAttributes,n),0]},addCommands(){return{setItalic:()=>({commands:n})=>n.setMark(this.name),toggleItalic:()=>({commands:n})=>n.toggleMark(this.name),unsetItalic:()=>({commands:n})=>n.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(n,e)=>e.applyMark("italic",e.parseInline(n.tokens||[])),renderMarkdown:(n,e)=>`*${e.renderChildren(n)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[zl({find:hU,type:this.type}),zl({find:mU,type:this.type})]},addPasteRules(){return[ws({find:pU,type:this.type}),ws({find:gU,type:this.type})]}});const vU="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",bU="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Yv="numeric",Kv="ascii",Zv="alpha",yc="asciinumeric",lc="alphanumeric",Jv="domain",z_="emoji",SU="scheme",EU="slashscheme",dy="whitespace";function TU(n,e){return n in e||(e[n]=[]),e[n]}function gs(n,e,t){e[Yv]&&(e[yc]=!0,e[lc]=!0),e[Kv]&&(e[yc]=!0,e[Zv]=!0),e[yc]&&(e[lc]=!0),e[Zv]&&(e[lc]=!0),e[lc]&&(e[Jv]=!0),e[z_]&&(e[Jv]=!0);for(const r in e){const i=TU(r,t);i.indexOf(n)<0&&i.push(n)}}function AU(n,e){const t={};for(const r in e)e[r].indexOf(n)>=0&&(t[r]=!0);return t}function sr(n=null){this.j={},this.jr=[],this.jd=null,this.t=n}sr.groups={};sr.prototype={accepts(){return!!this.t},go(n){const e=this,t=e.j[n];if(t)return t;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],o=e.jr[r][1];if(o&&i.test(n))return o}return e.jd},has(n,e=!1){return e?n in this.j:!!this.go(n)},ta(n,e,t,r){for(let i=0;i<n.length;i++)this.tt(n[i],e,t,r)},tr(n,e,t,r){r=r||sr.groups;let i;return e&&e.j?i=e:(i=new sr(e),t&&r&&gs(e,t,r)),this.jr.push([n,i]),i},ts(n,e,t,r){let i=this;const o=n.length;if(!o)return i;for(let l=0;l<o-1;l++)i=i.tt(n[l]);return i.tt(n[o-1],e,t,r)},tt(n,e,t,r){r=r||sr.groups;const i=this;if(e&&e.j)return i.j[n]=e,e;const o=e;let l,c=i.go(n);if(c?(l=new sr,Object.assign(l.j,c.j),l.jr.push.apply(l.jr,c.jr),l.jd=c.jd,l.t=c.t):l=new sr,o){if(r)if(l.t&&typeof l.t=="string"){const f=Object.assign(AU(l.t,r),t);gs(o,f,r)}else t&&gs(o,t,r);l.t=o}return i.j[n]=l,l}};const Ye=(n,e,t,r,i)=>n.ta(e,t,r,i),Ut=(n,e,t,r,i)=>n.tr(e,t,r,i),ZA=(n,e,t,r,i)=>n.ts(e,t,r,i),ue=(n,e,t,r,i)=>n.tt(e,t,r,i),sa="WORD",Xv="UWORD",U_="ASCIINUMERICAL",H_="ALPHANUMERICAL",Lc="LOCALHOST",Qv="TLD",$v="UTLD",Wd="SCHEME",Cl="SLASH_SCHEME",tb="NUM",e0="WS",nb="NL",vc="OPENBRACE",bc="CLOSEBRACE",mh="OPENBRACKET",gh="CLOSEBRACKET",yh="OPENPAREN",vh="CLOSEPAREN",bh="OPENANGLEBRACKET",Sh="CLOSEANGLEBRACKET",Eh="FULLWIDTHLEFTPAREN",Th="FULLWIDTHRIGHTPAREN",Ah="LEFTCORNERBRACKET",Oh="RIGHTCORNERBRACKET",Ch="LEFTWHITECORNERBRACKET",Mh="RIGHTWHITECORNERBRACKET",wh="FULLWIDTHLESSTHAN",xh="FULLWIDTHGREATERTHAN",_h="AMPERSAND",kh="APOSTROPHE",Dh="ASTERISK",Ja="AT",Nh="BACKSLASH",Rh="BACKTICK",Ph="CARET",eo="COLON",rb="COMMA",jh="DOLLAR",Ai="DOT",Lh="EQUALS",ib="EXCLAMATION",Wr="HYPHEN",Sc="PERCENT",Ih="PIPE",Bh="PLUS",zh="POUND",Ec="QUERY",ab="QUOTE",F_="FULLWIDTHMIDDLEDOT",ob="SEMI",Oi="SLASH",Tc="TILDE",Uh="UNDERSCORE",V_="EMOJI",Hh="SYM";var q_=Object.freeze({__proto__:null,ALPHANUMERICAL:H_,AMPERSAND:_h,APOSTROPHE:kh,ASCIINUMERICAL:U_,ASTERISK:Dh,AT:Ja,BACKSLASH:Nh,BACKTICK:Rh,CARET:Ph,CLOSEANGLEBRACKET:Sh,CLOSEBRACE:bc,CLOSEBRACKET:gh,CLOSEPAREN:vh,COLON:eo,COMMA:rb,DOLLAR:jh,DOT:Ai,EMOJI:V_,EQUALS:Lh,EXCLAMATION:ib,FULLWIDTHGREATERTHAN:xh,FULLWIDTHLEFTPAREN:Eh,FULLWIDTHLESSTHAN:wh,FULLWIDTHMIDDLEDOT:F_,FULLWIDTHRIGHTPAREN:Th,HYPHEN:Wr,LEFTCORNERBRACKET:Ah,LEFTWHITECORNERBRACKET:Ch,LOCALHOST:Lc,NL:nb,NUM:tb,OPENANGLEBRACKET:bh,OPENBRACE:vc,OPENBRACKET:mh,OPENPAREN:yh,PERCENT:Sc,PIPE:Ih,PLUS:Bh,POUND:zh,QUERY:Ec,QUOTE:ab,RIGHTCORNERBRACKET:Oh,RIGHTWHITECORNERBRACKET:Mh,SCHEME:Wd,SEMI:ob,SLASH:Oi,SLASH_SCHEME:Cl,SYM:Hh,TILDE:Tc,TLD:Qv,UNDERSCORE:Uh,UTLD:$v,UWORD:Xv,WORD:sa,WS:e0});const Ji=/[a-z]/,Yu=new RegExp("\\p{L}","u"),hy=new RegExp("\\p{Emoji}","u"),Xi=/\d/,py=/\s/,JA="\r",my=`
`,OU="",CU="",gy="";let Md=null,wd=null;function MU(n=[]){const e={};sr.groups=e;const t=new sr;Md==null&&(Md=XA(vU)),wd==null&&(wd=XA(bU)),ue(t,"'",kh),ue(t,"{",vc),ue(t,"}",bc),ue(t,"[",mh),ue(t,"]",gh),ue(t,"(",yh),ue(t,")",vh),ue(t,"<",bh),ue(t,">",Sh),ue(t,"",Eh),ue(t,"",Th),ue(t,"",Ah),ue(t,"",Oh),ue(t,"",Ch),ue(t,"",Mh),ue(t,"",wh),ue(t,"",xh),ue(t,"&",_h),ue(t,"*",Dh),ue(t,"@",Ja),ue(t,"`",Rh),ue(t,"^",Ph),ue(t,":",eo),ue(t,",",rb),ue(t,"$",jh),ue(t,".",Ai),ue(t,"=",Lh),ue(t,"!",ib),ue(t,"-",Wr),ue(t,"%",Sc),ue(t,"|",Ih),ue(t,"+",Bh),ue(t,"#",zh),ue(t,"?",Ec),ue(t,'"',ab),ue(t,"/",Oi),ue(t,";",ob),ue(t,"~",Tc),ue(t,"_",Uh),ue(t,"\\",Nh),ue(t,"",F_);const r=Ut(t,Xi,tb,{[Yv]:!0});Ut(r,Xi,r);const i=Ut(r,Ji,U_,{[yc]:!0}),o=Ut(r,Yu,H_,{[lc]:!0}),l=Ut(t,Ji,sa,{[Kv]:!0});Ut(l,Xi,i),Ut(l,Ji,l),Ut(i,Xi,i),Ut(i,Ji,i);const c=Ut(t,Yu,Xv,{[Zv]:!0});Ut(c,Ji),Ut(c,Xi,o),Ut(c,Yu,c),Ut(o,Xi,o),Ut(o,Ji),Ut(o,Yu,o);const f=ue(t,my,nb,{[dy]:!0}),h=ue(t,JA,e0,{[dy]:!0}),p=Ut(t,py,e0,{[dy]:!0});ue(t,gy,p),ue(h,my,f),ue(h,gy,p),Ut(h,py,p),ue(p,JA),ue(p,my),Ut(p,py,p),ue(p,gy,p);const m=Ut(t,hy,V_,{[z_]:!0});ue(m,"#"),Ut(m,hy,m),ue(m,OU,m);const g=ue(m,CU);ue(g,"#"),Ut(g,hy,m);const y=[[Ji,l],[Xi,i]],b=[[Ji,null],[Yu,c],[Xi,o]];for(let S=0;S<Md.length;S++)Wa(t,Md[S],Qv,sa,y);for(let S=0;S<wd.length;S++)Wa(t,wd[S],$v,Xv,b);gs(Qv,{tld:!0,ascii:!0},e),gs($v,{utld:!0,alpha:!0},e),Wa(t,"file",Wd,sa,y),Wa(t,"mailto",Wd,sa,y),Wa(t,"http",Cl,sa,y),Wa(t,"https",Cl,sa,y),Wa(t,"ftp",Cl,sa,y),Wa(t,"ftps",Cl,sa,y),gs(Wd,{scheme:!0,ascii:!0},e),gs(Cl,{slashscheme:!0,ascii:!0},e),n=n.sort((S,T)=>S[0]>T[0]?1:-1);for(let S=0;S<n.length;S++){const T=n[S][0],M=n[S][1]?{[SU]:!0}:{[EU]:!0};T.indexOf("-")>=0?M[Jv]=!0:Ji.test(T)?Xi.test(T)?M[yc]=!0:M[Kv]=!0:M[Yv]=!0,ZA(t,T,T,M)}return ZA(t,"localhost",Lc,{ascii:!0}),t.jd=new sr(Hh),{start:t,tokens:Object.assign({groups:e},q_)}}function G_(n,e){const t=wU(e.replace(/[A-Z]/g,c=>c.toLowerCase())),r=t.length,i=[];let o=0,l=0;for(;l<r;){let c=n,f=null,h=0,p=null,m=-1,g=-1;for(;l<r&&(f=c.go(t[l]));)c=f,c.accepts()?(m=0,g=0,p=c):m>=0&&(m+=t[l].length,g++),h+=t[l].length,o+=t[l].length,l++;o-=m,l-=g,h-=m,i.push({t:p.t,v:e.slice(o-h,o),s:o-h,e:o})}return i}function wU(n){const e=[],t=n.length;let r=0;for(;r<t;){let i=n.charCodeAt(r),o,l=i<55296||i>56319||r+1===t||(o=n.charCodeAt(r+1))<56320||o>57343?n[r]:n.slice(r,r+2);e.push(l),r+=l.length}return e}function Wa(n,e,t,r,i){let o;const l=e.length;for(let c=0;c<l-1;c++){const f=e[c];n.j[f]?o=n.j[f]:(o=new sr(r),o.jr=i.slice(),n.j[f]=o),n=o}return o=new sr(t),o.jr=i.slice(),n.j[e[l-1]]=o,o}function XA(n){const e=[],t=[];let r=0,i="0123456789";for(;r<n.length;){let o=0;for(;i.indexOf(n[r+o])>=0;)o++;if(o>0){e.push(t.join(""));for(let l=parseInt(n.substring(r,r+o),10);l>0;l--)t.pop();r+=o}else t.push(n[r]),r++}return e}const Ic={defaultProtocol:"http",events:null,format:QA,formatHref:QA,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function sb(n,e=null){let t=Object.assign({},Ic);n&&(t=Object.assign(t,n instanceof sb?n.o:n));const r=t.ignoreTags,i=[];for(let o=0;o<r.length;o++)i.push(r[o].toUpperCase());this.o=t,e&&(this.defaultRender=e),this.ignoreTags=i}sb.prototype={o:Ic,ignoreTags:[],defaultRender(n){return n},check(n){return this.get("validate",n.toString(),n)},get(n,e,t){const r=e!=null;let i=this.o[n];return i&&(typeof i=="object"?(i=t.t in i?i[t.t]:Ic[n],typeof i=="function"&&r&&(i=i(e,t))):typeof i=="function"&&r&&(i=i(e,t.t,t)),i)},getObj(n,e,t){let r=this.o[n];return typeof r=="function"&&e!=null&&(r=r(e,t.t,t)),r},render(n){const e=n.render(this);return(this.get("render",null,n)||this.defaultRender)(e,n.t,n)}};function QA(n){return n}function W_(n,e){this.t="token",this.v=n,this.tk=e}W_.prototype={isLink:!1,toString(){return this.v},toHref(n){return this.toString()},toFormattedString(n){const e=this.toString(),t=n.get("truncate",e,this),r=n.get("format",e,this);return t&&r.length>t?r.substring(0,t)+"":r},toFormattedHref(n){return n.get("formatHref",this.toHref(n.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(n=Ic.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(n),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(n){return{type:this.t,value:this.toFormattedString(n),isLink:this.isLink,href:this.toFormattedHref(n),start:this.startIndex(),end:this.endIndex()}},validate(n){return n.get("validate",this.toString(),this)},render(n){const e=this,t=this.toHref(n.get("defaultProtocol")),r=n.get("formatHref",t,this),i=n.get("tagName",t,e),o=this.toFormattedString(n),l={},c=n.get("className",t,e),f=n.get("target",t,e),h=n.get("rel",t,e),p=n.getObj("attributes",t,e),m=n.getObj("events",t,e);return l.href=r,c&&(l.class=c),f&&(l.target=f),h&&(l.rel=h),p&&Object.assign(l,p),{tagName:i,attributes:l,content:o,eventListeners:m}}};function pp(n,e){class t extends W_{constructor(i,o){super(i,o),this.t=n}}for(const r in e)t.prototype[r]=e[r];return t.t=n,t}const $A=pp("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),eO=pp("text"),xU=pp("nl"),xd=pp("url",{isLink:!0,toHref(n=Ic.defaultProtocol){return this.hasProtocol()?this.v:`${n}://${this.v}`},hasProtocol(){const n=this.tk;return n.length>=2&&n[0].t!==Lc&&n[1].t===eo}}),qr=n=>new sr(n);function _U({groups:n}){const e=n.domain.concat([_h,Dh,Ja,Nh,Rh,Ph,jh,Lh,Wr,tb,Sc,Ih,Bh,zh,Oi,Hh,Tc,Uh]),t=[kh,eo,rb,Ai,ib,Sc,Ec,ab,ob,bh,Sh,vc,bc,gh,mh,yh,vh,Eh,Th,Ah,Oh,Ch,Mh,wh,xh],r=[_h,kh,Dh,Nh,Rh,Ph,jh,Lh,Wr,vc,bc,Sc,Ih,Bh,zh,Ec,Oi,Hh,Tc,Uh],i=qr(),o=ue(i,Tc);Ye(o,r,o),Ye(o,n.domain,o);const l=qr(),c=qr(),f=qr();Ye(i,n.domain,l),Ye(i,n.scheme,c),Ye(i,n.slashscheme,f),Ye(l,r,o),Ye(l,n.domain,l);const h=ue(l,Ja);ue(o,Ja,h),ue(c,Ja,h),ue(f,Ja,h);const p=ue(o,Ai);Ye(p,r,o),Ye(p,n.domain,o);const m=qr();Ye(h,n.domain,m),Ye(m,n.domain,m);const g=ue(m,Ai);Ye(g,n.domain,m);const y=qr($A);Ye(g,n.tld,y),Ye(g,n.utld,y),ue(h,Lc,y);const b=ue(m,Wr);ue(b,Wr,b),Ye(b,n.domain,m),Ye(y,n.domain,m),ue(y,Ai,g),ue(y,Wr,b);const S=ue(y,eo);Ye(S,n.numeric,$A);const T=ue(l,Wr),A=ue(l,Ai);ue(T,Wr,T),Ye(T,n.domain,l),Ye(A,r,o),Ye(A,n.domain,l);const M=qr(xd);Ye(A,n.tld,M),Ye(A,n.utld,M),Ye(M,n.domain,l),Ye(M,r,o),ue(M,Ai,A),ue(M,Wr,T),ue(M,Ja,h);const w=ue(M,eo),x=qr(xd);Ye(w,n.numeric,x);const N=qr(xd),z=qr();Ye(N,e,N),Ye(N,t,z),Ye(z,e,N),Ye(z,t,z),ue(M,Oi,N),ue(x,Oi,N);const P=ue(c,eo),k=ue(f,eo),j=ue(k,Oi),B=ue(j,Oi);Ye(c,n.domain,l),ue(c,Ai,A),ue(c,Wr,T),Ye(f,n.domain,l),ue(f,Ai,A),ue(f,Wr,T),Ye(P,n.domain,N),ue(P,Oi,N),ue(P,Ec,N),Ye(B,n.domain,N),Ye(B,e,N),ue(B,Oi,N);const G=[[vc,bc],[mh,gh],[yh,vh],[bh,Sh],[Eh,Th],[Ah,Oh],[Ch,Mh],[wh,xh]];for(let $=0;$<G.length;$++){const[ne,le]=G[$],ee=ue(N,ne);ue(z,ne,ee),ue(ee,le,N);const I=qr(xd);Ye(ee,e,I);const W=qr();Ye(ee,t),Ye(I,e,I),Ye(I,t,W),Ye(W,e,I),Ye(W,t,W),ue(I,le,N),ue(W,le,N)}return ue(i,Lc,M),ue(i,nb,xU),{start:i,tokens:q_}}function kU(n,e,t){let r=t.length,i=0,o=[],l=[];for(;i<r;){let c=n,f=null,h=null,p=0,m=null,g=-1;for(;i<r&&!(f=c.go(t[i].t));)l.push(t[i++]);for(;i<r&&(h=f||c.go(t[i].t));)f=null,c=h,c.accepts()?(g=0,m=c):g>=0&&g++,i++,p++;if(g<0)i-=p,i<r&&(l.push(t[i]),i++);else{l.length>0&&(o.push(yy(eO,e,l)),l=[]),i-=g,p-=g;const y=m.t,b=t.slice(i-p,i);o.push(yy(y,e,b))}}return l.length>0&&o.push(yy(eO,e,l)),o}function yy(n,e,t){const r=t[0].s,i=t[t.length-1].e,o=e.slice(r,i);return new n(o,t)}const DU=typeof console<"u"&&console&&console.warn||(()=>{}),NU="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",_t={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function RU(){return sr.groups={},_t.scanner=null,_t.parser=null,_t.tokenQueue=[],_t.pluginQueue=[],_t.customSchemes=[],_t.initialized=!1,_t}function tO(n,e=!1){if(_t.initialized&&DU(`linkifyjs: already initialized - will not register custom scheme "${n}" ${NU}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(n))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);_t.customSchemes.push([n,e])}function PU(){_t.scanner=MU(_t.customSchemes);for(let n=0;n<_t.tokenQueue.length;n++)_t.tokenQueue[n][1]({scanner:_t.scanner});_t.parser=_U(_t.scanner.tokens);for(let n=0;n<_t.pluginQueue.length;n++)_t.pluginQueue[n][1]({scanner:_t.scanner,parser:_t.parser});return _t.initialized=!0,_t}function lb(n){return _t.initialized||PU(),kU(_t.parser.start,n,G_(_t.scanner.start,n))}lb.scan=G_;function Y_(n,e=null,t=null){if(e&&typeof e=="object"){if(t)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);t=e,e=null}const r=new sb(t),i=lb(n),o=[];for(let l=0;l<i.length;l++){const c=i[l];c.isLink&&(!e||c.t===e)&&r.check(c)&&o.push(c.toFormattedObject(r))}return o}var ub="[\0- -\u2029]",jU=new RegExp(ub),LU=new RegExp(`${ub}$`),IU=new RegExp(ub,"g");function BU(n){return n.length===1?n[0].isLink:n.length===3&&n[1].isLink?["()","[]"].includes(n[0].value+n[2].value):!1}function zU(n){return new Lt({key:new un("autolink"),appendTransaction:(e,t,r)=>{const i=e.some(h=>h.docChanged)&&!t.doc.eq(r.doc),o=e.some(h=>h.getMeta("preventAutolink"));if(!i||o)return;const{tr:l}=r,c=f_(t.doc,[...e]);if(v_(c).forEach(({newRange:h})=>{const p=BB(r.doc,h,y=>y.isTextblock);let m,g;if(p.length>1)m=p[0],g=r.doc.textBetween(m.pos,m.pos+m.node.nodeSize,void 0," ");else if(p.length){const y=r.doc.textBetween(h.from,h.to," "," ");if(!LU.test(y))return;m=p[0],g=r.doc.textBetween(m.pos,h.to,void 0," ")}if(m&&g){const y=g.split(jU).filter(Boolean);if(y.length<=0)return!1;const b=y[y.length-1],S=m.pos+g.lastIndexOf(b);if(!b)return!1;const T=lb(b).map(A=>A.toObject(n.defaultProtocol));if(!BU(T))return!1;T.filter(A=>A.isLink).map(A=>({...A,from:S+A.start+1,to:S+A.end+1})).filter(A=>r.schema.marks.code?!r.doc.rangeHasMark(A.from,A.to,r.schema.marks.code):!0).filter(A=>n.validate(A.value)).filter(A=>n.shouldAutoLink(A.value)).forEach(A=>{J0(A.from,A.to,r.doc).some(M=>M.mark.type===n.type)||l.addMark(A.from,A.to,n.type.create({href:A.href}))})}}),!!l.steps.length)return l}})}function UU(n){return new Lt({key:new un("handleClickLink"),props:{handleClick:(e,t,r)=>{var i,o;if(r.button!==0||!e.editable)return!1;let l=null;if(r.target instanceof HTMLAnchorElement)l=r.target;else{const f=r.target;if(!f)return!1;const h=n.editor.view.dom;l=f.closest("a"),l&&!h.contains(l)&&(l=null)}if(!l)return!1;let c=!1;if(n.enableClickSelection&&(c=n.editor.commands.extendMarkRange(n.type.name)),n.openOnClick){const f=y_(e.state,n.type.name),h=(i=l.href)!=null?i:f.href,p=(o=l.target)!=null?o:f.target;h&&(window.open(h,p),c=!0)}return c}}})}function HU(n){return new Lt({key:new un("handlePasteLink"),props:{handlePaste:(e,t,r)=>{const{shouldAutoLink:i}=n,{state:o}=e,{selection:l}=o,{empty:c}=l;if(c)return!1;let f="";r.content.forEach(p=>{f+=p.textContent});const h=Y_(f,{defaultProtocol:n.defaultProtocol}).find(p=>p.isLink&&p.value===f);return!f||!h||i!==void 0&&!i(h.value)?!1:n.editor.commands.setMark(n.type,{href:h.href})}}})}function Vo(n,e){const t=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&t.push(i)}),!n||n.replace(IU,"").match(new RegExp(`^(?:(?:${t.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var K_=ks.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(n=>{if(typeof n=="string"){tO(n);return}tO(n.scheme,n.optionalSlashes)})},onDestroy(){RU()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(n,e)=>!!Vo(n,e.protocols),validate:n=>!!n,shouldAutoLink:n=>{const e=/^[a-z][a-z0-9+.-]*:\/\//i.test(n),t=/^[a-z][a-z0-9+.-]*:/i.test(n);if(e||t&&!n.includes("@"))return!0;const i=(n.includes("@")?n.split("@").pop():n).split(/[/?#:]/)[0];return!(/^\d{1,3}(\.\d{1,3}){3}$/.test(i)||!/\./.test(i))}}},addAttributes(){return{href:{default:null,parseHTML(n){return n.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:n=>{const e=n.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:t=>!!Vo(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:n}){return this.options.isAllowedUri(n.href,{defaultValidate:e=>!!Vo(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",rn(this.options.HTMLAttributes,n),0]:["a",rn(this.options.HTMLAttributes,{...n,href:""}),0]},markdownTokenName:"link",parseMarkdown:(n,e)=>e.applyMark("link",e.parseInline(n.tokens||[]),{href:n.href,title:n.title||null}),renderMarkdown:(n,e)=>{var t;const r=((t=n.attrs)==null?void 0:t.href)||"";return`[${e.renderChildren(n)}](${r})`},addCommands(){return{setLink:n=>({chain:e})=>{const{href:t}=n;return this.options.isAllowedUri(t,{defaultValidate:r=>!!Vo(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,n).setMeta("preventAutolink",!0).run():!1},toggleLink:n=>({chain:e})=>{const{href:t}=n||{};return t&&!this.options.isAllowedUri(t,{defaultValidate:r=>!!Vo(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,n,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:n})=>n().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[ws({find:n=>{const e=[];if(n){const{protocols:t,defaultProtocol:r}=this.options,i=Y_(n).filter(o=>o.isLink&&this.options.isAllowedUri(o.value,{defaultValidate:l=>!!Vo(l,t),protocols:t,defaultProtocol:r}));i.length&&i.forEach(o=>{this.options.shouldAutoLink(o.value)&&e.push({text:o.value,data:{href:o.href},index:o.start})})}return e},type:this.type,getAttributes:n=>{var e;return{href:(e=n.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const n=[],{protocols:e,defaultProtocol:t}=this.options;return this.options.autolink&&n.push(zU({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!Vo(i,e),protocols:e,defaultProtocol:t}),shouldAutoLink:this.options.shouldAutoLink})),n.push(UU({type:this.type,editor:this.editor,openOnClick:this.options.openOnClick==="whenNotEditable"?!0:this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&n.push(HU({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),n}}),FU=K_,VU=Object.defineProperty,qU=(n,e)=>{for(var t in e)VU(n,t,{get:e[t],enumerable:!0})},GU="listItem",nO="textStyle",rO=/^\s*([-+*])\s$/,Z_=Rr.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:n}){return["ul",rn(this.options.HTMLAttributes,n),0]},markdownTokenName:"list",parseMarkdown:(n,e)=>n.type!=="list"||n.ordered?[]:{type:"bulletList",content:n.items?e.parseChildren(n.items):[]},renderMarkdown:(n,e)=>n.content?e.renderChildren(n.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(GU,this.editor.getAttributes(nO)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let n=Ul({find:rO,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(n=Ul({find:rO,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(nO),editor:this.editor})),[n]}}),J_=Rr.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",rn(this.options.HTMLAttributes,n),0]},markdownTokenName:"list_item",parseMarkdown:(n,e)=>{if(n.type!=="list_item")return[];let t=[];if(n.tokens&&n.tokens.length>0)if(n.tokens.some(i=>i.type==="paragraph"))t=e.parseChildren(n.tokens);else{const i=n.tokens[0];if(i&&i.type==="text"&&i.tokens&&i.tokens.length>0){if(t=[{type:"paragraph",content:e.parseInline(i.tokens)}],n.tokens.length>1){const l=n.tokens.slice(1),c=e.parseChildren(l);t.push(...c)}}else t=e.parseChildren(n.tokens)}return t.length===0&&(t=[{type:"paragraph",content:[]}]),{type:"listItem",content:t}},renderMarkdown:(n,e,t)=>eb(n,e,r=>{var i,o;return r.parentType==="bulletList"?"- ":r.parentType==="orderedList"?`${(((o=(i=r.meta)==null?void 0:i.parentAttrs)==null?void 0:o.start)||1)+r.index}. `:"- "},t),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),WU={};qU(WU,{findListItemPos:()=>Jc,getNextListDepth:()=>cb,handleBackspace:()=>t0,handleDelete:()=>n0,hasListBefore:()=>X_,hasListItemAfter:()=>YU,hasListItemBefore:()=>Q_,listItemHasSubList:()=>$_,nextListIsDeeper:()=>ek,nextListIsHigher:()=>tk});var Jc=(n,e)=>{const{$from:t}=e.selection,r=nn(n,e.schema);let i=null,o=t.depth,l=t.pos,c=null;for(;o>0&&c===null;)i=t.node(o),i.type===r?c=o:(o-=1,l-=1);return c===null?null:{$pos:e.doc.resolve(l),depth:c}},cb=(n,e)=>{const t=Jc(n,e);if(!t)return!1;const[,r]=KB(e,n,t.$pos.pos+4);return r},X_=(n,e,t)=>{const{$anchor:r}=n.selection,i=Math.max(0,r.pos-2),o=n.doc.resolve(i).node();return!(!o||!t.includes(o.type.name))},Q_=(n,e)=>{var t;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-2);return!(i.index()===0||((t=i.nodeBefore)==null?void 0:t.type.name)!==n)},$_=(n,e,t)=>{if(!t)return!1;const r=nn(n,e.schema);let i=!1;return t.descendants(o=>{o.type===r&&(i=!0)}),i},t0=(n,e,t)=>{if(n.commands.undoInputRule())return!0;if(n.state.selection.from!==n.state.selection.to)return!1;if(!mo(n.state,e)&&X_(n.state,e,t)){const{$anchor:c}=n.state.selection,f=n.state.doc.resolve(c.before()-1),h=[];f.node().descendants((g,y)=>{g.type.name===e&&h.push({node:g,pos:y})});const p=h.at(-1);if(!p)return!1;const m=n.state.doc.resolve(f.start()+p.pos+1);return n.chain().cut({from:c.start()-1,to:c.end()+1},m.end()).joinForward().run()}if(!mo(n.state,e)||!QB(n.state))return!1;const r=Jc(e,n.state);if(!r)return!1;const o=n.state.doc.resolve(r.$pos.pos-2).node(r.depth),l=$_(e,n.state,o);return Q_(e,n.state)&&!l?n.commands.joinItemBackward():n.chain().liftListItem(e).run()},ek=(n,e)=>{const t=cb(n,e),r=Jc(n,e);return!r||!t?!1:t>r.depth},tk=(n,e)=>{const t=cb(n,e),r=Jc(n,e);return!r||!t?!1:t<r.depth},n0=(n,e)=>{if(!mo(n.state,e)||!XB(n.state,e))return!1;const{selection:t}=n.state,{$from:r,$to:i}=t;return!t.empty&&r.sameParent(i)?!1:ek(e,n.state)?n.chain().focus(n.state.selection.from+4).lift(e).joinBackward().run():tk(e,n.state)?n.chain().joinForward().joinBackward().run():n.commands.joinItemForward()},YU=(n,e)=>{var t;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-r.parentOffset-2);return!(i.index()===i.parent.childCount-1||((t=i.nodeAfter)==null?void 0:t.type.name)!==n)},nk=Zt.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:n})=>{let e=!1;return this.options.listTypes.forEach(({itemName:t})=>{n.state.schema.nodes[t]!==void 0&&n0(n,t)&&(e=!0)}),e},"Mod-Delete":({editor:n})=>{let e=!1;return this.options.listTypes.forEach(({itemName:t})=>{n.state.schema.nodes[t]!==void 0&&n0(n,t)&&(e=!0)}),e},Backspace:({editor:n})=>{let e=!1;return this.options.listTypes.forEach(({itemName:t,wrapperNames:r})=>{n.state.schema.nodes[t]!==void 0&&t0(n,t,r)&&(e=!0)}),e},"Mod-Backspace":({editor:n})=>{let e=!1;return this.options.listTypes.forEach(({itemName:t,wrapperNames:r})=>{n.state.schema.nodes[t]!==void 0&&t0(n,t,r)&&(e=!0)}),e}}}}),iO=/^(\s*)(\d+)\.\s+(.*)$/,KU=/^\s/;function ZU(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t],o=i.match(iO);if(!o)break;const[,l,c,f]=o,h=l.length;let p=f,m=t+1;const g=[i];for(;m<n.length;){const y=n[m];if(y.match(iO))break;if(y.trim()==="")g.push(y),p+=`
`,m+=1;else if(y.match(KU))g.push(y),p+=`
${y.slice(h+2)}`,m+=1;else break}e.push({indent:h,number:parseInt(c,10),content:p.trim(),raw:g.join(`
`)}),r=m,t=m}return[e,r]}function rk(n,e,t){var r;const i=[];let o=0;for(;o<n.length;){const l=n[o];if(l.indent===e){const c=l.content.split(`
`),f=((r=c[0])==null?void 0:r.trim())||"",h=[];f&&h.push({type:"paragraph",raw:f,tokens:t.inlineTokens(f)});const p=c.slice(1).join(`
`).trim();if(p){const y=t.blockTokens(p);h.push(...y)}let m=o+1;const g=[];for(;m<n.length&&n[m].indent>e;)g.push(n[m]),m+=1;if(g.length>0){const y=Math.min(...g.map(S=>S.indent)),b=rk(g,y,t);h.push({type:"list",ordered:!0,start:g[0].number,items:b,raw:g.map(S=>S.raw).join(`
`)})}i.push({type:"list_item",raw:l.raw,tokens:h}),o=m}else o+=1}return i}function JU(n,e){return n.map(t=>{if(t.type!=="list_item")return e.parseChildren([t])[0];const r=[];return t.tokens&&t.tokens.length>0&&t.tokens.forEach(i=>{if(i.type==="paragraph"||i.type==="list"||i.type==="blockquote"||i.type==="code")r.push(...e.parseChildren([i]));else if(i.type==="text"&&i.tokens){const o=e.parseChildren([i]);r.push({type:"paragraph",content:o})}else{const o=e.parseChildren([i]);o.length>0&&r.push(...o)}}),{type:"listItem",content:r}})}var XU="listItem",aO="textStyle",oO=/^(\d+)\.\s$/,ik=Rr.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:n=>n.hasAttribute("start")?parseInt(n.getAttribute("start")||"",10):1},type:{default:null,parseHTML:n=>n.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:n}){const{start:e,...t}=n;return e===1?["ol",rn(this.options.HTMLAttributes,t),0]:["ol",rn(this.options.HTMLAttributes,n),0]},markdownTokenName:"list",parseMarkdown:(n,e)=>{if(n.type!=="list"||!n.ordered)return[];const t=n.start||1,r=n.items?JU(n.items,e):[];return t!==1?{type:"orderedList",attrs:{start:t},content:r}:{type:"orderedList",content:r}},renderMarkdown:(n,e)=>n.content?e.renderChildren(n.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:n=>{const e=n.match(/^(\s*)(\d+)\.\s+/),t=e?.index;return t!==void 0?t:-1},tokenize:(n,e,t)=>{var r;const i=n.split(`
`),[o,l]=ZU(i);if(o.length===0)return;const c=rk(o,0,t);return c.length===0?void 0:{type:"list",ordered:!0,start:((r=o[0])==null?void 0:r.number)||1,items:c,raw:i.slice(0,l).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(XU,this.editor.getAttributes(aO)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let n=Ul({find:oO,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(n=Ul({find:oO,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(aO)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[n]}}),QU=/^\s*(\[([( |x])?\])\s$/,$U=Rr.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:n=>{const e=n.getAttribute("data-checked");return e===""||e==="true"},renderHTML:n=>({"data-checked":n.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:n,HTMLAttributes:e}){return["li",rn(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:n.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(n,e)=>{const t=[];if(n.tokens&&n.tokens.length>0?t.push(e.createNode("paragraph",{},e.parseInline(n.tokens))):n.text?t.push(e.createNode("paragraph",{},[e.createNode("text",{text:n.text})])):t.push(e.createNode("paragraph",{},[])),n.nestedTokens&&n.nestedTokens.length>0){const r=e.parseChildren(n.nestedTokens);t.push(...r)}return e.createNode("taskItem",{checked:n.checked||!1},t)},renderMarkdown:(n,e)=>{var t;const i=`- [${(t=n.attrs)!=null&&t.checked?"x":" "}] `;return eb(n,e,i)},addKeyboardShortcuts(){const n={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...n,Tab:()=>this.editor.commands.sinkListItem(this.name)}:n},addNodeView(){return({node:n,HTMLAttributes:e,getPos:t,editor:r})=>{const i=document.createElement("li"),o=document.createElement("label"),l=document.createElement("span"),c=document.createElement("input"),f=document.createElement("div"),h=m=>{var g,y;c.ariaLabel=((y=(g=this.options.a11y)==null?void 0:g.checkboxLabel)==null?void 0:y.call(g,m,c.checked))||`Task item checkbox for ${m.textContent||"empty task item"}`};h(n),o.contentEditable="false",c.type="checkbox",c.addEventListener("mousedown",m=>m.preventDefault()),c.addEventListener("change",m=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){c.checked=!c.checked;return}const{checked:g}=m.target;r.isEditable&&typeof t=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:y})=>{const b=t();if(typeof b!="number")return!1;const S=y.doc.nodeAt(b);return y.setNodeMarkup(b,void 0,{...S?.attrs,checked:g}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(n,g)||(c.checked=!c.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([m,g])=>{i.setAttribute(m,g)}),i.dataset.checked=n.attrs.checked,c.checked=n.attrs.checked,o.append(c,l),i.append(o,f),Object.entries(e).forEach(([m,g])=>{i.setAttribute(m,g)});let p=new Set(Object.keys(e));return{dom:i,contentDOM:f,update:m=>{if(m.type!==this.type)return!1;i.dataset.checked=m.attrs.checked,c.checked=m.attrs.checked,h(m);const g=r.extensionManager.attributes,y=jc(m,g),b=new Set(Object.keys(y)),S=this.options.HTMLAttributes;return p.forEach(T=>{b.has(T)||(T in S?i.setAttribute(T,S[T]):i.removeAttribute(T))}),Object.entries(y).forEach(([T,A])=>{A==null?T in S?i.setAttribute(T,S[T]):i.removeAttribute(T):i.setAttribute(T,A)}),p=b,!0}}}},addInputRules(){return[Ul({find:QU,type:this.type,getAttributes:n=>({checked:n[n.length-1]==="x"})})]}}),e4=Rr.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:n}){return["ul",rn(this.options.HTMLAttributes,n,{"data-type":this.name}),0]},parseMarkdown:(n,e)=>e.createNode("taskList",{},e.parseChildren(n.items||[])),renderMarkdown:(n,e)=>n.content?e.renderChildren(n.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(n){var e;const t=(e=n.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return t!==void 0?t:-1},tokenize(n,e,t){const r=o=>{const l=Gv(o,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:c=>({indentLevel:c[1].length,mainContent:c[4],checked:c[3].toLowerCase()==="x"}),createToken:(c,f)=>({type:"taskItem",raw:"",mainContent:c.mainContent,indentLevel:c.indentLevel,checked:c.checked,text:c.mainContent,tokens:t.inlineTokens(c.mainContent),nestedTokens:f}),customNestedParser:r},t);return l?[{type:"taskList",raw:l.raw,items:l.items}]:t.blockTokens(o)},i=Gv(n,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:o=>({indentLevel:o[1].length,mainContent:o[4],checked:o[3].toLowerCase()==="x"}),createToken:(o,l)=>({type:"taskItem",raw:"",mainContent:o.mainContent,indentLevel:o.indentLevel,checked:o.checked,text:o.mainContent,tokens:t.inlineTokens(o.mainContent),nestedTokens:l}),customNestedParser:r},t);if(i)return{type:"taskList",raw:i.raw,items:i.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:n})=>n.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});Zt.create({name:"listKit",addExtensions(){const n=[];return this.options.bulletList!==!1&&n.push(Z_.configure(this.options.bulletList)),this.options.listItem!==!1&&n.push(J_.configure(this.options.listItem)),this.options.listKeymap!==!1&&n.push(nk.configure(this.options.listKeymap)),this.options.orderedList!==!1&&n.push(ik.configure(this.options.orderedList)),this.options.taskItem!==!1&&n.push($U.configure(this.options.taskItem)),this.options.taskList!==!1&&n.push(e4.configure(this.options.taskList)),n}});var sO="&nbsp;",t4="",n4=Rr.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:n}){return["p",rn(this.options.HTMLAttributes,n),0]},parseMarkdown:(n,e)=>{const t=n.tokens||[];if(t.length===1&&t[0].type==="image")return e.parseChildren([t[0]]);const r=e.parseInline(t);return r.length===1&&r[0].type==="text"&&(r[0].text===sO||r[0].text===t4)?e.createNode("paragraph",void 0,[]):e.createNode("paragraph",void 0,r)},renderMarkdown:(n,e)=>{if(!n)return"";const t=Array.isArray(n.content)?n.content:[];return t.length===0?sO:e.renderChildren(t)},addCommands(){return{setParagraph:()=>({commands:n})=>n.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),r4=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,i4=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,a4=ks.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["s",rn(this.options.HTMLAttributes,n),0]},markdownTokenName:"del",parseMarkdown:(n,e)=>e.applyMark("strike",e.parseInline(n.tokens||[])),renderMarkdown:(n,e)=>`~~${e.renderChildren(n)}~~`,addCommands(){return{setStrike:()=>({commands:n})=>n.setMark(this.name),toggleStrike:()=>({commands:n})=>n.toggleMark(this.name),unsetStrike:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[zl({find:r4,type:this.type})]},addPasteRules(){return[ws({find:i4,type:this.type})]}}),o4=Rr.create({name:"text",group:"inline",parseMarkdown:n=>({type:"text",text:n.text||""}),renderMarkdown:n=>n.text||""}),ak=ks.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["u",rn(this.options.HTMLAttributes,n),0]},parseMarkdown(n,e){return e.applyMark(this.name||"underline",e.parseInline(n.tokens||[]))},renderMarkdown(n,e){return`++${e.renderChildren(n)}++`},markdownTokenizer:{name:"underline",level:"inline",start(n){return n.indexOf("++")},tokenize(n,e,t){const i=/^(\+\+)([\s\S]+?)(\+\+)/.exec(n);if(!i)return;const o=i[2].trim();return{type:"underline",raw:i[0],text:o,tokens:t.inlineTokens(o)}}},addCommands(){return{setUnderline:()=>({commands:n})=>n.setMark(this.name),toggleUnderline:()=>({commands:n})=>n.toggleMark(this.name),unsetUnderline:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),s4=ak;function l4(n={}){return new Lt({view(e){return new u4(e,n)}})}class u4{constructor(e,t){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=t.width)!==null&&r!==void 0?r:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let o=l=>{this[i](l)};return e.dom.addEventListener(i,o),{name:i,handler:o}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,r,i=this.editorView.dom,o=i.getBoundingClientRect(),l=o.width/i.offsetWidth,c=o.height/i.offsetHeight;if(t){let m=e.nodeBefore,g=e.nodeAfter;if(m||g){let y=this.editorView.nodeDOM(this.cursorPos-(m?m.nodeSize:0));if(y){let b=y.getBoundingClientRect(),S=m?b.bottom:b.top;m&&g&&(S=(S+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let T=this.width/2*c;r={left:b.left,right:b.right,top:S-T,bottom:S+T}}}}if(!r){let m=this.editorView.coordsAtPos(this.cursorPos),g=this.width/2*l;r={left:m.left-g,right:m.left+g,top:m.top,bottom:m.bottom}}let f=this.editorView.dom.offsetParent;this.element||(this.element=f.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let h,p;if(!f||f==document.body&&getComputedStyle(f).position=="static")h=-pageXOffset,p=-pageYOffset;else{let m=f.getBoundingClientRect(),g=m.width/f.offsetWidth,y=m.height/f.offsetHeight;h=m.left-f.scrollLeft*g,p=m.top-f.scrollTop*y}this.element.style.left=(r.left-h)/l+"px",this.element.style.top=(r.top-p)/c+"px",this.element.style.width=(r.right-r.left)/l+"px",this.element.style.height=(r.bottom-r.top)/c+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),i=r&&r.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,t,e):i;if(t&&!o){let l=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let c=nx(this.editorView.state.doc,l,this.editorView.dragging.slice);c!=null&&(l=c)}this.setCursor(l),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class Vt extends Ke{constructor(e){super(e,e)}map(e,t){let r=e.resolve(t.map(this.head));return Vt.valid(r)?new Vt(r):Ke.near(r)}content(){return be.empty}eq(e){return e instanceof Vt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Vt(e.resolve(t.pos))}getBookmark(){return new fb(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!c4(e)||!f4(e))return!1;let r=t.type.spec.allowGapCursor;if(r!=null)return r;let i=t.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,t,r=!1){e:for(;;){if(!r&&Vt.valid(e))return e;let i=e.pos,o=null;for(let l=e.depth;;l--){let c=e.node(l);if(t>0?e.indexAfter(l)<c.childCount:e.index(l)>0){o=c.child(t>0?e.indexAfter(l):e.index(l)-1);break}else if(l==0)return null;i+=t;let f=e.doc.resolve(i);if(Vt.valid(f))return f}for(;;){let l=t>0?o.firstChild:o.lastChild;if(!l){if(o.isAtom&&!o.isText&&!ke.isSelectable(o)){e=e.doc.resolve(i+o.nodeSize*t),r=!1;continue e}break}o=l,i+=t;let c=e.doc.resolve(i);if(Vt.valid(c))return c}return null}}}Vt.prototype.visible=!1;Vt.findFrom=Vt.findGapCursorFrom;Ke.jsonID("gapcursor",Vt);class fb{constructor(e){this.pos=e}map(e){return new fb(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return Vt.valid(t)?new Vt(t):Ke.near(t)}}function ok(n){return n.isAtom||n.spec.isolating||n.spec.createGapCursor}function c4(n){for(let e=n.depth;e>=0;e--){let t=n.index(e),r=n.node(e);if(t==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(t-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||ok(i.type))return!0;if(i.inlineContent)return!1}}return!0}function f4(n){for(let e=n.depth;e>=0;e--){let t=n.indexAfter(e),r=n.node(e);if(t==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(t);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||ok(i.type))return!0;if(i.inlineContent)return!1}}return!0}function d4(){return new Lt({props:{decorations:g4,createSelectionBetween(n,e,t){return e.pos==t.pos&&Vt.valid(t)?new Vt(t):null},handleClick:p4,handleKeyDown:h4,handleDOMEvents:{beforeinput:m4}}})}const h4=r_({ArrowLeft:_d("horiz",-1),ArrowRight:_d("horiz",1),ArrowUp:_d("vert",-1),ArrowDown:_d("vert",1)});function _d(n,e){const t=n=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,o){let l=r.selection,c=e>0?l.$to:l.$from,f=l.empty;if(l instanceof Le){if(!o.endOfTextblock(t)||c.depth==0)return!1;f=!1,c=r.doc.resolve(e>0?c.after():c.before())}let h=Vt.findGapCursorFrom(c,e,f);return h?(i&&i(r.tr.setSelection(new Vt(h))),!0):!1}}function p4(n,e,t){if(!n||!n.editable)return!1;let r=n.state.doc.resolve(e);if(!Vt.valid(r))return!1;let i=n.posAtCoords({left:t.clientX,top:t.clientY});return i&&i.inside>-1&&ke.isSelectable(n.state.doc.nodeAt(i.inside))?!1:(n.dispatch(n.state.tr.setSelection(new Vt(r))),!0)}function m4(n,e){if(e.inputType!="insertCompositionText"||!(n.state.selection instanceof Vt))return!1;let{$from:t}=n.state.selection,r=t.parent.contentMatchAt(t.index()).findWrapping(n.state.schema.nodes.text);if(!r)return!1;let i=se.empty;for(let l=r.length-1;l>=0;l--)i=se.from(r[l].createAndFill(null,i));let o=n.state.tr.replace(t.pos,t.pos,new be(i,0,0));return o.setSelection(Le.near(o.doc.resolve(t.pos+1))),n.dispatch(o),!1}function g4(n){if(!(n.selection instanceof Vt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Pt.create(n.doc,[Kn.widget(n.selection.head,e,{key:"gapcursor"})])}var Fh=200,mn=function(){};mn.prototype.append=function(e){return e.length?(e=mn.from(e),!this.length&&e||e.length<Fh&&this.leafAppend(e)||this.length<Fh&&e.leafPrepend(this)||this.appendInner(e)):this};mn.prototype.prepend=function(e){return e.length?mn.from(e).append(this):this};mn.prototype.appendInner=function(e){return new y4(this,e)};mn.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?mn.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};mn.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};mn.prototype.forEach=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length),t<=r?this.forEachInner(e,t,r,0):this.forEachInvertedInner(e,t,r,0)};mn.prototype.map=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(o,l){return i.push(e(o,l))},t,r),i};mn.from=function(e){return e instanceof mn?e:e&&e.length?new sk(e):mn.empty};var sk=(function(n){function e(r){n.call(this),this.values=r}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new e(this.values.slice(i,o))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,o,l,c){for(var f=o;f<l;f++)if(i(this.values[f],c+f)===!1)return!1},e.prototype.forEachInvertedInner=function(i,o,l,c){for(var f=o-1;f>=l;f--)if(i(this.values[f],c+f)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=Fh)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=Fh)return new e(i.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e})(mn);mn.empty=new sk([]);var y4=(function(n){function e(t,r){n.call(this),this.left=t,this.right=r,this.length=t.length+r.length,this.depth=Math.max(t.depth,r.depth)+1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,o,l){var c=this.left.length;if(i<c&&this.left.forEachInner(r,i,Math.min(o,c),l)===!1||o>c&&this.right.forEachInner(r,Math.max(i-c,0),Math.min(this.length,o)-c,l+c)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,o,l){var c=this.left.length;if(i>c&&this.right.forEachInvertedInner(r,i-c,Math.max(o,c)-c,l+c)===!1||o<c&&this.left.forEachInvertedInner(r,Math.min(i,c),o,l)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e})(mn);const v4=500;class di{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;t&&(i=this.remapping(r,this.items.length),o=i.maps.length);let l=e.tr,c,f,h=[],p=[];return this.items.forEach((m,g)=>{if(!m.step){i||(i=this.remapping(r,g+1),o=i.maps.length),o--,p.push(m);return}if(i){p.push(new Ci(m.map));let y=m.step.map(i.slice(o)),b;y&&l.maybeStep(y).doc&&(b=l.mapping.maps[l.mapping.maps.length-1],h.push(new Ci(b,void 0,void 0,h.length+p.length))),o--,b&&i.appendMap(b,o)}else l.maybeStep(m.step);if(m.selection)return c=i?m.selection.map(i.slice(o)):m.selection,f=new di(this.items.slice(0,r).append(p.reverse().concat(h)),this.eventCount-1),!1},this.items.length,0),{remaining:f,transform:l,selection:c}}addTransform(e,t,r,i){let o=[],l=this.eventCount,c=this.items,f=!i&&c.length?c.get(c.length-1):null;for(let p=0;p<e.steps.length;p++){let m=e.steps[p].invert(e.docs[p]),g=new Ci(e.mapping.maps[p],m,t),y;(y=f&&f.merge(g))&&(g=y,p?o.pop():c=c.slice(0,c.length-1)),o.push(g),t&&(l++,t=void 0),i||(f=g)}let h=l-r.depth;return h>S4&&(c=b4(c,h),l-=h),new di(c.append(o),l)}remapping(e,t){let r=new _c;return this.items.forEach((i,o)=>{let l=i.mirrorOffset!=null&&o-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,l)},e,t),r}addMaps(e){return this.eventCount==0?this:new di(this.items.append(e.map(t=>new Ci(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-t),o=e.mapping,l=e.steps.length,c=this.eventCount;this.items.forEach(g=>{g.selection&&c--},i);let f=t;this.items.forEach(g=>{let y=o.getMirror(--f);if(y==null)return;l=Math.min(l,y);let b=o.maps[y];if(g.step){let S=e.steps[y].invert(e.docs[y]),T=g.selection&&g.selection.map(o.slice(f+1,y));T&&c++,r.push(new Ci(b,S,T))}else r.push(new Ci(b))},i);let h=[];for(let g=t;g<l;g++)h.push(new Ci(o.maps[g]));let p=this.items.slice(0,i).append(h).append(r),m=new di(p,c);return m.emptyItemCount()>v4&&(m=m.compress(this.items.length-r.length)),m}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),r=t.maps.length,i=[],o=0;return this.items.forEach((l,c)=>{if(c>=e)i.push(l),l.selection&&o++;else if(l.step){let f=l.step.map(t.slice(r)),h=f&&f.getMap();if(r--,h&&t.appendMap(h,r),f){let p=l.selection&&l.selection.map(t.slice(r));p&&o++;let m=new Ci(h.invert(),f,p),g,y=i.length-1;(g=i.length&&i[y].merge(m))?i[y]=g:i.push(m)}}else l.map&&r--},this.items.length,0),new di(mn.from(i.reverse()),o)}}di.empty=new di(mn.empty,0);function b4(n,e){let t;return n.forEach((r,i)=>{if(r.selection&&e--==0)return t=i,!1}),n.slice(t)}class Ci{constructor(e,t,r,i){this.map=e,this.step=t,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new Ci(t.getMap().invert(),t,this.selection)}}}class Xa{constructor(e,t,r,i,o){this.done=e,this.undone=t,this.prevRanges=r,this.prevTime=i,this.prevComposition=o}}const S4=20;function E4(n,e,t,r){let i=t.getMeta(Ts),o;if(i)return i.historyState;t.getMeta(O4)&&(n=new Xa(n.done,n.undone,null,0,-1));let l=t.getMeta("appendedTransaction");if(t.steps.length==0)return n;if(l&&l.getMeta(Ts))return l.getMeta(Ts).redo?new Xa(n.done.addTransform(t,void 0,r,Yd(e)),n.undone,lO(t.mapping.maps),n.prevTime,n.prevComposition):new Xa(n.done,n.undone.addTransform(t,void 0,r,Yd(e)),null,n.prevTime,n.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(l&&l.getMeta("addToHistory")===!1)){let c=t.getMeta("composition"),f=n.prevTime==0||!l&&n.prevComposition!=c&&(n.prevTime<(t.time||0)-r.newGroupDelay||!T4(t,n.prevRanges)),h=l?vy(n.prevRanges,t.mapping):lO(t.mapping.maps);return new Xa(n.done.addTransform(t,f?e.selection.getBookmark():void 0,r,Yd(e)),di.empty,h,t.time,c??n.prevComposition)}else return(o=t.getMeta("rebased"))?new Xa(n.done.rebased(t,o),n.undone.rebased(t,o),vy(n.prevRanges,t.mapping),n.prevTime,n.prevComposition):new Xa(n.done.addMaps(t.mapping.maps),n.undone.addMaps(t.mapping.maps),vy(n.prevRanges,t.mapping),n.prevTime,n.prevComposition)}function T4(n,e){if(!e)return!1;if(!n.docChanged)return!0;let t=!1;return n.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&i>=e[o]&&(t=!0)}),t}function lO(n){let e=[];for(let t=n.length-1;t>=0&&e.length==0;t--)n[t].forEach((r,i,o,l)=>e.push(o,l));return e}function vy(n,e){if(!n)return null;let t=[];for(let r=0;r<n.length;r+=2){let i=e.map(n[r],1),o=e.map(n[r+1],-1);i<=o&&t.push(i,o)}return t}function A4(n,e,t){let r=Yd(e),i=Ts.get(e).spec.config,o=(t?n.undone:n.done).popEvent(e,r);if(!o)return null;let l=o.selection.resolve(o.transform.doc),c=(t?n.done:n.undone).addTransform(o.transform,e.selection.getBookmark(),i,r),f=new Xa(t?c:o.remaining,t?o.remaining:c,null,0,-1);return o.transform.setSelection(l).setMeta(Ts,{redo:t,historyState:f})}let by=!1,uO=null;function Yd(n){let e=n.plugins;if(uO!=e){by=!1,uO=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){by=!0;break}}return by}const Ts=new un("history"),O4=new un("closeHistory");function C4(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new Lt({key:Ts,state:{init(){return new Xa(di.empty,di.empty,null,0,-1)},apply(e,t,r){return E4(t,r,e,n)}},config:n,props:{handleDOMEvents:{beforeinput(e,t){let r=t.inputType,i=r=="historyUndo"?uk:r=="historyRedo"?ck:null;return!i||!e.editable?!1:(t.preventDefault(),i(e.state,e.dispatch))}}}})}function lk(n,e){return(t,r)=>{let i=Ts.getState(t);if(!i||(n?i.undone:i.done).eventCount==0)return!1;if(r){let o=A4(i,t,n);o&&r(e?o.scrollIntoView():o)}return!0}}const uk=lk(!1,!0),ck=lk(!0,!0);Zt.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:n=>n.length,wordCounter:n=>n.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=n=>{const e=n?.node||this.editor.state.doc;if((n?.mode||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=n=>{const e=n?.node||this.editor.state.doc,t=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(t)}},addProseMirrorPlugins(){let n=!1;return[new Lt({key:new un("characterCount"),appendTransaction:(e,t,r)=>{if(n)return;const i=this.options.limit;if(i==null||i===0){n=!0;return}const o=this.storage.characters({node:r.doc});if(o>i){const l=o-i,c=0,f=l;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const h=r.tr.deleteRange(c,f);return n=!0,h}n=!0},filterTransaction:(e,t)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const i=this.storage.characters({node:t.doc}),o=this.storage.characters({node:e.doc});if(o<=r||i>r&&o>r&&o<=i)return!0;if(i>r&&o>r&&o>i||!e.getMeta("paste"))return!1;const c=e.selection.$head.pos,f=o-r,h=c-f,p=c;return e.deleteRange(h,p),!(this.storage.characters({node:e.doc})>r)}})]}});var M4=Zt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[l4(this.options)]}});Zt.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Lt({key:new un("focus"),props:{decorations:({doc:n,selection:e})=>{const{isEditable:t,isFocused:r}=this.editor,{anchor:i}=e,o=[];if(!t||!r)return Pt.create(n,[]);let l=0;this.options.mode==="deepest"&&n.descendants((f,h)=>{if(f.isText)return;if(!(i>=h&&i<=h+f.nodeSize-1))return!1;l+=1});let c=0;return n.descendants((f,h)=>{if(f.isText||!(i>=h&&i<=h+f.nodeSize-1))return!1;if(c+=1,this.options.mode==="deepest"&&l-c>0||this.options.mode==="shallowest"&&c>1)return this.options.mode==="deepest";o.push(Kn.node(h,h+f.nodeSize,{class:this.options.className}))}),Pt.create(n,o)}}})]}});var w4=Zt.create({name:"gapCursor",addProseMirrorPlugins(){return[d4()]},extendNodeSchema(n){var e;const t={name:n.name,options:n.options,storage:n.storage};return{allowGapCursor:(e=vt(we(n,"allowGapCursor",t)))!=null?e:null}}}),x4=Zt.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Lt({key:new un("placeholder"),props:{decorations:({doc:n,selection:e})=>{const t=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,i=[];if(!t)return null;const o=this.editor.isEmpty;return n.descendants((l,c)=>{const f=r>=c&&r<=c+l.nodeSize,h=!l.isLeaf&&fp(l);if((f||!this.options.showOnlyCurrent)&&h){const p=[this.options.emptyNodeClass];o&&p.push(this.options.emptyEditorClass);const m=Kn.node(c,c+l.nodeSize,{class:p.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:l,pos:c,hasAnchor:f}):this.options.placeholder});i.push(m)}return this.options.includeChildren}),Pt.create(n,i)}}})]}});Zt.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:n,options:e}=this;return[new Lt({key:new un("selection"),props:{decorations(t){return t.selection.empty||n.isFocused||!n.isEditable||b_(t.selection)||n.view.dragging?null:Pt.create(t.doc,[Kn.inline(t.selection.from,t.selection.to,{class:e.className})])}}})]}});function cO({types:n,node:e}){return e&&Array.isArray(n)&&n.includes(e.type)||e?.type===n}var _4=Zt.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var n;const e=new un(this.name),t=this.options.node||((n=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:n.name)||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,i])=>i).filter(i=>(this.options.notAfter||[]).concat(t).includes(i.name));return[new Lt({key:e,appendTransaction:(i,o,l)=>{const{doc:c,tr:f,schema:h}=l,p=e.getState(l),m=c.content.size,g=h.nodes[t];if(p)return f.insert(m,g.create())},state:{init:(i,o)=>{const l=o.tr.doc.lastChild;return!cO({node:l,types:r})},apply:(i,o)=>{if(!i.docChanged||i.getMeta("__uniqueIDTransaction"))return o;const l=i.doc.lastChild;return!cO({node:l,types:r})}}})]}}),k4=Zt.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:n,dispatch:e})=>uk(n,e),redo:()=>({state:n,dispatch:e})=>ck(n,e)}},addProseMirrorPlugins(){return[C4(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),D4=Zt.create({name:"starterKit",addExtensions(){var n,e,t,r;const i=[];return this.options.bold!==!1&&i.push(nU.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(X3.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push(Z_.configure(this.options.bulletList)),this.options.code!==!1&&i.push(aU.configure(this.options.code)),this.options.codeBlock!==!1&&i.push(lU.configure(this.options.codeBlock)),this.options.document!==!1&&i.push(uU.configure(this.options.document)),this.options.dropcursor!==!1&&i.push(M4.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(w4.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push(cU.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push(fU.configure(this.options.heading)),this.options.undoRedo!==!1&&i.push(k4.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&i.push(dU.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(yU.configure(this.options.italic)),this.options.listItem!==!1&&i.push(J_.configure(this.options.listItem)),this.options.listKeymap!==!1&&i.push(nk.configure((n=this.options)==null?void 0:n.listKeymap)),this.options.link!==!1&&i.push(K_.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&i.push(ik.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(n4.configure(this.options.paragraph)),this.options.strike!==!1&&i.push(a4.configure(this.options.strike)),this.options.text!==!1&&i.push(o4.configure(this.options.text)),this.options.underline!==!1&&i.push(ak.configure((t=this.options)==null?void 0:t.underline)),this.options.trailingNode!==!1&&i.push(_4.configure((r=this.options)==null?void 0:r.trailingNode)),i}}),N4=D4,R4=x4;const qo=({active:n,onClick:e,children:t})=>C.jsx("button",{type:"button",onClick:e,className:`rte-btn ${n?"is-active":""}`,children:t}),P4=({value:n="",onChange:e})=>{const t=L.useRef(n||""),r=L.useMemo(()=>[N4,s4,FU.configure({openOnClick:!1,autolink:!0,linkOnPaste:!0}),R4.configure({placeholder:"Write your email content..."})],[]),i=W3({extensions:r,content:n||"",onUpdate:({editor:l})=>{const c=l.getHTML();t.current=c,e?.(c)},editorProps:{attributes:{class:"rte-editor"}}});if(L.useEffect(()=>{if(!i)return;const l=n||"";t.current!==l&&(t.current=l,i.commands.setContent(l,!1))},[i,n]),!i)return null;const o=()=>{const l=i.getAttributes("link").href||"",c=window.prompt("Enter URL",l);if(c!==null){if(c.trim()===""){i.chain().focus().extendMarkRange("link").unsetLink().run();return}i.chain().focus().extendMarkRange("link").setLink({href:c.trim()}).run()}};return C.jsxs("div",{className:"rte",children:[C.jsxs("div",{className:"rte-toolbar",children:[C.jsx(qo,{active:i.isActive("bold"),onClick:()=>i.chain().focus().toggleBold().run(),children:"Bold"}),C.jsx(qo,{active:i.isActive("italic"),onClick:()=>i.chain().focus().toggleItalic().run(),children:"Italic"}),C.jsx(qo,{active:i.isActive("underline"),onClick:()=>i.chain().focus().toggleUnderline().run(),children:"Underline"}),C.jsx(qo,{active:i.isActive("bulletList"),onClick:()=>i.chain().focus().toggleBulletList().run(),children:"Bullets"}),C.jsx(qo,{active:i.isActive("orderedList"),onClick:()=>i.chain().focus().toggleOrderedList().run(),children:"Numbers"}),C.jsx(qo,{active:i.isActive("blockquote"),onClick:()=>i.chain().focus().toggleBlockquote().run(),children:"Quote"}),C.jsx(qo,{active:i.isActive("link"),onClick:o,children:"Link"}),C.jsx("button",{type:"button",onClick:()=>i.chain().focus().unsetAllMarks().clearNodes().run(),className:"rte-btn",children:"Clear"})]}),C.jsx(z3,{editor:i})]})};var Sy={exports:{}},Go={},Wo={},Qi={},Ey={},Ku={},kd={},fO;function j4(){if(fO)return kd;fO=1,Object.defineProperty(kd,"__esModule",{value:!0});function n(e,t){if(t==null||typeof e>"u"||!Object.prototype.isPrototypeOf.call(Object.getPrototypeOf(e),t)||t.constructor.name!=="Object"&&t.constructor.name!=="Array")return t;var r={};return Object.keys(t).forEach(function(i){var o=Object.prototype.hasOwnProperty.call(e,i);o&&typeof e[i]=="object"&&!Array.isArray(e[i])?r[i]=n(e[i],t[i]):r[i]=t[i]}),Object.keys(e).forEach(function(i){var o=Object.prototype.hasOwnProperty.call(t,i);o||(r[i]=e[i])}),Object.setPrototypeOf(r,Object.getPrototypeOf(e)),r}return kd.default=n,kd}var Yo={},dO;function fk(){return dO||(dO=1,Object.defineProperty(Yo,"__esModule",{value:!0}),Yo.SEPARATOR=Yo.PREFIX=void 0,Yo.PREFIX="APP",Yo.SEPARATOR="::"),Yo}var Ko={},hO;function ht(){if(hO)return Ko;hO=1,Object.defineProperty(Ko,"__esModule",{value:!0}),Ko.ComponentType=Ko.Group=void 0;var n;(function(t){t.AuthCode="AuthCode",t.Button="Button",t.ButtonGroup="ButtonGroup",t.Cart="Cart",t.Client="Client",t.ContextualSaveBar="ContextualSaveBar",t.Error="Error",t.Features="Features",t.FeedbackModal="FeedbackModal",t.Fullscreen="Fullscreen",t.LeaveConfirmation="LeaveConfirmation",t.Link="Link",t.Loading="Loading",t.Menu="Menu",t.Modal="Modal",t.Navigation="Navigation",t.Performance="Performance",t.Pos="Pos",t.Print="Print",t.ResourcePicker="Resource_Picker",t.unstable_Picker="unstable_Picker",t.Scanner="Scanner",t.SessionToken="SessionToken",t.Share="Share",t.TitleBar="TitleBar",t.Toast="Toast",t.MarketingExternalActivityTopBar="MarketingExternalActivityTopBar",t.WebVitals="WebVitals"})(n||(Ko.Group=n={}));var e;return(function(t){t.Button="Button",t.ButtonGroup="ButtonGroup"})(e||(Ko.ComponentType=e={})),Ko}var pO;function pt(){return pO||(pO=1,(function(n){var e=Ku&&Ku.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(n,"__esModule",{value:!0}),n.updateActionFromPayload=n.isValidOptionalString=n.isValidOptionalNumber=n.forEachInEnum=n.getMergedProps=n.findMatchInEnum=n.getEventNameSpace=n.NonSnakeCaseGroup=n.actionWrapper=void 0;var t=e(j4()),r=fk(),i=ht();function o(S){return S}n.actionWrapper=o,n.NonSnakeCaseGroup=[i.Group.AuthCode,i.Group.Button,i.Group.ButtonGroup,i.Group.Cart,i.Group.Error,i.Group.Features,i.Group.Fullscreen,i.Group.Link,i.Group.Loading,i.Group.Menu,i.Group.Modal,i.Group.Navigation,i.Group.Pos,i.Group.Print,i.Group.ResourcePicker,i.Group.Scanner,i.Group.SessionToken,i.Group.Share,i.Group.TitleBar,i.Group.Toast,i.Group.unstable_Picker];function l(S){return S.replace(/([A-Z])/g,function(T,A,M){return"".concat(M===0?"":"_").concat(T[0].toLowerCase())})}function c(S){return n.NonSnakeCaseGroup.includes(S)?S.toUpperCase():l(S).toUpperCase()}function f(S,T,A){if(T.startsWith("".concat(r.PREFIX).concat(r.SEPARATOR)))return T;var M=c(S);if(A){var w=A.subgroups,x=A.type;w&&w.length>0&&(M+=M.length>0?r.SEPARATOR:"",w.forEach(function(N,z){M+="".concat(N.toUpperCase()).concat(z<w.length-1?r.SEPARATOR:"")})),x!==S&&x&&(M+="".concat(M.length>0?r.SEPARATOR:"").concat(x.toUpperCase()))}return M&&(M+="".concat(M.length>0?r.SEPARATOR:"").concat(T.toUpperCase())),"".concat(r.PREFIX).concat(r.SEPARATOR).concat(M)}n.getEventNameSpace=f;function h(S,T){var A=Object.keys(S).find(function(M){return T===S[M]});return A?S[A]:void 0}n.findMatchInEnum=h;function p(S,T){var A=(0,t.default)(S,T);if(!A){var M=Object.assign(S,T);return M}return A}n.getMergedProps=p;function m(S,T){Object.keys(S).forEach(function(A){T(S[A])})}n.forEachInEnum=m;function g(S){return S==null||typeof S=="number"}n.isValidOptionalNumber=g;function y(S){return S==null||typeof S=="string"}n.isValidOptionalString=y;function b(S,T){var A=S.id;return A===T.id?(Object.assign(S,p(S,T)),!0):!1}n.updateActionFromPayload=b})(Ku)),Ku}const L4="@shopify/app-bridge",I4="3.7.11",B4={name:L4,version:I4};var mO;function Gl(){return mO||(mO=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getPackageName=n.getVersion=n.getMergedProps=n.updateActionFromPayload=n.isValidOptionalString=n.isValidOptionalNumber=n.NonSnakeCaseGroup=n.getEventNameSpace=n.forEachInEnum=n.findMatchInEnum=n.actionWrapper=void 0;var e=pt();Object.defineProperty(n,"actionWrapper",{enumerable:!0,get:function(){return e.actionWrapper}}),Object.defineProperty(n,"findMatchInEnum",{enumerable:!0,get:function(){return e.findMatchInEnum}}),Object.defineProperty(n,"forEachInEnum",{enumerable:!0,get:function(){return e.forEachInEnum}}),Object.defineProperty(n,"getEventNameSpace",{enumerable:!0,get:function(){return e.getEventNameSpace}}),Object.defineProperty(n,"NonSnakeCaseGroup",{enumerable:!0,get:function(){return e.NonSnakeCaseGroup}}),Object.defineProperty(n,"isValidOptionalNumber",{enumerable:!0,get:function(){return e.isValidOptionalNumber}}),Object.defineProperty(n,"isValidOptionalString",{enumerable:!0,get:function(){return e.isValidOptionalString}}),Object.defineProperty(n,"updateActionFromPayload",{enumerable:!0,get:function(){return e.updateActionFromPayload}}),Object.defineProperty(n,"getMergedProps",{enumerable:!0,get:function(){return e.getMergedProps}});var t=B4;function r(){return t.version}n.getVersion=r;function i(){return t.name}n.getPackageName=i})(Ey)),Ey}var Ty={},Zo={},gO;function z4(){if(gO)return Zo;gO=1,Object.defineProperty(Zo,"__esModule",{value:!0}),Zo.app=Zo.Action=void 0;var n=pt(),e=ht(),t;(function(i){i.APP="APP::PRINT::APP"})(t||(Zo.Action=t={}));function r(){return(0,n.actionWrapper)({group:e.Group.Print,type:t.APP})}return Zo.app=r,Zo}var yO;function dk(){return yO||(yO=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.app=n.Action=void 0;var e=z4();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return e.Action}}),Object.defineProperty(n,"app",{enumerable:!0,get:function(){return e.app}})})(Ty)),Ty}var Ay={},Wt={},vO;function Bc(){if(vO)return Wt;vO=1;var n=Wt&&Wt.__extends||(function(){var g=function(y,b){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,T){S.__proto__=T}||function(S,T){for(var A in T)Object.prototype.hasOwnProperty.call(T,A)&&(S[A]=T[A])},g(y,b)};return function(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");g(y,b);function S(){this.constructor=y}y.prototype=b===null?Object.create(b):(S.prototype=b.prototype,new S)}})();Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.permissionAction=Wt.isErrorEventName=Wt.throwError=Wt.invalidOriginAction=Wt.fromAction=Wt.AppBridgeError=Wt.AppActionType=Wt.Action=void 0;var e=ht(),t=pt(),r;(function(g){g.INVALID_ACTION="APP::ERROR::INVALID_ACTION",g.INVALID_ACTION_TYPE="APP::ERROR::INVALID_ACTION_TYPE",g.INVALID_PAYLOAD="APP::ERROR::INVALID_PAYLOAD",g.INVALID_OPTIONS="APP::ERROR::INVALID_OPTIONS",g.UNEXPECTED_ACTION="APP::ERROR::UNEXPECTED_ACTION",g.PERSISTENCE="APP::ERROR::PERSISTENCE",g.UNSUPPORTED_OPERATION="APP::ERROR::UNSUPPORTED_OPERATION",g.NETWORK="APP::ERROR::NETWORK",g.PERMISSION="APP::ERROR::PERMISSION",g.FAILED_AUTHENTICATION="APP::ERROR::FAILED_AUTHENTICATION",g.INVALID_ORIGIN="APP::ERROR::INVALID_ORIGIN"})(r||(Wt.Action=r={}));var i;(function(g){g.INVALID_CONFIG="APP::ERROR::INVALID_CONFIG",g.MISSING_CONFIG="APP::APP_ERROR::MISSING_CONFIG",g.MISSING_APP_BRIDGE_MIDDLEWARE="APP::APP_ERROR::MISSING_APP_BRIDGE_MIDDLEWARE",g.WINDOW_UNDEFINED="APP::APP_ERROR::WINDOW_UNDEFINED",g.REDUX_REINSTANTIATED="APP::APP_ERROR::REDUX_REINSTANTIATED",g.MISSING_LOCAL_ORIGIN="APP::APP_ERROR::MISSING_LOCAL_ORIGIN",g.MISSING_HOST_PROVIDER="APP::APP_ERROR::MISSING_HOST_PROVIDER",g.MISSING_ROUTER_CONTEXT="APP::APP_ERROR::MISSING_ROUTER_CONTEXT",g.MISSING_HISTORY_BLOCK="APP::APP_ERROR::MISSING_HISTORY_BLOCK"})(i||(Wt.AppActionType=i={}));var o=(function(g){n(y,g);function y(b){var S=g.call(this,b)||this;return S.name="AppBridgeError",S.message=b,Object.setPrototypeOf(S,y.prototype),typeof Error.captureStackTrace=="function"?Error.captureStackTrace(S,S.constructor):S.stack=new Error(S.message).stack,S}return y})(Error);Wt.AppBridgeError=o;function l(g,y,b){var S=g?"".concat(y,": ").concat(g):y,T=new o(S);return T.action=b,T.type=y,T}Wt.fromAction=l;function c(g){return(0,t.actionWrapper)({group:e.Group.Error,payload:{message:g,type:r.INVALID_ORIGIN},type:r.INVALID_ORIGIN})}Wt.invalidOriginAction=c;function f(){for(var g=[],y=0;y<arguments.length;y++)g[y]=arguments[y];var b=g[0],S,T;throw typeof g[1]=="string"?S=g[1]:(T=g[1],S=g[2]||""),l(S,b,T)}Wt.throwError=f;function h(g){var y=(0,t.findMatchInEnum)(r,g);return typeof y=="string"}Wt.isErrorEventName=h;function p(g,y,b){var S=y.payload;return(0,t.actionWrapper)({type:g,group:e.Group.Error,payload:{action:y,message:b,type:g,id:S&&S.id?S.id:void 0}})}function m(g,y){return p(r.PERMISSION,g,y||"Action is not permitted")}return Wt.permissionAction=m,Wt}var Oy={},bO;function Wl(){return bO||(bO=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.ComponentType=n.Group=void 0;var e=ht();Object.defineProperty(n,"Group",{enumerable:!0,get:function(){return e.Group}}),Object.defineProperty(n,"ComponentType",{enumerable:!0,get:function(){return e.ComponentType}})})(Oy)),Oy}var SO;function mp(){return SO||(SO=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.networkAction=n.persistenceAction=n.unsupportedOperationAction=n.unexpectedAction=n.invalidAction=n.invalidActionType=n.invalidPayload=n.Message=n.fromAction=n.Action=n.permissionAction=n.isErrorEventName=n.throwError=n.invalidOriginAction=n.AppBridgeError=n.AppActionType=void 0;var e=Bc();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return e.Action}}),Object.defineProperty(n,"fromAction",{enumerable:!0,get:function(){return e.fromAction}});var t=Gl(),r=Wl(),i=Bc();Object.defineProperty(n,"AppActionType",{enumerable:!0,get:function(){return i.AppActionType}}),Object.defineProperty(n,"AppBridgeError",{enumerable:!0,get:function(){return i.AppBridgeError}}),Object.defineProperty(n,"invalidOriginAction",{enumerable:!0,get:function(){return i.invalidOriginAction}}),Object.defineProperty(n,"throwError",{enumerable:!0,get:function(){return i.throwError}}),Object.defineProperty(n,"isErrorEventName",{enumerable:!0,get:function(){return i.isErrorEventName}}),Object.defineProperty(n,"permissionAction",{enumerable:!0,get:function(){return i.permissionAction}});function o(b,S,T){var A=S.payload;return(0,t.actionWrapper)({type:b,group:r.Group.Error,payload:{action:S,message:T,type:b,id:A&&A.id?A.id:void 0}})}var l;(function(b){b.MISSING_PAYLOAD="Missing payload",b.INVALID_PAYLOAD_ID="Id in payload is missing or invalid"})(l||(n.Message=l={}));function c(b,S){return o(e.Action.INVALID_PAYLOAD,b,S||"The action's payload is missing required properties or has invalid properties")}n.invalidPayload=c;function f(b,S){return(0,t.actionWrapper)({group:r.Group.Error,payload:{action:b,message:S||"The action type is invalid or unsupported",type:e.Action.INVALID_ACTION_TYPE},type:e.Action.INVALID_ACTION_TYPE})}n.invalidActionType=f;function h(b,S){return(0,t.actionWrapper)({group:r.Group.Error,payload:{action:b,message:S||"The action's has missing/invalid values for `group`, `type` or `version`",type:e.Action.INVALID_ACTION},type:e.Action.INVALID_ACTION})}n.invalidAction=h;function p(b,S){return(0,t.actionWrapper)({group:r.Group.Error,payload:{action:b,message:S||"Action cannot be called at this time",type:e.Action.UNEXPECTED_ACTION},type:e.Action.UNEXPECTED_ACTION})}n.unexpectedAction=p;function m(b,S){return o(e.Action.UNSUPPORTED_OPERATION,b,S||"The action type is unsupported")}n.unsupportedOperationAction=m;function g(b,S){return o(e.Action.PERSISTENCE,b,S||"Action cannot be persisted on server")}n.persistenceAction=g;function y(b,S){return o(e.Action.NETWORK,b,S||"Network error")}n.networkAction=y})(Ay)),Ay}var Jo={},ai={},br={},$i={},EO;function zc(){if(EO)return $i;EO=1,Object.defineProperty($i,"__esModule",{value:!0}),$i.LifecycleHook=$i.PermissionType=$i.MessageType=void 0;var n;(function(r){r.GetState="getState",r.Dispatch="dispatch",r.Subscribe="subscribe",r.Unsubscribe="unsubscribe"})(n||($i.MessageType=n={}));var e;(function(r){r.Dispatch="Dispatch",r.Subscribe="Subscribe"})(e||($i.PermissionType=e={}));var t;return(function(r){r.UpdateAction="UpdateAction",r.DispatchAction="DispatchAction"})(t||($i.LifecycleHook=t={})),$i}var TO;function hk(){if(TO)return br;TO=1,Object.defineProperty(br,"__esModule",{value:!0}),br.isPermitted=br.getPermissionKey=br.isPerformanceOrWebVitalsAction=br.isAppMessage=br.isAppBridgeAction=void 0;var n=zc(),e=fk(),t=pt();function r(f){return f instanceof Object&&Object.prototype.hasOwnProperty.call(f,"type")&&f.type.toString().startsWith(e.PREFIX)}br.isAppBridgeAction=r;function i(f){if(typeof f!="object"||!f.data||typeof f.data!="object")return!1;var h=f.data;return Object.prototype.hasOwnProperty.call(h,"type")&&(0,t.findMatchInEnum)(n.MessageType,h.type)!==void 0}br.isAppMessage=i;function o(f){var h=f.type;return h.match(/^APP::(PERFORMANCE|WEB_VITALS)::/)}br.isPerformanceOrWebVitalsAction=o;function l(f){return f.replace(new RegExp("^".concat(e.PREFIX).concat(e.SEPARATOR,"\\w+").concat(e.SEPARATOR)),"")}br.getPermissionKey=l;function c(f,h,p){var m=h.group,g=h.type;if(!m||!Object.prototype.hasOwnProperty.call(f,m))return!1;var y=f[m];if(!y)return!1;var b=l(g);return y[b]?y[b][p]===!0:!1}return br.isPermitted=c,br}var Xo={},AO;function db(){if(AO)return Xo;AO=1,Object.defineProperty(Xo,"__esModule",{value:!0}),Xo.removeFromCollection=Xo.addAndRemoveFromCollection=void 0;function n(t,r,i){return t.push(r),function(){return e(t,r,i)}}Xo.addAndRemoveFromCollection=n;function e(t,r,i){var o=t.findIndex(function(l){return l===r});return o>=0?(t.splice(o,1),i&&i(r),!0):!1}return Xo.removeFromCollection=e,Xo}var Cy={},OO;function r0(){return OO||(OO=1,(function(n){var e,t;Object.defineProperty(n,"__esModule",{value:!0}),n.isUnframed=n.isClient=n.isServer=void 0,n.isServer=typeof window>"u",n.isClient=!n.isServer,n.isUnframed=n.isClient&&((t=(e=window.navigator)===null||e===void 0?void 0:e.userAgent)===null||t===void 0?void 0:t.indexOf("Unframed"))>0})(Cy)),Cy}var CO;function U4(){if(CO)return ai;CO=1,Object.defineProperty(ai,"__esModule",{value:!0}),ai.createTransportListener=ai.fromWindow=ai.fromFrame=ai.Context=void 0;var n=Bc(),e=hk(),t=zc(),r=db(),i=r0(),o;(function(p){p.Modal="Modal",p.Main="Main"})(o||(ai.Context=o={}));function l(p,m,g){var y=[],b=p.host,S=p.window;if(!b)throw(0,n.fromAction)("App frame is undefined",n.AppActionType.WINDOW_UNDEFINED);return i.isUnframed&&window.MobileWebView&&Object.assign(window.MobileWebView,{postMessageToIframe:function(T,A){S?.postMessage(T,A),h(T)&&b.postMessage(JSON.stringify(T.payload),location.origin)},updateIframeUrl:function(T){var A=window.location,M=(p.window||{}).location;try{var w=new URL(T).origin;w===m&&M?M.replace(T):A.href=T}catch{}}}),b.addEventListener("message",function(T){if(!(T.source===b||!(0,e.isAppMessage)(T))){if(T.origin!==m){var A="Message origin '".concat(T.origin,"' does not match app origin '").concat(m,"'."),M=(0,n.invalidOriginAction)(A),w={type:"dispatch",payload:M};S?.postMessage(w,T.origin);return}if(i.isUnframed&&window.MobileWebView){var M=JSON.stringify({id:"unframed://fromClient",origin:m,data:T.data});window.MobileWebView.postMessage(M);return}for(var x=0,N=y;x<N.length;x++){var z=N[x];z(T)}}}),{context:g,localOrigin:m,frameWindow:S,hostFrame:b,dispatch:function(T){S?.postMessage(T,m)},subscribe:function(T){return(0,r.addAndRemoveFromCollection)(y,T)}}}ai.fromFrame=l;function c(p,m){var g=[];return typeof window!==void 0&&window.addEventListener("message",function(y){if(!(window===p&&!i.isUnframed||y.source!==p||!((0,e.isAppBridgeAction)(y.data.payload)||(0,e.isAppMessage)(y))))for(var b=0,S=g;b<S.length;b++){var T=S[b];T(y)}}),{localOrigin:m,hostFrame:p,dispatch:function(y){var b;if(!((b=y.source)===null||b===void 0)&&b.host){if(i.isUnframed&&window&&window.MobileWebView){var S=JSON.stringify({id:"unframed://fromClient",origin:m,data:y});window.MobileWebView.postMessage(S);return}var T=new URL("https://".concat(y.source.host)).origin;p.postMessage(y,T)}},subscribe:function(y){return(0,r.addAndRemoveFromCollection)(g,y)}}}ai.fromWindow=c;function f(){var p=[],m={};function g(y){function b(){if(arguments.length<2)return(0,r.addAndRemoveFromCollection)(p,{callback:arguments[0]});var S=Array.from(arguments),T=S[0],A=S[1],M=S[2],w={callback:A,id:M},x={type:T,id:M};return Object.prototype.hasOwnProperty.call(m,T)||(m[T]=[]),y&&y(t.MessageType.Subscribe,x),(0,r.addAndRemoveFromCollection)(m[T],w,function(){y&&y(t.MessageType.Unsubscribe,x)})}return b}return{createSubscribeHandler:g,handleMessage:function(y){p.forEach(function(b){return b.callback(y)})},handleActionDispatch:function(y){var b=y.type,S=y.payload,T=!1;if(Object.prototype.hasOwnProperty.call(m,b))for(var A=0,M=m[b];A<M.length;A++){var w=M[A],x=w.id,N=w.callback,z=S&&S.id===x;(z||!x)&&(N(S),T=!0)}return T}}}ai.createTransportListener=f;function h(p){return p!==null&&typeof p=="object"&&!Array.isArray(p)&&p.type==="dispatch"&&typeof p.payload=="object"}return ai}var MO;function hb(){return MO||(MO=1,(function(n){var e=Jo&&Jo.__createBinding||(Object.create?(function(r,i,o,l){l===void 0&&(l=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(r,l,c)}):(function(r,i,o,l){l===void 0&&(l=o),r[l]=i[o]})),t=Jo&&Jo.__exportStar||function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,r,o)};Object.defineProperty(n,"__esModule",{value:!0}),t(U4(),n)})(Jo)),Jo}var Qo={},wO;function H4(){if(wO)return Qo;wO=1,Object.defineProperty(Qo,"__esModule",{value:!0}),Qo.mockAppBridge=Qo.serverAppBridge=void 0;var n=mp(),e=function(){},t=new Promise(function(){});return Qo.serverAppBridge={dispatch:function(){return{}},error:function(){return e},featuresAvailable:function(){return Promise.reject((0,n.fromAction)("Feature detection is only available on the client side.",n.AppActionType.WINDOW_UNDEFINED))},getState:function(){return Promise.reject((0,n.fromAction)("State is only available on the client side.",n.AppActionType.WINDOW_UNDEFINED))},localOrigin:"",hostOrigin:"",subscribe:function(){return e}},Qo.mockAppBridge={dispatch:function(){return{}},error:function(){return e},featuresAvailable:function(){return t},getState:function(){return t},localOrigin:"",hostOrigin:"",subscribe:function(){return e}},Qo}var My={},xO;function pb(){return xO||(xO=1,(function(n){var e={};Object.defineProperty(n,"__esModule",{value:!0}),n.isDevelopmentClient=n.isProduction=n.isDevelopment=n.isUnframed=n.isServer=n.isClient=void 0;var t=r0(),r=r0();Object.defineProperty(n,"isClient",{enumerable:!0,get:function(){return r.isClient}}),Object.defineProperty(n,"isServer",{enumerable:!0,get:function(){return r.isServer}}),Object.defineProperty(n,"isUnframed",{enumerable:!0,get:function(){return r.isUnframed}}),n.isDevelopment=typeof process<"u"&&e&&!1,n.isProduction=!n.isDevelopment,n.isDevelopmentClient=n.isDevelopment&&t.isClient})(My)),My}var wy={},Zu={},_O;function F4(){if(_O)return Zu;_O=1,Object.defineProperty(Zu,"__esModule",{value:!0}),Zu.Action=void 0;var n;return(function(e){e.INITIALIZE="APP::CLIENT::INITIALIZE"})(n||(Zu.Action=n={})),Zu}var kO;function pk(){return kO||(kO=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.initialize=n.Action=void 0;var e=F4();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return e.Action}});var t=Wl(),r=Gl();function i(){return(0,r.actionWrapper)({group:t.Group.Client,type:e.Action.INITIALIZE})}n.initialize=i})(wy)),wy}var $o={},xy={},uc={exports:{}},V4=uc.exports,DO;function q4(){return DO||(DO=1,(function(n,e){(function(t,r){r(e)})(V4,(function(t){var r,i,o,l,c,f=-1,h=function(ye){addEventListener("pageshow",(function(he){he.persisted&&(f=he.timeStamp,ye(he))}),!0)},p=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},m=function(){var ye=p();return ye&&ye.activationStart||0},g=function(ye,he){var Me=p(),ze="navigate";return f>=0?ze="back-forward-cache":Me&&(document.prerendering||m()>0?ze="prerender":document.wasDiscarded?ze="restore":Me.type&&(ze=Me.type.replace(/_/g,"-"))),{name:ye,value:he===void 0?-1:he,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:ze}},y=function(ye,he,Me){try{if(PerformanceObserver.supportedEntryTypes.includes(ye)){var ze=new PerformanceObserver((function(ge){Promise.resolve().then((function(){he(ge.getEntries())}))}));return ze.observe(Object.assign({type:ye,buffered:!0},Me||{})),ze}}catch{}},b=function(ye,he,Me,ze){var ge,Ze;return function(Tt){he.value>=0&&(Tt||ze)&&((Ze=he.value-(ge||0))||ge===void 0)&&(ge=he.value,he.delta=Ze,he.rating=(function(Ct,st){return Ct>st[1]?"poor":Ct>st[0]?"needs-improvement":"good"})(he.value,Me),ye(he))}},S=function(ye){requestAnimationFrame((function(){return requestAnimationFrame((function(){return ye()}))}))},T=function(ye){var he=function(Me){Me.type!=="pagehide"&&document.visibilityState!=="hidden"||ye(Me)};addEventListener("visibilitychange",he,!0),addEventListener("pagehide",he,!0)},A=function(ye){var he=!1;return function(Me){he||(ye(Me),he=!0)}},M=-1,w=function(){return document.visibilityState!=="hidden"||document.prerendering?1/0:0},x=function(ye){document.visibilityState==="hidden"&&M>-1&&(M=ye.type==="visibilitychange"?ye.timeStamp:0,z())},N=function(){addEventListener("visibilitychange",x,!0),addEventListener("prerenderingchange",x,!0)},z=function(){removeEventListener("visibilitychange",x,!0),removeEventListener("prerenderingchange",x,!0)},P=function(){return M<0&&(M=w(),N(),h((function(){setTimeout((function(){M=w(),N()}),0)}))),{get firstHiddenTime(){return M}}},k=function(ye){document.prerendering?addEventListener("prerenderingchange",(function(){return ye()}),!0):ye()},j=[1800,3e3],B=function(ye,he){he=he||{},k((function(){var Me,ze=P(),ge=g("FCP"),Ze=y("paint",(function(Tt){Tt.forEach((function(Ct){Ct.name==="first-contentful-paint"&&(Ze.disconnect(),Ct.startTime<ze.firstHiddenTime&&(ge.value=Math.max(Ct.startTime-m(),0),ge.entries.push(Ct),Me(!0)))}))}));Ze&&(Me=b(ye,ge,j,he.reportAllChanges),h((function(Tt){ge=g("FCP"),Me=b(ye,ge,j,he.reportAllChanges),S((function(){ge.value=performance.now()-Tt.timeStamp,Me(!0)}))})))}))},G=[.1,.25],$=function(ye,he){he=he||{},B(A((function(){var Me,ze=g("CLS",0),ge=0,Ze=[],Tt=function(st){st.forEach((function(It){if(!It.hadRecentInput){var cr=Ze[0],To=Ze[Ze.length-1];ge&&It.startTime-To.startTime<1e3&&It.startTime-cr.startTime<5e3?(ge+=It.value,Ze.push(It)):(ge=It.value,Ze=[It])}})),ge>ze.value&&(ze.value=ge,ze.entries=Ze,Me())},Ct=y("layout-shift",Tt);Ct&&(Me=b(ye,ze,G,he.reportAllChanges),T((function(){Tt(Ct.takeRecords()),Me(!0)})),h((function(){ge=0,ze=g("CLS",0),Me=b(ye,ze,G,he.reportAllChanges),S((function(){return Me()}))})),setTimeout(Me,0))})))},ne={passive:!0,capture:!0},le=new Date,ee=function(ye,he){r||(r=he,i=ye,o=new Date,ae(removeEventListener),I())},I=function(){if(i>=0&&i<o-le){var ye={entryType:"first-input",name:r.type,target:r.target,cancelable:r.cancelable,startTime:r.timeStamp,processingStart:r.timeStamp+i};l.forEach((function(he){he(ye)})),l=[]}},W=function(ye){if(ye.cancelable){var he=(ye.timeStamp>1e12?new Date:performance.now())-ye.timeStamp;ye.type=="pointerdown"?(function(Me,ze){var ge=function(){ee(Me,ze),Tt()},Ze=function(){Tt()},Tt=function(){removeEventListener("pointerup",ge,ne),removeEventListener("pointercancel",Ze,ne)};addEventListener("pointerup",ge,ne),addEventListener("pointercancel",Ze,ne)})(he,ye):ee(he,ye)}},ae=function(ye){["mousedown","keydown","touchstart","pointerdown"].forEach((function(he){return ye(he,W,ne)}))},de=[100,300],xe=function(ye,he){he=he||{},k((function(){var Me,ze=P(),ge=g("FID"),Ze=function(st){st.startTime<ze.firstHiddenTime&&(ge.value=st.processingStart-st.startTime,ge.entries.push(st),Me(!0))},Tt=function(st){st.forEach(Ze)},Ct=y("first-input",Tt);Me=b(ye,ge,de,he.reportAllChanges),Ct&&T(A((function(){Tt(Ct.takeRecords()),Ct.disconnect()}))),Ct&&h((function(){var st;ge=g("FID"),Me=b(ye,ge,de,he.reportAllChanges),l=[],i=-1,r=null,ae(addEventListener),st=Ze,l.push(st),I()}))}))},H=0,Y=1/0,oe=0,fe=function(ye){ye.forEach((function(he){he.interactionId&&(Y=Math.min(Y,he.interactionId),oe=Math.max(oe,he.interactionId),H=oe?(oe-Y)/7+1:0)}))},Ae=function(){return c?H:performance.interactionCount||0},Se=function(){"interactionCount"in performance||c||(c=y("event",fe,{type:"event",buffered:!0,durationThreshold:0}))},De=[200,500],Fe=0,We=function(){return Ae()-Fe},Mt=[],gn={},Un=function(ye){var he=Mt[Mt.length-1],Me=gn[ye.interactionId];if(Me||Mt.length<10||ye.duration>he.latency){if(Me)Me.entries.push(ye),Me.latency=Math.max(Me.latency,ye.duration);else{var ze={id:ye.interactionId,latency:ye.duration,entries:[ye]};gn[ze.id]=ze,Mt.push(ze)}Mt.sort((function(ge,Ze){return Ze.latency-ge.latency})),Mt.splice(10).forEach((function(ge){delete gn[ge.id]}))}},So=function(ye,he){he=he||{},k((function(){var Me;Se();var ze,ge=g("INP"),Ze=function(Ct){Ct.forEach((function(cr){cr.interactionId&&Un(cr),cr.entryType==="first-input"&&!Mt.some((function(To){return To.entries.some((function(Ao){return cr.duration===Ao.duration&&cr.startTime===Ao.startTime}))}))&&Un(cr)}));var st,It=(st=Math.min(Mt.length-1,Math.floor(We()/50)),Mt[st]);It&&It.latency!==ge.value&&(ge.value=It.latency,ge.entries=It.entries,ze())},Tt=y("event",Ze,{durationThreshold:(Me=he.durationThreshold)!==null&&Me!==void 0?Me:40});ze=b(ye,ge,De,he.reportAllChanges),Tt&&("PerformanceEventTiming"in window&&"interactionId"in PerformanceEventTiming.prototype&&Tt.observe({type:"first-input",buffered:!0}),T((function(){Ze(Tt.takeRecords()),ge.value<0&&We()>0&&(ge.value=0,ge.entries=[]),ze(!0)})),h((function(){Mt=[],Fe=Ae(),ge=g("INP"),ze=b(ye,ge,De,he.reportAllChanges)})))}))},ur=[2500,4e3],gi={},va=function(ye,he){he=he||{},k((function(){var Me,ze=P(),ge=g("LCP"),Ze=function(st){var It=st[st.length-1];It&&It.startTime<ze.firstHiddenTime&&(ge.value=Math.max(It.startTime-m(),0),ge.entries=[It],Me())},Tt=y("largest-contentful-paint",Ze);if(Tt){Me=b(ye,ge,ur,he.reportAllChanges);var Ct=A((function(){gi[ge.id]||(Ze(Tt.takeRecords()),Tt.disconnect(),gi[ge.id]=!0,Me(!0))}));["keydown","click"].forEach((function(st){addEventListener(st,(function(){return setTimeout(Ct,0)}),!0)})),T(Ct),h((function(st){ge=g("LCP"),Me=b(ye,ge,ur,he.reportAllChanges),S((function(){ge.value=performance.now()-st.timeStamp,gi[ge.id]=!0,Me(!0)}))}))}}))},ba=[800,1800],Eo=function ye(he){document.prerendering?k((function(){return ye(he)})):document.readyState!=="complete"?addEventListener("load",(function(){return ye(he)}),!0):setTimeout(he,0)},ti=function(ye,he){he=he||{};var Me=g("TTFB"),ze=b(ye,Me,ba,he.reportAllChanges);Eo((function(){var ge=p();if(ge){var Ze=ge.responseStart;if(Ze<=0||Ze>performance.now())return;Me.value=Math.max(Ze-m(),0),Me.entries=[ge],ze(!0),h((function(){Me=g("TTFB",0),(ze=b(ye,Me,ba,he.reportAllChanges))(!0)}))}}))};t.CLSThresholds=G,t.FCPThresholds=j,t.FIDThresholds=de,t.INPThresholds=De,t.LCPThresholds=ur,t.TTFBThresholds=ba,t.getCLS=$,t.getFCP=B,t.getFID=xe,t.getINP=So,t.getLCP=va,t.getTTFB=ti,t.onCLS=$,t.onFCP=B,t.onFID=xe,t.onINP=So,t.onLCP=va,t.onTTFB=ti}))})(uc,uc.exports)),uc.exports}var Ju={},NO;function G4(){if(NO)return Ju;NO=1,Object.defineProperty(Ju,"__esModule",{value:!0}),Ju.Action=void 0;var n;return(function(e){e.LARGEST_CONTENTFUL_PAINT="APP::WEB_VITALS::LARGEST_CONTENTFUL_PAINT",e.FIRST_INPUT_DELAY="APP::WEB_VITALS::FIRST_INPUT_DELAY",e.CUMULATIVE_LAYOUT_SHIFT="APP::WEB_VITALS::CUMULATIVE_LAYOUT_SHIFT",e.FIRST_CONTENTFUL_PAINT="APP::WEB_VITALS::FIRST_CONTENTFUL_PAINT",e.TIME_TO_FIRST_BYTE="APP::WEB_VITALS::TIME_TO_FIRST_BYTE",e.INTERACTION_TO_NEXT_PAINT="APP::WEB_VITALS::INTERACTION_TO_NEXT_PAINT"})(n||(Ju.Action=n={})),Ju}var Sr={},RO;function mb(){if(RO)return Sr;RO=1,Object.defineProperty(Sr,"__esModule",{value:!0}),Sr.isShopifyPing=Sr.isShopifyPOS=Sr.isShopifyMobile=Sr.isShopifyEmbedded=Sr.isMobile=void 0;var n=pb();function e(){return r()||i()||o()}Sr.isMobile=e;function t(){return n.isClient&&window.top!==window.self||n.isUnframed}Sr.isShopifyEmbedded=t;function r(){return typeof navigator<"u"&&navigator.userAgent.indexOf("Shopify Mobile")>=0}Sr.isShopifyMobile=r;function i(){return typeof navigator<"u"&&navigator.userAgent.indexOf("Shopify POS")>=0}Sr.isShopifyPOS=i;function o(){return typeof navigator<"u"&&navigator.userAgent.indexOf("Shopify Ping")>=0}return Sr.isShopifyPing=o,Sr}var PO;function W4(){return PO||(PO=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.initializeWebVitals=n.interactionToNextPaint=n.timeToFirstByte=n.firstContentfulPaint=n.cumulativeLayoutShift=n.firstInputDelay=n.largestContentfulPaint=n.Action=void 0;var e=q4(),t=G4();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return t.Action}});var r=pb(),i=Wl(),o=Gl(),l=mb();function c(b){return(0,o.actionWrapper)({group:i.Group.WebVitals,type:t.Action.LARGEST_CONTENTFUL_PAINT,payload:b})}n.largestContentfulPaint=c;function f(b){return(0,o.actionWrapper)({group:i.Group.WebVitals,type:t.Action.FIRST_INPUT_DELAY,payload:b})}n.firstInputDelay=f;function h(b){return(0,o.actionWrapper)({group:i.Group.WebVitals,type:t.Action.CUMULATIVE_LAYOUT_SHIFT,payload:b})}n.cumulativeLayoutShift=h;function p(b){return(0,o.actionWrapper)({group:i.Group.WebVitals,type:t.Action.FIRST_CONTENTFUL_PAINT,payload:b})}n.firstContentfulPaint=p;function m(b){return(0,o.actionWrapper)({group:i.Group.WebVitals,type:t.Action.TIME_TO_FIRST_BYTE,payload:b})}n.timeToFirstByte=m;function g(b){return(0,o.actionWrapper)({group:i.Group.WebVitals,type:t.Action.INTERACTION_TO_NEXT_PAINT,payload:b})}n.interactionToNextPaint=g;function y(b){function S(A){return function(M){var w=M.id,x=M.name,N=M.value,z={id:w,metricName:x,value:N},P=A(z);b.dispatch(P)}}var T=window;r.isServer||r.isClient&&T.__is_web_vitals_initialized__||(0,l.isMobile)()||(T.__is_web_vitals_initialized__=!0,(0,e.onLCP)(S(c)),(0,e.onFID)(S(f)),(0,e.onCLS)(S(h)),(0,e.onFCP)(S(p)),(0,e.onTTFB)(S(m)),(0,e.onINP)(S(g)))}n.initializeWebVitals=y})(xy)),xy}var jO;function mk(){return jO||(jO=1,(function(n){var e=$o&&$o.__createBinding||(Object.create?(function(r,i,o,l){l===void 0&&(l=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(r,l,c)}):(function(r,i,o,l){l===void 0&&(l=o),r[l]=i[o]})),t=$o&&$o.__exportStar||function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,r,o)};Object.defineProperty(n,"__esModule",{value:!0}),t(W4(),n)})($o)),$o}var Xu={},oi={},LO;function gk(){if(LO)return oi;LO=1,Object.defineProperty(oi,"__esModule",{value:!0}),oi.getWindow=oi.getLocation=oi.redirect=oi.shouldRedirect=void 0;function n(o){return o===window}oi.shouldRedirect=n;function e(o){var l=t();l&&l.assign(o)}oi.redirect=e;function t(){return i()?window.location:void 0}oi.getLocation=t;function r(){return i()?window:void 0}oi.getWindow=r;function i(){return typeof window<"u"}return oi}var IO;function Y4(){if(IO)return Xu;IO=1,Object.defineProperty(Xu,"__esModule",{value:!0}),Xu.handleAppPrint=void 0;var n=gk();function e(){return navigator.userAgent.indexOf("iOS")>=0}function t(){var l=(0,n.getWindow)();if(!(!l||!l.document||!l.document.body)){var c=l.document.createElement("input");return c.style.display="none",l.document.body.appendChild(c),c}}function r(){var l;(l=(0,n.getWindow)())===null||l===void 0||l.print()}function i(){var l=t();l&&(l.select(),r(),l.remove())}function o(){e()?i():r()}return Xu.handleAppPrint=o,Xu}var _y={},BO;function yk(){return BO||(BO=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isV1Config=n.MessageType=n.LifecycleHook=n.PermissionType=void 0;var e=zc();Object.defineProperty(n,"MessageType",{enumerable:!0,get:function(){return e.MessageType}});var t=zc();Object.defineProperty(n,"PermissionType",{enumerable:!0,get:function(){return t.PermissionType}}),Object.defineProperty(n,"LifecycleHook",{enumerable:!0,get:function(){return t.LifecycleHook}});function r(i){return!i.host}n.isV1Config=r})(_y)),_y}var Dd={},ky={},zO;function K4(){return zO||(zO=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.removeFromCollection=n.addAndRemoveFromCollection=void 0;var e=db();Object.defineProperty(n,"addAndRemoveFromCollection",{enumerable:!0,get:function(){return e.addAndRemoveFromCollection}}),Object.defineProperty(n,"removeFromCollection",{enumerable:!0,get:function(){return e.removeFromCollection}})})(ky)),ky}var UO;function Z4(){if(UO)return Dd;UO=1,Object.defineProperty(Dd,"__esModule",{value:!0});var n=K4(),e=(function(){function t(){this.map={}}return t.prototype.set=function(r,i){Object.prototype.hasOwnProperty.call(this.map,r)||(this.map[r]=[]);var o={handler:i,remove:function(){}},l=(0,n.addAndRemoveFromCollection)(this.map[r],o);return o={handler:i,remove:l},l},t.prototype.get=function(r){var i=this.map[r];return i?i.map(function(o){return o.handler}):void 0},t.prototype.run=function(r,i,o){for(var l=[],c=3;c<arguments.length;c++)l[c-3]=arguments[c];var f=0,h=this.get(r)||[];function p(){for(var m=[],g=0;g<arguments.length;g++)m[g]=arguments[g];var y=h[f++];return y?y(p).apply(o,m):i.apply(o,m)}return p.apply(o,l)},t})();return Dd.default=e,Dd}var HO;function FO(){return HO||(HO=1,(function(n){var e=Qi&&Qi.__assign||function(){return e=Object.assign||function(j){for(var B,G=1,$=arguments.length;G<$;G++){B=arguments[G];for(var ne in B)Object.prototype.hasOwnProperty.call(B,ne)&&(j[ne]=B[ne])}return j},e.apply(this,arguments)},t=Qi&&Qi.__spreadArray||function(j,B,G){if(G||arguments.length===2)for(var $=0,ne=B.length,le;$<ne;$++)(le||!($ in B))&&(le||(le=Array.prototype.slice.call(B,0,$)),le[$]=B[$]);return j.concat(le||Array.prototype.slice.call(B))},r=Qi&&Qi.__importDefault||function(j){return j&&j.__esModule?j:{default:j}};Object.defineProperty(n,"__esModule",{value:!0}),n.createApp=n.createAppWrapper=n.createClientApp=n.WINDOW_UNDEFINED_MESSAGE=void 0;var i=Gl(),o=dk(),l=mp(),c=hb(),f=H4(),h=pb(),p=pk(),m=mk(),g=Y4(),y=gk(),b=yk(),S=r(Z4());n.WINDOW_UNDEFINED_MESSAGE="window is not defined. Running an app outside a browser is not supported";function T(j,B){var G=B.apiKey,$=B.host,ne=B.forceRedirect,le=ne===void 0?!h.isDevelopmentClient:ne,ee=(0,y.getLocation)();if(h.isUnframed||!ee||!G||!$||!le||!(0,y.shouldRedirect)(j))return!1;var I="https://".concat($,"/apps/").concat(G).concat(ee.pathname).concat(ee.search||"");return(0,y.redirect)(I),!0}var A=function(j){return function(B){return j(e(e({},B),{version:(0,i.getVersion)(),clientInterface:{name:(0,i.getPackageName)(),version:(0,i.getVersion)()}}))}},M=function(j){j.set(b.LifecycleHook.DispatchAction,A)};function w(j){j.subscribe(o.Action.APP,g.handleAppPrint),j.dispatch((0,p.initialize)());try{(0,m.initializeWebVitals)(j)}catch(B){console.error("App-Bridge failed to initialize web-vitals",B)}}var x=function(j,B){B===void 0&&(B=[]);var G=[],$=(0,c.createTransportListener)(),ne=function(le){var ee=le.data,I=ee.type,W=ee.payload;switch(I){case"getState":{var ae=G.splice(0);ae.forEach(function(H){return H(W)});break}case"dispatch":{$.handleMessage(W);var de=$.handleActionDispatch(W);if(de)return;var xe=(0,i.findMatchInEnum)(l.Action,W.type);xe&&(0,l.throwError)(xe,W);break}}};return j.subscribe(ne),function(le){var ee=N(le),I=T(j.hostFrame,ee);if(I)return f.mockAppBridge;var W=k(j,ee),ae=$.createSubscribeHandler(W);W(b.MessageType.Unsubscribe);function de(Se){return W(b.MessageType.Dispatch,Se),Se}for(var xe=new URL("https://".concat(ee.host)).origin,H=new S.default,Y={hostOrigin:xe,localOrigin:j.localOrigin,hooks:H,dispatch:function(Se){return Y.hooks?Y.hooks.run(b.LifecycleHook.DispatchAction,de,Y,Se):de(Se)},featuresAvailable:function(){for(var Se=[],De=0;De<arguments.length;De++)Se[De]=arguments[De];var Fe=Se[0],We=Array.isArray(Fe)?t([],Fe,!0):Se;return Y.getState("features").then(function(Mt){return We.length?We.reduce(function(gn,Un){return Object.keys(Mt).includes(Un)&&(gn[Un]=Mt[Un]),gn},{}):Mt})},getState:function(Se){return Se&&typeof Se!="string"?Promise.resolve(void 0):new Promise(function(De){G.push(De),W(b.MessageType.GetState)}).then(function(De){var Fe=De;if(Se)for(var We=0,Mt=Se.split(".");We<Mt.length;We++){var gn=Mt[We];if(Fe==null||typeof Fe!="object"||Array.isArray(Fe)||!Object.keys(Fe).includes(gn))return;Fe=Fe[gn]}return Fe})},subscribe:ae,error:function(Se,De){var Fe=[];return(0,i.forEachInEnum)(l.Action,function(We){Fe.push(ae(We,Se,De))}),function(){Fe.forEach(function(We){return We()})}}},oe=0,fe=B;oe<fe.length;oe++){var Ae=fe[oe];Ae(H,Y)}return w(Y),Y}};n.createClientApp=x;function N(j){var B;if(!j.host)throw(0,l.fromAction)("host must be provided",l.AppActionType.INVALID_CONFIG);if(!j.apiKey)throw(0,l.fromAction)("apiKey must be provided",l.AppActionType.INVALID_CONFIG);try{var G=atob((B=j.host)===null||B===void 0?void 0:B.replace(/_/g,"/").replace(/-/g,"+"));return e(e({},j),{host:G})}catch{var $="not a valid host, please use the value provided by Shopify";throw(0,l.fromAction)($,l.AppActionType.INVALID_CONFIG)}}function z(j,B,G){if(G===void 0&&(G=[]),!j)throw(0,l.fromAction)(n.WINDOW_UNDEFINED_MESSAGE,l.AppActionType.WINDOW_UNDEFINED);var $=(0,y.getLocation)(),ne=B||$&&$.origin;if(!ne)throw(0,l.fromAction)("local origin cannot be blank",l.AppActionType.MISSING_LOCAL_ORIGIN);var le=(0,c.fromWindow)(j,ne),ee=(0,n.createClientApp)(le,t([M],G,!0));return ee}n.createAppWrapper=z;function P(j){var B=(0,y.getWindow)();return!B||!B.top?f.serverAppBridge:z(B.top)(j)}n.createApp=P;function k(j,B){return function(G,$){j.dispatch({payload:$,source:B,type:G})}}n.default=P})(Qi)),Qi}var VO;function qO(){return VO||(VO=1,(function(n){var e=Wo&&Wo.__createBinding||(Object.create?(function(i,o,l,c){c===void 0&&(c=l);var f=Object.getOwnPropertyDescriptor(o,l);(!f||("get"in f?!o.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return o[l]}}),Object.defineProperty(i,c,f)}):(function(i,o,l,c){c===void 0&&(c=l),i[c]=o[l]})),t=Wo&&Wo.__exportStar||function(i,o){for(var l in i)l!=="default"&&!Object.prototype.hasOwnProperty.call(o,l)&&e(o,i,l)};Object.defineProperty(n,"__esModule",{value:!0});var r=FO();t(yk(),n),t(FO(),n),n.default=r.createClientApp})(Wo)),Wo}var GO;function J4(){return GO||(GO=1,(function(n){var e=Go&&Go.__createBinding||(Object.create?(function(i,o,l,c){c===void 0&&(c=l);var f=Object.getOwnPropertyDescriptor(o,l);(!f||("get"in f?!o.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return o[l]}}),Object.defineProperty(i,c,f)}):(function(i,o,l,c){c===void 0&&(c=l),i[c]=o[l]})),t=Go&&Go.__exportStar||function(i,o){for(var l in i)l!=="default"&&!Object.prototype.hasOwnProperty.call(o,l)&&e(o,i,l)};Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=qO();Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.createApp}}),t(hb(),n),t(qO(),n)})(Go)),Go}var WO;function X4(){return WO||(WO=1,Sy.exports=J4()),Sy.exports}var Q4=X4();const $4=Xh(Q4);var es={},si={},Dy={},nt={},Qu={},on={},Tn={},vl={},YO;function vk(){if(YO)return vl;YO=1,Object.defineProperty(vl,"__esModule",{value:!0}),vl.generateUuid=void 0;function n(r){return Array.from(r).map(function(i){return"00".concat(i.toString(16)).slice(-2)}).join("")}function e(r){if(typeof Uint8Array=="function"&&typeof window=="object"&&window.crypto){var i=new Uint8Array(r),o=window.crypto.getRandomValues(i);if(o)return o}return Array.from(new Array(r),function(){return Math.random()*255|0})}function t(){var r=64,i=e(1),o=e(2);return i[0]&=191,o[0]&=15|r,[n(e(4)),"-",n(e(2)),"-",n(o),"-",n(i),n(e(1)),"-",n(e(6))].join("")}return vl.generateUuid=t,vl.default=t,vl}var KO;function Rt(){if(KO)return Tn;KO=1;var n=Tn&&Tn.__extends||(function(){var y=function(b,S){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,A){T.__proto__=A}||function(T,A){for(var M in A)Object.prototype.hasOwnProperty.call(A,M)&&(T[M]=A[M])},y(b,S)};return function(b,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");y(b,S);function T(){this.constructor=b}b.prototype=S===null?Object.create(S):(T.prototype=S.prototype,new T)}})(),e=Tn&&Tn.__assign||function(){return e=Object.assign||function(y){for(var b,S=1,T=arguments.length;S<T;S++){b=arguments[S];for(var A in b)Object.prototype.hasOwnProperty.call(b,A)&&(y[A]=b[A])}return y},e.apply(this,arguments)},t=Tn&&Tn.__spreadArray||function(y,b,S){if(S||arguments.length===2)for(var T=0,A=b.length,M;T<A;T++)(M||!(T in b))&&(M||(M=Array.prototype.slice.call(b,0,T)),M[T]=b[T]);return y.concat(M||Array.prototype.slice.call(b))},r=Tn&&Tn.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(Tn,"__esModule",{value:!0}),Tn.unsubscribeActions=Tn.ActionSetWithChildren=Tn.ActionSet=void 0;var i=zc(),o=db(),l=Bc(),c=ht(),f=r(vk()),h=pt(),p=(function(){function y(b,S,T,A){var M=this;this.app=b,this.type=S,this.group=T,this.subgroups=[],this.subscriptions=[],b||(0,l.throwError)(l.Action.INVALID_ACTION,"Missing required `app`"),this.id=A||(0,f.default)(),this.defaultGroup=T;var w=this.set;this.set=function(){for(var x,N=[],z=0;z<arguments.length;z++)N[z]=arguments[z];return M.app.hooks?(x=M.app.hooks).run.apply(x,t([i.LifecycleHook.UpdateAction,w,M],N,!1)):w.apply(M,N)}}return y.prototype.set=function(){},Object.defineProperty(y.prototype,"component",{get:function(){return{id:this.id,subgroups:this.subgroups,type:this.type}},enumerable:!1,configurable:!0}),y.prototype.updateSubscription=function(b,S,T){var A=b.eventType,M=b.callback,w=b.component,x;return x=this.subscriptions.findIndex(function(N){return N===b}),x>=0?this.subscriptions[x].unsubscribe():x=void 0,this.group=S,this.subgroups=T,Object.assign(w,{subgroups:this.subgroups}),this.subscribe(A,M,w,x)},y.prototype.error=function(b){var S=this,T=[];return(0,h.forEachInEnum)(l.Action,function(A){T.push(S.subscriptions.length),S.subscribe(A,b)}),function(){var A=T.map(function(M){return S.subscriptions[M]});A.forEach(function(M){(0,o.removeFromCollection)(S.subscriptions,M,function(w){w.unsubscribe()})})}},y.prototype.subscribe=function(b,S,T,A){var M=this,w=T||this.component,x=b.toUpperCase(),N=typeof A=="number"?S:S.bind(this),z;(0,l.isErrorEventName)(b)?z=(0,h.getEventNameSpace)(c.Group.Error,b,e(e({},w),{type:""})):z=(0,h.getEventNameSpace)(this.group,b,w);var P=this.app.subscribe(z,N,T?T.id:this.id),k={eventType:x,unsubscribe:P,callback:N,component:w,updateSubscribe:function(j,B){return M.updateSubscription(k,j,B)}};return typeof A=="number"&&A>=0&&A<this.subscriptions.length?this.subscriptions[A]=k:this.subscriptions.push(k),P},y.prototype.unsubscribe=function(b){return b===void 0&&(b=!1),g(this.subscriptions,this.defaultGroup,b),this},y})();Tn.ActionSet=p;var m=(function(y){n(b,y);function b(){var S=y!==null&&y.apply(this,arguments)||this;return S.children=[],S}return b.prototype.unsubscribe=function(S,T){return S===void 0&&(S=!0),T===void 0&&(T=!1),g(this.subscriptions,this.defaultGroup,T),this.children.forEach(function(A){A instanceof b?A.unsubscribe(S,!S):A.unsubscribe(!S)}),this},b.prototype.getChild=function(S){var T=this.children.findIndex(function(A){return A.id===S});return T>=0?this.children[T]:void 0},b.prototype.getChildIndex=function(S){return this.children.findIndex(function(T){return T.id===S})},b.prototype.getChildSubscriptions=function(S,T){return this.subscriptions.filter(function(A){return A.component.id===S&&(!T||T===A.eventType)})},b.prototype.addChild=function(S,T,A){var M=this,w=S.subscriptions,x=this.getChild(S.id);return x||this.children.push(S),!w||T===S.group&&A===S.subgroups?this:(w.forEach(function(N){var z=N.updateSubscribe;z(T,A)}),Object.assign(S,{group:T,subgroups:A}),S instanceof b&&S.children.forEach(function(N){return M.addChild(N,T,A)}),this)},b.prototype.removeChild=function(S){var T=this;return(0,o.removeFromCollection)(this.children,this.getChild(S),function(){var A=T.subscriptions.filter(function(M){return M.component.id===S});A.forEach(function(M){(0,o.removeFromCollection)(T.subscriptions,M,function(w){w.unsubscribe()})})}),this},b.prototype.subscribeToChild=function(S,T,A){var M=this,w=A.bind(this);if(T instanceof Array)return T.forEach(function(P){return M.subscribeToChild(S,P,A)}),this;if(typeof T!="string")return this;var x=T.toUpperCase(),N=this.getChildSubscriptions(S.id,x);if(N.length>0)N.forEach(function(P){return P.updateSubscribe(M.group,S.subgroups)});else{var z={id:S.id,subgroups:S.subgroups,type:S.type};this.subscribe(x,w,z)}return this},b.prototype.getUpdatedChildActions=function(S,T){if(S.length===0){for(;T.length>0;){var A=T.pop();if(!A)break;this.removeChild(A.id)}return}for(var M=S.filter(function(N,z,P){return z===P.indexOf(N)}),w=M.map(function(N){return N.id}),x=T.filter(function(N){return w.indexOf(N.id)<0});x.length>0;){var A=x.pop();if(!A)break;this.removeChild(A.id)}return M},b})(p);Tn.ActionSetWithChildren=m;function g(y,b,S){S===void 0&&(S=!1),y.forEach(function(T){if(S){var A=T.updateSubscribe;A(b,[])}else{var M=T.unsubscribe;M()}}),S||(y.length=0)}return Tn.unsubscribeActions=g,Tn}var ZO;function Uc(){if(ZO)return on;ZO=1;var n=on&&on.__extends||(function(){var m=function(g,y){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,S){b.__proto__=S}||function(b,S){for(var T in S)Object.prototype.hasOwnProperty.call(S,T)&&(b[T]=S[T])},m(g,y)};return function(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");m(g,y);function b(){this.constructor=g}g.prototype=y===null?Object.create(y):(b.prototype=y.prototype,new b)}})(),e=on&&on.__assign||function(){return e=Object.assign||function(m){for(var g,y=1,b=arguments.length;y<b;y++){g=arguments[y];for(var S in g)Object.prototype.hasOwnProperty.call(g,S)&&(m[S]=g[S])}return m},e.apply(this,arguments)};Object.defineProperty(on,"__esModule",{value:!0}),on.Button=on.update=on.clickButton=on.Style=on.Icon=on.Action=void 0;var t=pt(),r=Rt(),i=ht(),o;(function(m){m.CLICK="CLICK",m.UPDATE="UPDATE"})(o||(on.Action=o={}));var l;(function(m){m.Print="print"})(l||(on.Icon=l={}));var c;(function(m){m.Danger="danger"})(c||(on.Style=c={}));function f(m,g,y){var b=g.id,S=(0,t.getEventNameSpace)(m,o.CLICK,g),T={id:b,payload:y};return(0,t.actionWrapper)({type:S,group:m,payload:T})}on.clickButton=f;function h(m,g,y){var b=g.id,S=y.label,T=(0,t.getEventNameSpace)(m,o.UPDATE,g),A=e(e({},y),{id:b,label:S});return(0,t.actionWrapper)({type:T,group:m,payload:A})}on.update=h;var p=(function(m){n(g,m);function g(y,b){var S=m.call(this,y,i.ComponentType.Button,i.Group.Button)||this;return S.disabled=!1,S.loading=!1,S.plain=!1,S.set(b,!1),S}return Object.defineProperty(g.prototype,"options",{get:function(){return{disabled:this.disabled,icon:this.icon,label:this.label,style:this.style,loading:this.loading,plain:this.plain}},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"payload",{get:function(){return e(e({},this.options),{id:this.id})},enumerable:!1,configurable:!0}),g.prototype.set=function(y,b){b===void 0&&(b=!0);var S=(0,t.getMergedProps)(this.options,y),T=S.label,A=S.disabled,M=S.icon,w=S.style,x=S.loading,N=S.plain;return this.label=T,this.disabled=!!A,this.icon=M,this.style=w,this.loading=!!x,this.plain=!!N,b&&this.dispatch(o.UPDATE),this},g.prototype.dispatch=function(y,b){switch(y){case o.CLICK:this.app.dispatch(f(this.group,this.component,b));break;case o.UPDATE:{var S=h(this.group,this.component,this.payload);this.app.dispatch(S);break}}return this},g})(r.ActionSet);return on.Button=p,on}var JO;function gp(){if(JO)return Qu;JO=1,Object.defineProperty(Qu,"__esModule",{value:!0}),Qu.getSingleButton=void 0;var n=Uc();function e(t,r,i,o){return t.addChild(r,t.group,i),t.subscribeToChild(r,n.Action.UPDATE,o),r.payload}return Qu.getSingleButton=e,Qu}var XO;function i0(){if(XO)return nt;XO=1;var n=nt&&nt.__extends||(function(){var N=function(z,P){return N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,j){k.__proto__=j}||function(k,j){for(var B in j)Object.prototype.hasOwnProperty.call(j,B)&&(k[B]=j[B])},N(z,P)};return function(z,P){if(typeof P!="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");N(z,P);function k(){this.constructor=z}z.prototype=P===null?Object.create(P):(k.prototype=P.prototype,new k)}})(),e=nt&&nt.__assign||function(){return e=Object.assign||function(N){for(var z,P=1,k=arguments.length;P<k;P++){z=arguments[P];for(var j in z)Object.prototype.hasOwnProperty.call(z,j)&&(N[j]=z[j])}return N},e.apply(this,arguments)};Object.defineProperty(nt,"__esModule",{value:!0}),nt.ModalIframe=nt.ModalMessage=nt.Modal=nt.isMessageModal=nt.isIframeModal=nt.data=nt.update=nt.clickFooterButton=nt.updateModalSize=nt.closeModal=nt.openModal=nt.Size=nt.Action=void 0;var t=gp(),r=pt(),i=Rt(),o=ht(),l=Uc(),c;(function(N){N.OPEN="APP::MODAL::OPEN",N.CLOSE="APP::MODAL::CLOSE",N.UPDATE="APP::MODAL::UPDATE",N.UPDATE_CONTENT="APP::MODAL::CONTENT::UPDATE",N.FOOTER_BUTTON_CLICK="APP::MODAL::FOOTER::BUTTON::CLICK",N.FOOTER_BUTTON_UPDATE="APP::MODAL::FOOTER::BUTTON::UPDATE",N.UPDATE_SIZE="APP::MODAL::UPDATE_SIZE",N.DATA="APP::MODAL::DATA"})(c||(nt.Action=c={}));var f;(function(N){N.Small="small",N.Medium="medium",N.Large="large",N.Full="full",N.Auto="auto"})(f||(nt.Size=f={}));var h={group:o.Group.Modal,subgroups:["Footer"],type:o.ComponentType.Button};function p(N){return(0,r.actionWrapper)({group:o.Group.Modal,payload:N,type:c.OPEN})}nt.openModal=p;function m(N){return(0,r.actionWrapper)({group:o.Group.Modal,payload:N,type:c.CLOSE})}nt.closeModal=m;function g(N){return(0,r.actionWrapper)({group:o.Group.Modal,payload:N,type:c.UPDATE_SIZE})}nt.updateModalSize=g;function y(N,z){var P=e({id:N},h);return(0,l.clickButton)(o.Group.Modal,P,z)}nt.clickFooterButton=y;function b(N){return(0,r.actionWrapper)({payload:N,group:o.Group.Modal,type:c.UPDATE})}nt.update=b;function S(N){return(0,r.actionWrapper)({payload:N,group:o.Group.Modal,type:c.DATA})}nt.data=S;function T(N){return typeof N.url=="string"||typeof N.path=="string"}nt.isIframeModal=T;function A(N){return typeof N.message=="string"}nt.isMessageModal=A;var M=(function(N){n(z,N);function z(){var P=N!==null&&N.apply(this,arguments)||this;return P.size=f.Small,P}return Object.defineProperty(z.prototype,"footer",{get:function(){if(!(!this.footerPrimary&&!this.footerSecondary))return{buttons:{primary:this.footerPrimary,secondary:this.footerSecondary}}},enumerable:!1,configurable:!0}),Object.defineProperty(z.prototype,"footerOptions",{get:function(){if(!(!this.footerPrimaryOptions&&!this.footerSecondaryOptions))return{buttons:{primary:this.footerPrimaryOptions,secondary:this.footerSecondaryOptions}}},enumerable:!1,configurable:!0}),z.prototype.close=function(){this.app.dispatch(m({id:this.id}))},z.prototype.setFooterPrimaryButton=function(P,k){var j=this,B=h.subgroups;this.footerPrimaryOptions=this.getChildButton(P,this.footerPrimaryOptions),this.footerPrimary=this.footerPrimaryOptions?(0,t.getSingleButton)(this,this.footerPrimaryOptions,B,function(G){j.updatePrimaryFooterButton(G,k)}):void 0},z.prototype.setFooterSecondaryButtons=function(P,k){var j=this,B=h.subgroups,G=P||[],$=this.footerOptions&&this.footerOptions.buttons.secondary||[];this.footerSecondaryOptions=this.getUpdatedChildActions(G,$),this.footerSecondary=this.footerSecondaryOptions?this.footerSecondaryOptions.map(function(ne){return(0,t.getSingleButton)(j,ne,B,function(le){j.updateSecondaryFooterButton(le,k)})}):void 0},z.prototype.getChildButton=function(P,k){var j=P?[P]:[],B=k?[k]:[],G=this.getUpdatedChildActions(j,B);return G?G[0]:void 0},z.prototype.updatePrimaryFooterButton=function(P,k){!this.footer||!this.footer.buttons.primary||(0,r.updateActionFromPayload)(this.footer.buttons.primary,P)&&k()},z.prototype.updateSecondaryFooterButton=function(P,k){if(!(!this.footer||!this.footer.buttons||!this.footer.buttons.secondary)){for(var j,B=0,G=this.footer.buttons.secondary;B<G.length;B++){var $=G[B];if(j=(0,r.updateActionFromPayload)($,P),j)break}j&&k()}},z})(i.ActionSetWithChildren);nt.Modal=M;var w=(function(N){n(z,N);function z(P,k){var j=N.call(this,P,o.Group.Modal,o.Group.Modal)||this;return j.set(k,!1),j}return Object.defineProperty(z.prototype,"payload",{get:function(){return e(e({},this.options),{footer:this.footer,id:this.id})},enumerable:!1,configurable:!0}),Object.defineProperty(z.prototype,"options",{get:function(){return{footer:this.footerOptions,message:this.message,size:this.size,title:this.title}},enumerable:!1,configurable:!0}),z.prototype.set=function(P,k){var j=this;k===void 0&&(k=!0);var B=(0,r.getMergedProps)(this.options,P),G=B.title,$=B.footer,ne=B.message,le=B.size;return this.title=G,this.message=ne,this.size=le,this.setFooterPrimaryButton($?$.buttons.primary:void 0,function(){j.dispatch(c.UPDATE)}),this.setFooterSecondaryButtons($?$.buttons.secondary:void 0,function(){j.dispatch(c.UPDATE)}),k&&this.dispatch(c.UPDATE),this},z.prototype.dispatch=function(P){switch(P){case c.OPEN:this.app.dispatch(p(this.payload));break;case c.CLOSE:this.close();break;case c.UPDATE:this.app.dispatch(b(this.payload));break}return this},z})(M);nt.ModalMessage=w;var x=(function(N){n(z,N);function z(P,k){var j=N.call(this,P,o.Group.Modal,o.Group.Modal)||this;return j.set(k,!1),j}return Object.defineProperty(z.prototype,"payload",{get:function(){return e(e({},this.options),{footer:this.footer,id:this.id})},enumerable:!1,configurable:!0}),Object.defineProperty(z.prototype,"options",{get:function(){return{footer:this.footerOptions,path:this.path,size:this.size,title:this.title,url:this.url,loading:this.loading}},enumerable:!1,configurable:!0}),z.prototype.set=function(P,k){var j=this;k===void 0&&(k=!0);var B=(0,r.getMergedProps)(this.options,P),G=B.title,$=B.footer,ne=B.path,le=B.url,ee=B.size,I=B.loading;return this.title=G,this.url=le,this.path=ne,this.size=ee,this.loading=I,this.setFooterPrimaryButton($?$.buttons.primary:void 0,function(){j.dispatch(c.UPDATE)}),this.setFooterSecondaryButtons($?$.buttons.secondary:void 0,function(){j.dispatch(c.UPDATE)}),k&&this.dispatch(c.UPDATE),this},z.prototype.dispatch=function(P,k){switch(P){case c.OPEN:this.app.dispatch(p(this.payload));break;case c.CLOSE:this.close();break;case c.UPDATE:this.app.dispatch(b(this.payload));break;case c.DATA:this.app.dispatch(S(k||{}));break}return this},z})(M);return nt.ModalIframe=x,nt}var QO;function bk(){return QO||(QO=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.Modal=n.isMessageModal=n.data=n.update=n.clickFooterButton=n.updateModalSize=n.closeModal=n.openModal=n.Size=n.Action=n.isIframeModal=n.ModalMessage=n.ModalIframe=void 0;var e=i0();Object.defineProperty(n,"ModalIframe",{enumerable:!0,get:function(){return e.ModalIframe}}),Object.defineProperty(n,"ModalMessage",{enumerable:!0,get:function(){return e.ModalMessage}}),Object.defineProperty(n,"isIframeModal",{enumerable:!0,get:function(){return e.isIframeModal}});var t=i0();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return t.Action}}),Object.defineProperty(n,"Size",{enumerable:!0,get:function(){return t.Size}}),Object.defineProperty(n,"openModal",{enumerable:!0,get:function(){return t.openModal}}),Object.defineProperty(n,"closeModal",{enumerable:!0,get:function(){return t.closeModal}}),Object.defineProperty(n,"updateModalSize",{enumerable:!0,get:function(){return t.updateModalSize}}),Object.defineProperty(n,"clickFooterButton",{enumerable:!0,get:function(){return t.clickFooterButton}}),Object.defineProperty(n,"update",{enumerable:!0,get:function(){return t.update}}),Object.defineProperty(n,"data",{enumerable:!0,get:function(){return t.data}}),Object.defineProperty(n,"isMessageModal",{enumerable:!0,get:function(){return t.isMessageModal}}),Object.defineProperty(n,"Modal",{enumerable:!0,get:function(){return t.Modal}});var r=function(i,o){return(0,e.isIframeModal)(o)?new e.ModalIframe(i,o):new e.ModalMessage(i,o)};n.create=r})(Dy)),Dy}var $O;function e6(){if($O)return si;$O=1;var n=si&&si.__awaiter||function(m,g,y,b){function S(T){return T instanceof y?T:new y(function(A){A(T)})}return new(y||(y=Promise))(function(T,A){function M(N){try{x(b.next(N))}catch(z){A(z)}}function w(N){try{x(b.throw(N))}catch(z){A(z)}}function x(N){N.done?T(N.value):S(N.value).then(M,w)}x((b=b.apply(m,g||[])).next())})},e=si&&si.__generator||function(m,g){var y={label:0,sent:function(){if(T[0]&1)throw T[1];return T[1]},trys:[],ops:[]},b,S,T,A;return A={next:M(0),throw:M(1),return:M(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function M(x){return function(N){return w([x,N])}}function w(x){if(b)throw new TypeError("Generator is already executing.");for(;A&&(A=0,x[0]&&(y=0)),y;)try{if(b=1,S&&(T=x[0]&2?S.return:x[0]?S.throw||((T=S.return)&&T.call(S),0):S.next)&&!(T=T.call(S,x[1])).done)return T;switch(S=0,T&&(x=[x[0]&2,T.value]),x[0]){case 0:case 1:T=x;break;case 4:return y.label++,{value:x[1],done:!1};case 5:y.label++,S=x[1],x=[0];continue;case 7:x=y.ops.pop(),y.trys.pop();continue;default:if(T=y.trys,!(T=T.length>0&&T[T.length-1])&&(x[0]===6||x[0]===2)){y=0;continue}if(x[0]===3&&(!T||x[1]>T[0]&&x[1]<T[3])){y.label=x[1];break}if(x[0]===6&&y.label<T[1]){y.label=T[1],T=x;break}if(T&&y.label<T[2]){y.label=T[2],y.ops.push(x);break}T[2]&&y.ops.pop(),y.trys.pop();continue}x=g.call(m,y)}catch(N){x=[6,N],S=0}finally{b=T=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}};Object.defineProperty(si,"__esModule",{value:!0}),si.createMutationObserver=si.setupModalAutoSizing=void 0;var t=bk(),r=hb(),i=mb(),o="app-bridge-utils-modal-auto-size",l=c();function c(){if(typeof document>"u")return null;var m=document.createElement("style");return m.type="text/css",m.innerHTML=".".concat(o," { overflow: hidden; height: auto; min-height: auto; }"),m}function f(m,g){if(!l)return function(){};var y=document.getElementsByTagName("head")[0],b=document.body.classList;y.appendChild(l),b.add(o);var S=p(m,g);return function(){b.remove(o),y.contains(l)&&y.removeChild(l),S&&S.disconnect()}}function h(m){return n(this,void 0,void 0,function(){function g(){b&&(b(),b=void 0)}function y(S){var T=S.context,A=S.modal.id;return(0,i.isMobile)()||T!==r.Context.Modal?(g(),g):(b||(b=f(m,A)),g)}var b;return e(this,function(S){switch(S.label){case 0:return[4,m.getState().then(y)];case 1:return S.sent(),[2,g]}})})}si.setupModalAutoSizing=h;function p(m,g){if(typeof document>"u")return;var y=-1,b,S={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0},T=new MutationObserver(A);T.observe(document,S),M();function A(){b&&window.clearTimeout(b),b=window.setTimeout(M,16)}function M(){var w=document.body.scrollHeight;w!==y&&(y=w,m.dispatch((0,t.updateModalSize)({id:g,height:String(w)})))}return T}return si.createMutationObserver=p,si}var ts={},Vn={},ea={},eC;function Sk(){if(eC)return ea;eC=1,Object.defineProperty(ea,"__esModule",{value:!0}),ea.respond=ea.request=ea.Action=void 0;var n=pt(),e=ht(),t;(function(o){o.REQUEST="APP::SESSION_TOKEN::REQUEST",o.RESPOND="APP::SESSION_TOKEN::RESPOND"})(t||(ea.Action=t={}));function r(){return(0,n.actionWrapper)({group:e.Group.SessionToken,type:t.REQUEST})}ea.request=r;function i(o){return(0,n.actionWrapper)({payload:o,group:e.Group.SessionToken,type:t.RESPOND})}return ea.respond=i,ea}var tC;function Ek(){if(tC)return Vn;tC=1;var n=Vn&&Vn.__createBinding||(Object.create?(function(f,h,p,m){m===void 0&&(m=p);var g=Object.getOwnPropertyDescriptor(h,p);(!g||("get"in g?!h.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return h[p]}}),Object.defineProperty(f,m,g)}):(function(f,h,p,m){m===void 0&&(m=p),f[m]=h[p]})),e=Vn&&Vn.__setModuleDefault||(Object.create?(function(f,h){Object.defineProperty(f,"default",{enumerable:!0,value:h})}):function(f,h){f.default=h}),t=Vn&&Vn.__importStar||function(f){if(f&&f.__esModule)return f;var h={};if(f!=null)for(var p in f)p!=="default"&&Object.prototype.hasOwnProperty.call(f,p)&&n(h,f,p);return e(h,f),h},r=Vn&&Vn.__awaiter||function(f,h,p,m){function g(y){return y instanceof p?y:new p(function(b){b(y)})}return new(p||(p=Promise))(function(y,b){function S(M){try{A(m.next(M))}catch(w){b(w)}}function T(M){try{A(m.throw(M))}catch(w){b(w)}}function A(M){M.done?y(M.value):g(M.value).then(S,T)}A((m=m.apply(f,h||[])).next())})},i=Vn&&Vn.__generator||function(f,h){var p={label:0,sent:function(){if(y[0]&1)throw y[1];return y[1]},trys:[],ops:[]},m,g,y,b;return b={next:S(0),throw:S(1),return:S(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function S(A){return function(M){return T([A,M])}}function T(A){if(m)throw new TypeError("Generator is already executing.");for(;b&&(b=0,A[0]&&(p=0)),p;)try{if(m=1,g&&(y=A[0]&2?g.return:A[0]?g.throw||((y=g.return)&&y.call(g),0):g.next)&&!(y=y.call(g,A[1])).done)return y;switch(g=0,y&&(A=[A[0]&2,y.value]),A[0]){case 0:case 1:y=A;break;case 4:return p.label++,{value:A[1],done:!1};case 5:p.label++,g=A[1],A=[0];continue;case 7:A=p.ops.pop(),p.trys.pop();continue;default:if(y=p.trys,!(y=y.length>0&&y[y.length-1])&&(A[0]===6||A[0]===2)){p=0;continue}if(A[0]===3&&(!y||A[1]>y[0]&&A[1]<y[3])){p.label=A[1];break}if(A[0]===6&&p.label<y[1]){p.label=y[1],y=A;break}if(y&&p.label<y[2]){p.label=y[2],p.ops.push(A);break}y[2]&&p.ops.pop(),p.trys.pop();continue}A=h.call(f,p)}catch(M){A=[6,M],g=0}finally{m=y=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}};Object.defineProperty(Vn,"__esModule",{value:!0}),Vn.getSessionToken=void 0;var o=Bc(),l=t(Sk());function c(f){return r(this,void 0,void 0,function(){return i(this,function(h){return[2,new Promise(function(p,m){var g=f.subscribe(l.Action.RESPOND,function(y){var b=y.sessionToken;b?p(b):m((0,o.fromAction)("Failed to retrieve a session token",o.Action.FAILED_AUTHENTICATION)),g()});f.dispatch(l.request())})]})})}return Vn.getSessionToken=c,Vn}var Er={},li={},Ny={},ns={},nC;function rC(){if(nC)return ns;nC=1,Object.defineProperty(ns,"__esModule",{value:!0}),ns.respond=ns.Action=void 0;var n=pt(),e=ht(),t;(function(i){i.REQUEST="APP::AUTH_CODE::REQUEST",i.RESPOND="APP::AUTH_CODE::RESPOND"})(t||(ns.Action=t={}));function r(i){return(0,n.actionWrapper)({payload:i,group:e.Group.AuthCode,type:t.RESPOND})}return ns.respond=r,ns}var iC;function Tk(){return iC||(iC=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.request=n.Action=n.respond=void 0;var e=rC();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return e.Action}});var t=Gl(),r=Wl(),i=rC();Object.defineProperty(n,"respond",{enumerable:!0,get:function(){return i.respond}});function o(l){return(0,t.actionWrapper)({group:r.Group.AuthCode,type:e.Action.REQUEST,payload:{id:l}})}n.request=o})(Ny)),Ny}var Ry={},aC;function Ak(){return aC||(aC=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.isValidButtonProps=n.Button=n.update=n.Style=n.Icon=n.clickButton=n.Action=void 0;var e=Uc();Object.defineProperty(n,"Button",{enumerable:!0,get:function(){return e.Button}});var t=Uc();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return t.Action}}),Object.defineProperty(n,"clickButton",{enumerable:!0,get:function(){return t.clickButton}}),Object.defineProperty(n,"Icon",{enumerable:!0,get:function(){return t.Icon}}),Object.defineProperty(n,"Style",{enumerable:!0,get:function(){return t.Style}}),Object.defineProperty(n,"update",{enumerable:!0,get:function(){return t.update}});function r(o){return typeof o.id=="string"&&typeof o.label=="string"}n.isValidButtonProps=r;function i(o,l){return new e.Button(o,l)}n.create=i})(Ry)),Ry}var Py={},sn={},oC;function Vh(){if(oC)return sn;oC=1;var n=sn&&sn.__extends||(function(){var y=function(b,S){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,A){T.__proto__=A}||function(T,A){for(var M in A)Object.prototype.hasOwnProperty.call(A,M)&&(T[M]=A[M])},y(b,S)};return function(b,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");y(b,S);function T(){this.constructor=b}b.prototype=S===null?Object.create(S):(T.prototype=S.prototype,new T)}})(),e=sn&&sn.__assign||function(){return e=Object.assign||function(y){for(var b,S=1,T=arguments.length;S<T;S++){b=arguments[S];for(var A in b)Object.prototype.hasOwnProperty.call(b,A)&&(y[A]=b[A])}return y},e.apply(this,arguments)};Object.defineProperty(sn,"__esModule",{value:!0}),sn.create=sn.ButtonGroup=sn.isGroupedButtonPayload=sn.isGroupedButton=sn.update=sn.Action=void 0;var t=gp(),r=pt(),i=Rt(),o=ht(),l;(function(y){y.UPDATE="UPDATE"})(l||(sn.Action=l={}));function c(y,b,S){return g(y,b,l.UPDATE,S)}sn.update=c;function f(y){var b=y;return b.buttons&&b.buttons.length>0&&b.label!==void 0}sn.isGroupedButton=f;function h(y){var b=y;return Array.isArray(b.buttons)&&typeof b.id=="string"&&typeof b.label=="string"}sn.isGroupedButtonPayload=h;var p=(function(y){n(b,y);function b(S,T){var A=y.call(this,S,o.ComponentType.ButtonGroup,o.Group.ButtonGroup)||this;return A.disabled=!1,A.plain=!1,A.buttonsOptions=[],A.buttons=[],A.set(T,!1),A}return Object.defineProperty(b.prototype,"options",{get:function(){return{buttons:this.buttonsOptions,disabled:this.disabled,label:this.label,plain:this.plain}},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"payload",{get:function(){return e(e({},this.options),{buttons:this.buttons,id:this.id})},enumerable:!1,configurable:!0}),b.prototype.set=function(S,T){T===void 0&&(T=!0);var A=(0,r.getMergedProps)(this.options,S),M=A.label,w=A.disabled,x=A.buttons,N=A.plain;return this.label=M,this.disabled=!!w,this.buttons=this.getButtons(x),this.plain=!!N,T&&this.dispatch(l.UPDATE),this},b.prototype.dispatch=function(S){if(S===l.UPDATE){var T=c(this.group,this.component,this.payload);this.app.dispatch(T)}return this},b.prototype.updateButtons=function(S){if(!(!this.buttons||this.buttons.length===0)){for(var T,A=0,M=this.buttons;A<M.length;A++){var w=M[A];if(T=(0,r.updateActionFromPayload)(w,S),T)break}T&&this.dispatch(l.UPDATE)}},b.prototype.getSingleButton=function(S){return(0,t.getSingleButton)(this,S,this.subgroups,this.updateButtons)},b.prototype.getButtons=function(S){var T=this,A=[];return S?(S.forEach(function(M){var w=(0,t.getSingleButton)(T,M,T.subgroups,T.updateButtons);A.push(w)}),this.buttonsOptions=S,A):[]},b})(i.ActionSetWithChildren);sn.ButtonGroup=p;function m(y,b){return new p(y,b)}sn.create=m;function g(y,b,S,T,A){var M=b.id,w=T.label,x=(0,r.getEventNameSpace)(y,S,b),N=e(e({},T),{id:M,label:w,payload:A});return(0,r.actionWrapper)({type:x,group:y,payload:N})}return sn}var sC;function t6(){return sC||(sC=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.ButtonGroup=n.isGroupedButtonPayload=n.isGroupedButton=n.update=n.Action=void 0;var e=Vh();Object.defineProperty(n,"ButtonGroup",{enumerable:!0,get:function(){return e.ButtonGroup}});var t=Vh();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return t.Action}}),Object.defineProperty(n,"update",{enumerable:!0,get:function(){return t.update}}),Object.defineProperty(n,"isGroupedButton",{enumerable:!0,get:function(){return t.isGroupedButton}}),Object.defineProperty(n,"isGroupedButtonPayload",{enumerable:!0,get:function(){return t.isGroupedButtonPayload}});function r(i,o){return new e.ButtonGroup(i,o)}n.create=r})(Py)),Py}var jy={},He={},lC;function n6(){if(lC)return He;lC=1;var n=He&&He.__extends||(function(){var k=function(j,B){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,$){G.__proto__=$}||function(G,$){for(var ne in $)Object.prototype.hasOwnProperty.call($,ne)&&(G[ne]=$[ne])},k(j,B)};return function(j,B){if(typeof B!="function"&&B!==null)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");k(j,B);function G(){this.constructor=j}j.prototype=B===null?Object.create(B):(G.prototype=B.prototype,new G)}})(),e=He&&He.__assign||function(){return e=Object.assign||function(k){for(var j,B=1,G=arguments.length;B<G;B++){j=arguments[B];for(var $ in j)Object.prototype.hasOwnProperty.call(j,$)&&(k[$]=j[$])}return k},e.apply(this,arguments)};Object.defineProperty(He,"__esModule",{value:!0}),He.Cart=He.setLineItemProperties=He.removeLineItemDiscount=He.setLineItemDiscount=He.removeLineItem=He.updateLineItem=He.addLineItem=He.removeProperties=He.setProperties=He.removeAllDiscounts=He.setCodeDiscount=He.setDiscount=He.updateCustomerAddress=He.addCustomerAddress=He.setCustomer=He.update=He.fetch=He.Action=void 0;var t=pt(),r=Rt(),i=ht(),o;(function(k){k.FETCH="APP::CART::FETCH",k.UPDATE="APP::CART::UPDATE",k.SET_CUSTOMER="APP::CART::SET_CUSTOMER",k.REMOVE_CUSTOMER="APP::CART::REMOVE_CUSTOMER",k.ADD_CUSTOMER_ADDRESS="APP::CART::ADD_CUSTOMER_ADDRESS",k.UPDATE_CUSTOMER_ADDRESS="APP::CART::UPDATE_CUSTOMER_ADDRESS",k.SET_DISCOUNT="APP::CART::SET_DISCOUNT",k.SET_CODE_DISCOUNT="APP::CART::SET_CODE_DISCOUNT",k.REMOVE_DISCOUNT="APP::CART::REMOVE_DISCOUNT",k.REMOVE_ALL_DISCOUNTS="APP::CART::REMOVE_ALL_DISCOUNTS",k.SET_PROPERTIES="APP::CART::SET_PROPERTIES",k.REMOVE_PROPERTIES="APP::CART::REMOVE_PROPERTIES",k.CLEAR="APP::CART::CLEAR",k.ADD_LINE_ITEM="APP::CART::ADD_LINE_ITEM",k.UPDATE_LINE_ITEM="APP::CART::UPDATE_LINE_ITEM",k.REMOVE_LINE_ITEM="APP::CART::REMOVE_LINE_ITEM",k.SET_LINE_ITEM_DISCOUNT="APP::CART::SET_LINE_ITEM_DISCOUNT",k.REMOVE_LINE_ITEM_DISCOUNT="APP::CART::REMOVE_LINE_ITEM_DISCOUNT",k.SET_LINE_ITEM_PROPERTIES="APP::CART::SET_LINE_ITEM_PROPERTIES",k.REMOVE_LINE_ITEM_PROPERTIES="APP::CART::REMOVE_LINE_ITEM_PROPERTIES"})(o||(He.Action=o={}));function l(k,j){return j===void 0&&(j={}),(0,t.actionWrapper)({group:i.Group.Cart,type:k,payload:j})}function c(){return l(o.FETCH)}He.fetch=c;function f(k){return l(o.UPDATE,k)}He.update=f;function h(k){return l(o.SET_CUSTOMER,k)}He.setCustomer=h;function p(k){return l(o.ADD_CUSTOMER_ADDRESS,k)}He.addCustomerAddress=p;function m(k){return l(o.UPDATE_CUSTOMER_ADDRESS,k)}He.updateCustomerAddress=m;function g(k){return l(o.SET_DISCOUNT,k)}He.setDiscount=g;function y(k){return l(o.SET_CODE_DISCOUNT,k)}He.setCodeDiscount=y;function b(k){return l(o.REMOVE_ALL_DISCOUNTS,k)}He.removeAllDiscounts=b;function S(k){return l(o.SET_PROPERTIES,k)}He.setProperties=S;function T(k){return l(o.REMOVE_PROPERTIES,k)}He.removeProperties=T;function A(k){return l(o.ADD_LINE_ITEM,k)}He.addLineItem=A;function M(k){return l(o.UPDATE_LINE_ITEM,k)}He.updateLineItem=M;function w(k){return l(o.REMOVE_LINE_ITEM,k)}He.removeLineItem=w;function x(k){return l(o.SET_LINE_ITEM_DISCOUNT,k)}He.setLineItemDiscount=x;function N(k){return l(o.REMOVE_LINE_ITEM_DISCOUNT,k)}He.removeLineItemDiscount=N;function z(k){return l(o.SET_LINE_ITEM_PROPERTIES,k)}He.setLineItemProperties=z;var P=(function(k){n(j,k);function j(B,G){return k.call(this,B,i.Group.Cart,i.Group.Cart,G?G.id:void 0)||this}return j.prototype.dispatch=function(B,G){switch(B){case o.FETCH:this.dispatchCartAction(o.FETCH);break;case o.UPDATE:this.dispatchCartAction(o.UPDATE,G);break;case o.SET_CUSTOMER:this.dispatchCartAction(o.SET_CUSTOMER,G);break;case o.REMOVE_CUSTOMER:this.dispatchCartAction(o.REMOVE_CUSTOMER,G);break;case o.ADD_CUSTOMER_ADDRESS:this.dispatchCartAction(o.ADD_CUSTOMER_ADDRESS,G);break;case o.UPDATE_CUSTOMER_ADDRESS:this.dispatchCartAction(o.UPDATE_CUSTOMER_ADDRESS,G);break;case o.SET_DISCOUNT:this.dispatchCartAction(o.SET_DISCOUNT,G);break;case o.SET_CODE_DISCOUNT:this.dispatchCartAction(o.SET_CODE_DISCOUNT,G);break;case o.REMOVE_DISCOUNT:this.dispatchCartAction(o.REMOVE_DISCOUNT,G);break;case o.REMOVE_ALL_DISCOUNTS:this.dispatchCartAction(o.REMOVE_ALL_DISCOUNTS,G);break;case o.SET_PROPERTIES:this.dispatchCartAction(o.SET_PROPERTIES,G);break;case o.REMOVE_PROPERTIES:this.dispatchCartAction(o.REMOVE_PROPERTIES,G);break;case o.CLEAR:this.dispatchCartAction(o.CLEAR,G);break;case o.ADD_LINE_ITEM:this.dispatchCartAction(o.ADD_LINE_ITEM,G);break;case o.UPDATE_LINE_ITEM:this.dispatchCartAction(o.UPDATE_LINE_ITEM,G);break;case o.REMOVE_LINE_ITEM:this.dispatchCartAction(o.REMOVE_LINE_ITEM,G);break;case o.SET_LINE_ITEM_DISCOUNT:this.dispatchCartAction(o.SET_LINE_ITEM_DISCOUNT,G);break;case o.REMOVE_LINE_ITEM_DISCOUNT:this.dispatchCartAction(o.REMOVE_LINE_ITEM_DISCOUNT,G);break;case o.SET_LINE_ITEM_PROPERTIES:this.dispatchCartAction(o.SET_LINE_ITEM_PROPERTIES,G);break;case o.REMOVE_LINE_ITEM_PROPERTIES:this.dispatchCartAction(o.REMOVE_LINE_ITEM_PROPERTIES,G);break}return this},j.prototype.dispatchCartAction=function(B,G){this.app.dispatch(l(B,e(e({},G),{id:this.id})))},j})(r.ActionSet);return He.Cart=P,He}var uC;function r6(){return uC||(uC=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.setLineItemProperties=n.removeLineItemDiscount=n.setLineItemDiscount=n.removeLineItem=n.updateLineItem=n.addLineItem=n.removeProperties=n.setProperties=n.setCodeDiscount=n.setDiscount=n.updateCustomerAddress=n.addCustomerAddress=n.setCustomer=n.update=n.fetch=n.Cart=n.Action=void 0;var e=n6();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return e.Action}}),Object.defineProperty(n,"Cart",{enumerable:!0,get:function(){return e.Cart}}),Object.defineProperty(n,"fetch",{enumerable:!0,get:function(){return e.fetch}}),Object.defineProperty(n,"update",{enumerable:!0,get:function(){return e.update}}),Object.defineProperty(n,"setCustomer",{enumerable:!0,get:function(){return e.setCustomer}}),Object.defineProperty(n,"addCustomerAddress",{enumerable:!0,get:function(){return e.addCustomerAddress}}),Object.defineProperty(n,"updateCustomerAddress",{enumerable:!0,get:function(){return e.updateCustomerAddress}}),Object.defineProperty(n,"setDiscount",{enumerable:!0,get:function(){return e.setDiscount}}),Object.defineProperty(n,"setCodeDiscount",{enumerable:!0,get:function(){return e.setCodeDiscount}}),Object.defineProperty(n,"setProperties",{enumerable:!0,get:function(){return e.setProperties}}),Object.defineProperty(n,"removeProperties",{enumerable:!0,get:function(){return e.removeProperties}}),Object.defineProperty(n,"addLineItem",{enumerable:!0,get:function(){return e.addLineItem}}),Object.defineProperty(n,"updateLineItem",{enumerable:!0,get:function(){return e.updateLineItem}}),Object.defineProperty(n,"removeLineItem",{enumerable:!0,get:function(){return e.removeLineItem}}),Object.defineProperty(n,"setLineItemDiscount",{enumerable:!0,get:function(){return e.setLineItemDiscount}}),Object.defineProperty(n,"removeLineItemDiscount",{enumerable:!0,get:function(){return e.removeLineItemDiscount}}),Object.defineProperty(n,"setLineItemProperties",{enumerable:!0,get:function(){return e.setLineItemProperties}});function t(r,i){return new e.Cart(r,i)}n.create=t})(jy)),jy}var rs={},$u={},An={},cC;function a0(){if(cC)return An;cC=1;var n=An&&An.__extends||(function(){var p=function(m,g){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,b){y.__proto__=b}||function(y,b){for(var S in b)Object.prototype.hasOwnProperty.call(b,S)&&(y[S]=b[S])},p(m,g)};return function(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");p(m,g);function y(){this.constructor=m}m.prototype=g===null?Object.create(g):(y.prototype=g.prototype,new y)}})(),e=An&&An.__assign||function(){return e=Object.assign||function(p){for(var m,g=1,y=arguments.length;g<y;g++){m=arguments[g];for(var b in m)Object.prototype.hasOwnProperty.call(m,b)&&(p[b]=m[b])}return p},e.apply(this,arguments)};Object.defineProperty(An,"__esModule",{value:!0}),An.Toast=An.primaryAction=An.clear=An.show=An.Action=void 0;var t=pt(),r=Rt(),i=ht(),o;(function(p){p.SHOW="APP::TOAST::SHOW",p.CLEAR="APP::TOAST::CLEAR",p.ACTION="APP::TOAST::ACTION"})(o||(An.Action=o={}));function l(p){return(0,t.actionWrapper)({group:i.Group.Toast,payload:p,type:o.SHOW})}An.show=l;function c(p){return(0,t.actionWrapper)({payload:p,group:i.Group.Toast,type:o.CLEAR})}An.clear=c;function f(p){return(0,t.actionWrapper)({payload:p,group:i.Group.Toast,type:o.ACTION})}An.primaryAction=f;var h=(function(p){n(m,p);function m(g,y){var b=p.call(this,g,i.Group.Toast,i.Group.Toast)||this;return b.message="",b.duration=5e3,b.set(y),b}return Object.defineProperty(m.prototype,"options",{get:function(){var g;return{duration:this.duration,isError:this.isError,message:this.message,action:!((g=this.action)===null||g===void 0)&&g.content?{content:this.action.content}:void 0}},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"payload",{get:function(){return e({id:this.id},this.options)},enumerable:!1,configurable:!0}),m.prototype.set=function(g){var y=(0,t.getMergedProps)(this.options,g),b=y.message,S=y.duration,T=y.isError,A=y.action;return this.message=b,this.duration=S,this.isError=T,this.action=A?.content?{content:A.content||""}:void 0,this},m.prototype.dispatch=function(g){switch(g){case o.SHOW:{var y=l(this.payload);this.app.dispatch(y);break}case o.CLEAR:this.app.dispatch(c({id:this.id}));break;case o.ACTION:this.app.dispatch(f({id:this.id}));break}return this},m})(r.ActionSet);return An.Toast=h,An}var fC;function i6(){return fC||(fC=1,(function(n){var e=$u&&$u.__extends||(function(){var o=function(l,c){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(f[p]=h[p])},o(l,c)};return function(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");o(l,c);function f(){this.constructor=l}l.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}})();Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.Flash=n.show=n.clear=void 0;var t=a0();Object.defineProperty(n,"clear",{enumerable:!0,get:function(){return t.clear}}),Object.defineProperty(n,"show",{enumerable:!0,get:function(){return t.show}});var r=(function(o){e(l,o);function l(){return o!==null&&o.apply(this,arguments)||this}return l})(t.Toast);n.Flash=r;function i(o,l){return new r(o,l)}n.create=i})($u)),$u}var dC;function a6(){return dC||(dC=1,(function(n){var e=rs&&rs.__createBinding||(Object.create?(function(r,i,o,l){l===void 0&&(l=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(r,l,c)}):(function(r,i,o,l){l===void 0&&(l=o),r[l]=i[o]})),t=rs&&rs.__exportStar||function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,r,o)};Object.defineProperty(n,"__esModule",{value:!0}),t(i6(),n)})(rs)),rs}var is={},Ly={},as={},ta={},ec={},hC;function Ok(){if(hC)return ec;hC=1,Object.defineProperty(ec,"__esModule",{value:!0}),ec.Action=void 0;var n;return(function(e){e.UPDATE="APP::FEATURES::UPDATE",e.REQUEST="APP::FEATURES::REQUEST",e.REQUEST_UPDATE="APP::FEATURES::REQUEST::UPDATE"})(n||(ec.Action=n={})),ec}var pC;function o6(){if(pC)return ta;pC=1;var n=ta&&ta.__extends||(function(){var c=function(f,h){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(p[g]=m[g])},c(f,h)};return function(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");c(f,h);function p(){this.constructor=f}f.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}})(),e=ta&&ta.__assign||function(){return e=Object.assign||function(c){for(var f,h=1,p=arguments.length;h<p;h++){f=arguments[h];for(var m in f)Object.prototype.hasOwnProperty.call(f,m)&&(c[m]=f[m])}return c},e.apply(this,arguments)};Object.defineProperty(ta,"__esModule",{value:!0}),ta.Features=void 0;var t=pt(),r=Rt(),i=ht(),o=Ok(),l=(function(c){n(f,c);function f(h,p){return c.call(this,h,i.Group.Features,i.Group.Features,p?p.id:void 0)||this}return f.prototype.dispatch=function(h,p){return h===o.Action.REQUEST&&this.dispatchFeaturesAction(o.Action.REQUEST,p),this},f.prototype.dispatchFeaturesAction=function(h,p){this.app.dispatch((0,t.actionWrapper)({group:i.Group.Features,type:h,payload:e(e({},p||{}),{id:this.id})}))},f})(r.ActionSet);return ta.Features=l,ta}var mC;function Ck(){return mC||(mC=1,(function(n){var e=as&&as.__createBinding||(Object.create?(function(r,i,o,l){l===void 0&&(l=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(r,l,c)}):(function(r,i,o,l){l===void 0&&(l=o),r[l]=i[o]})),t=as&&as.__exportStar||function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,r,o)};Object.defineProperty(n,"__esModule",{value:!0}),t(o6(),n),t(Ok(),n)})(as)),as}var gC;function s6(){return gC||(gC=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.Features=void 0;var e=Ck();Object.defineProperty(n,"Features",{enumerable:!0,get:function(){return e.Features}});function t(r,i){return new e.Features(r,i)}n.create=t})(Ly)),Ly}var Iy={},yC;function l6(){return yC||(yC=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Action=void 0;var e=Ck();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return e.Action}})})(Iy)),Iy}var vC;function u6(){return vC||(vC=1,(function(n){var e=is&&is.__createBinding||(Object.create?(function(r,i,o,l){l===void 0&&(l=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(r,l,c)}):(function(r,i,o,l){l===void 0&&(l=o),r[l]=i[o]})),t=is&&is.__exportStar||function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,r,o)};Object.defineProperty(n,"__esModule",{value:!0}),t(s6(),n),t(l6(),n)})(is)),is}var By={},On={},bC;function c6(){if(bC)return On;bC=1;var n=On&&On.__extends||(function(){var p=function(m,g){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,b){y.__proto__=b}||function(y,b){for(var S in b)Object.prototype.hasOwnProperty.call(b,S)&&(y[S]=b[S])},p(m,g)};return function(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");p(m,g);function y(){this.constructor=m}m.prototype=g===null?Object.create(g):(y.prototype=g.prototype,new y)}})(),e=On&&On.__assign||function(){return e=Object.assign||function(p){for(var m,g=1,y=arguments.length;g<y;g++){m=arguments[g];for(var b in m)Object.prototype.hasOwnProperty.call(m,b)&&(p[b]=m[b])}return p},e.apply(this,arguments)};Object.defineProperty(On,"__esModule",{value:!0}),On.create=On.FeedbackModal=On.close=On.open=On.Action=void 0;var t=pt(),r=Rt(),i=ht(),o;(function(p){p.OPEN="APP::FEEDBACK_MODAL::OPEN",p.CLOSE="APP::FEEDBACK_MODAL::CLOSE"})(o||(On.Action=o={}));function l(p){return(0,t.actionWrapper)({group:i.Group.FeedbackModal,payload:p,type:o.OPEN})}On.open=l;function c(p){return(0,t.actionWrapper)({group:i.Group.FeedbackModal,payload:p,type:o.CLOSE})}On.close=c;var f=(function(p){n(m,p);function m(g,y){var b=p.call(this,g,i.Group.FeedbackModal,i.Group.FeedbackModal)||this;return b.options=y,b.set(y),b}return Object.defineProperty(m.prototype,"payload",{get:function(){return e({id:this.id},this.options)},enumerable:!1,configurable:!0}),m.prototype.set=function(g){return this.options=(0,t.getMergedProps)(this.options,g),this},m.prototype.dispatch=function(g){switch(g){case o.OPEN:{var y=l(this.payload);this.app.dispatch(y);break}case o.CLOSE:{var b=c(this.payload);this.app.dispatch(b);break}}return this},m})(r.ActionSet);On.FeedbackModal=f;function h(p,m){return new f(p,m)}return On.create=h,On}var SC;function f6(){return SC||(SC=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.FeedbackModal=n.close=n.open=n.Action=void 0;var e=c6();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return e.Action}}),Object.defineProperty(n,"open",{enumerable:!0,get:function(){return e.open}}),Object.defineProperty(n,"close",{enumerable:!0,get:function(){return e.close}}),Object.defineProperty(n,"FeedbackModal",{enumerable:!0,get:function(){return e.FeedbackModal}}),Object.defineProperty(n,"create",{enumerable:!0,get:function(){return e.create}})})(By)),By}var zy={},Tr={},EC;function TC(){if(EC)return Tr;EC=1;var n=Tr&&Tr.__extends||(function(){var f=function(h,p){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(m[y]=g[y])},f(h,p)};return function(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");f(h,p);function m(){this.constructor=h}h.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}})();Object.defineProperty(Tr,"__esModule",{value:!0}),Tr.Fullscreen=Tr.exit=Tr.enter=Tr.Action=void 0;var e=pt(),t=Rt(),r=ht(),i;(function(f){f.ENTER="APP::FULLSCREEN::ENTER",f.EXIT="APP::FULLSCREEN::EXIT"})(i||(Tr.Action=i={}));function o(){return(0,e.actionWrapper)({group:r.Group.Fullscreen,type:i.ENTER})}Tr.enter=o;function l(){return(0,e.actionWrapper)({group:r.Group.Fullscreen,type:i.EXIT})}Tr.exit=l;var c=(function(f){n(h,f);function h(p){return f.call(this,p,r.Group.Fullscreen,r.Group.Fullscreen)||this}return Object.defineProperty(h.prototype,"payload",{get:function(){return{id:this.id}},enumerable:!1,configurable:!0}),h.prototype.dispatch=function(p){return this.app.dispatch((0,e.actionWrapper)({group:this.group,type:p,payload:this.payload})),this},h})(t.ActionSet);return Tr.Fullscreen=c,Tr}var AC;function d6(){return AC||(AC=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.Action=n.Fullscreen=n.exit=n.enter=void 0;var e=TC();Object.defineProperty(n,"Fullscreen",{enumerable:!0,get:function(){return e.Fullscreen}}),Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return e.Action}});var t=TC();Object.defineProperty(n,"enter",{enumerable:!0,get:function(){return t.enter}}),Object.defineProperty(n,"exit",{enumerable:!0,get:function(){return t.exit}});function r(i){return new e.Fullscreen(i)}n.create=r})(zy)),zy}var Uy={},Cn={},OC;function CC(){if(OC)return Cn;OC=1;var n=Cn&&Cn.__extends||(function(){var p=function(m,g){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,b){y.__proto__=b}||function(y,b){for(var S in b)Object.prototype.hasOwnProperty.call(b,S)&&(y[S]=b[S])},p(m,g)};return function(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");p(m,g);function y(){this.constructor=m}m.prototype=g===null?Object.create(g):(y.prototype=g.prototype,new y)}})(),e=Cn&&Cn.__assign||function(){return e=Object.assign||function(p){for(var m,g=1,y=arguments.length;g<y;g++){m=arguments[g];for(var b in m)Object.prototype.hasOwnProperty.call(m,b)&&(p[b]=m[b])}return p},e.apply(this,arguments)};Object.defineProperty(Cn,"__esModule",{value:!0}),Cn.LeaveConfirmation=Cn.confirm=Cn.disable=Cn.enable=Cn.Action=void 0;var t=pt(),r=Rt(),i=ht(),o;(function(p){p.ENABLE="APP::LEAVE_CONFIRMATION::ENABLE",p.DISABLE="APP::LEAVE_CONFIRMATION::DISABLE",p.CONFIRM="APP::LEAVE_CONFIRMATION::CONFIRM"})(o||(Cn.Action=o={}));function l(p){return p===void 0&&(p={}),(0,t.actionWrapper)({group:i.Group.LeaveConfirmation,payload:p,type:o.ENABLE})}Cn.enable=l;function c(p){return p===void 0&&(p={}),(0,t.actionWrapper)({group:i.Group.LeaveConfirmation,payload:p,type:o.DISABLE})}Cn.disable=c;function f(p){return p===void 0&&(p={}),(0,t.actionWrapper)({group:i.Group.LeaveConfirmation,payload:p,type:o.CONFIRM})}Cn.confirm=f;var h=(function(p){n(m,p);function m(g,y){y===void 0&&(y={});var b=p.call(this,g,i.Group.LeaveConfirmation,i.Group.LeaveConfirmation)||this;return b.options=y,b.set(y),b}return Object.defineProperty(m.prototype,"payload",{get:function(){return e({id:this.id},this.options)},enumerable:!1,configurable:!0}),m.prototype.set=function(g){return this.options=(0,t.getMergedProps)(this.options,g),this},m.prototype.dispatch=function(g){switch(g){case o.ENABLE:{var y=l(this.payload);this.app.dispatch(y);break}case o.DISABLE:{var b=c(this.payload);this.app.dispatch(b);break}case o.CONFIRM:{var S=f(this.payload);this.app.dispatch(S);break}}return this},m})(r.ActionSet);return Cn.LeaveConfirmation=h,Cn}var MC;function h6(){return MC||(MC=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.LeaveConfirmation=n.confirm=n.disable=n.enable=n.Action=void 0;var e=CC();Object.defineProperty(n,"LeaveConfirmation",{enumerable:!0,get:function(){return e.LeaveConfirmation}});var t=CC();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return t.Action}}),Object.defineProperty(n,"enable",{enumerable:!0,get:function(){return t.enable}}),Object.defineProperty(n,"disable",{enumerable:!0,get:function(){return t.disable}}),Object.defineProperty(n,"confirm",{enumerable:!0,get:function(){return t.confirm}});function r(i,o){return o===void 0&&(o={}),new e.LeaveConfirmation(i,o)}n.create=r})(Uy)),Uy}var Hy={},Ar={},wC;function xC(){if(wC)return Ar;wC=1;var n=Ar&&Ar.__extends||(function(){var f=function(h,p){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(m[y]=g[y])},f(h,p)};return function(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");f(h,p);function m(){this.constructor=h}h.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}})();Object.defineProperty(Ar,"__esModule",{value:!0}),Ar.Loading=Ar.stop=Ar.start=Ar.Action=void 0;var e=pt(),t=Rt(),r=ht(),i;(function(f){f.START="APP::LOADING::START",f.STOP="APP::LOADING::STOP"})(i||(Ar.Action=i={}));function o(f){return(0,e.actionWrapper)({payload:f,group:r.Group.Loading,type:i.START})}Ar.start=o;function l(f){return(0,e.actionWrapper)({payload:f,group:r.Group.Loading,type:i.STOP})}Ar.stop=l;var c=(function(f){n(h,f);function h(p){return f.call(this,p,r.Group.Loading,r.Group.Loading)||this}return Object.defineProperty(h.prototype,"payload",{get:function(){return{id:this.id}},enumerable:!1,configurable:!0}),h.prototype.dispatch=function(p){switch(p){case i.START:this.app.dispatch(o(this.payload));break;case i.STOP:this.app.dispatch(l(this.payload));break}return this},h})(t.ActionSet);return Ar.Loading=c,Ar}var _C;function p6(){return _C||(_C=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.stop=n.start=n.Action=n.Loading=void 0;var e=xC();Object.defineProperty(n,"Loading",{enumerable:!0,get:function(){return e.Loading}});var t=xC();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return t.Action}}),Object.defineProperty(n,"start",{enumerable:!0,get:function(){return t.start}}),Object.defineProperty(n,"stop",{enumerable:!0,get:function(){return t.stop}});function r(i){return new e.Loading(i)}n.create=r})(Hy)),Hy}var Fy={},qn={},kC;function DC(){if(kC)return qn;kC=1;var n=qn&&qn.__extends||(function(){var p=function(m,g){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,b){y.__proto__=b}||function(y,b){for(var S in b)Object.prototype.hasOwnProperty.call(b,S)&&(y[S]=b[S])},p(m,g)};return function(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");p(m,g);function y(){this.constructor=m}m.prototype=g===null?Object.create(g):(y.prototype=g.prototype,new y)}})(),e=qn&&qn.__assign||function(){return e=Object.assign||function(p){for(var m,g=1,y=arguments.length;g<y;g++){m=arguments[g];for(var b in m)Object.prototype.hasOwnProperty.call(m,b)&&(p[b]=m[b])}return p},e.apply(this,arguments)},t=qn&&qn.__awaiter||function(p,m,g,y){function b(S){return S instanceof g?S:new g(function(T){T(S)})}return new(g||(g=Promise))(function(S,T){function A(x){try{w(y.next(x))}catch(N){T(N)}}function M(x){try{w(y.throw(x))}catch(N){T(N)}}function w(x){x.done?S(x.value):b(x.value).then(A,M)}w((y=y.apply(p,m||[])).next())})},r=qn&&qn.__generator||function(p,m){var g={label:0,sent:function(){if(S[0]&1)throw S[1];return S[1]},trys:[],ops:[]},y,b,S,T;return T={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function A(w){return function(x){return M([w,x])}}function M(w){if(y)throw new TypeError("Generator is already executing.");for(;T&&(T=0,w[0]&&(g=0)),g;)try{if(y=1,b&&(S=w[0]&2?b.return:w[0]?b.throw||((S=b.return)&&S.call(b),0):b.next)&&!(S=S.call(b,w[1])).done)return S;switch(b=0,S&&(w=[w[0]&2,S.value]),w[0]){case 0:case 1:S=w;break;case 4:return g.label++,{value:w[1],done:!1};case 5:g.label++,b=w[1],w=[0];continue;case 7:w=g.ops.pop(),g.trys.pop();continue;default:if(S=g.trys,!(S=S.length>0&&S[S.length-1])&&(w[0]===6||w[0]===2)){g=0;continue}if(w[0]===3&&(!S||w[1]>S[0]&&w[1]<S[3])){g.label=w[1];break}if(w[0]===6&&g.label<S[1]){g.label=S[1],S=w;break}if(S&&g.label<S[2]){g.label=S[2],g.ops.push(w);break}S[2]&&g.ops.pop(),g.trys.pop();continue}w=m.call(p,g)}catch(x){w=[6,x],b=0}finally{y=S=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}};Object.defineProperty(qn,"__esModule",{value:!0}),qn.ModalContent=qn.Action=void 0;var i=pt(),o=Rt(),l=ht(),c=i0(),f;(function(p){p.LOADING="LOADING",p.LOADED="LOADED"})(f||(qn.Action=f={}));var h=(function(p){n(m,p);function m(g,y){return p.call(this,g,l.Group.Modal,l.Group.Modal,y?y.id:void 0)||this}return m.prototype.loaded=function(){this.dispatch(f.LOADED)},m.prototype.loading=function(){this.dispatch(f.LOADING)},m.prototype.dispatch=function(g){switch(g){case f.LOADED:this.dispatchModalAction(c.Action.UPDATE_CONTENT,{loading:!1});break;case f.LOADING:this.dispatchModalAction(c.Action.UPDATE_CONTENT,{loading:!0});break}return this},m.prototype.dispatchModalAction=function(g,y){return t(this,void 0,void 0,function(){var b;return r(this,function(S){return b=(0,i.actionWrapper)({type:g,group:l.Group.Modal,payload:e({},y)}),this.app.dispatch(b),[2]})})},m})(o.ActionSet);return qn.ModalContent=h,qn}var NC;function m6(){return NC||(NC=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.ModalContent=n.Action=void 0;var e=DC();Object.defineProperty(n,"ModalContent",{enumerable:!0,get:function(){return e.ModalContent}});var t=DC();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return t.Action}});function r(i,o){return new e.ModalContent(i,o)}n.create=r})(Fy)),Fy}var Vy={},Gn={},RC;function PC(){if(RC)return Gn;RC=1;var n=Gn&&Gn.__extends||(function(){var h=function(p,m){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,y){g.__proto__=y}||function(g,y){for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(g[b]=y[b])},h(p,m)};return function(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");h(p,m);function g(){this.constructor=p}p.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}})(),e=Gn&&Gn.__assign||function(){return e=Object.assign||function(h){for(var p,m=1,g=arguments.length;m<g;m++){p=arguments[m];for(var y in p)Object.prototype.hasOwnProperty.call(p,y)&&(h[y]=p[y])}return h},e.apply(this,arguments)};Object.defineProperty(Gn,"__esModule",{value:!0}),Gn.History=Gn.replace=Gn.push=Gn.Action=void 0;var t=pt(),r=Rt(),i=ht(),o;(function(h){h.PUSH="APP::NAVIGATION::HISTORY::PUSH",h.REPLACE="APP::NAVIGATION::HISTORY::REPLACE"})(o||(Gn.Action=o={}));function l(h){return(0,t.actionWrapper)({payload:h,group:i.Group.Navigation,type:o.PUSH})}Gn.push=l;function c(h){return(0,t.actionWrapper)({payload:h,group:i.Group.Navigation,type:o.REPLACE})}Gn.replace=c;var f=(function(h){n(p,h);function p(m){return h.call(this,m,"History",i.Group.Navigation)||this}return Object.defineProperty(p.prototype,"payload",{get:function(){return{id:this.id}},enumerable:!1,configurable:!0}),p.prototype.dispatch=function(m,g){var y=e(e({},this.payload),{path:g});switch(m){case o.PUSH:this.app.dispatch(l(y));break;case o.REPLACE:this.app.dispatch(c(y));break}return this},p})(r.ActionSet);return Gn.History=f,Gn}var jC;function g6(){return jC||(jC=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.replace=n.push=n.Action=n.History=void 0;var e=PC();Object.defineProperty(n,"History",{enumerable:!0,get:function(){return e.History}});var t=PC();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return t.Action}}),Object.defineProperty(n,"push",{enumerable:!0,get:function(){return t.push}}),Object.defineProperty(n,"replace",{enumerable:!0,get:function(){return t.replace}});function r(i){return new e.History(i)}n.create=r})(Vy)),Vy}var qy={},Ie={},LC;function o0(){if(LC)return Ie;LC=1;var n=Ie&&Ie.__extends||(function(){var k=function(j,B){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,$){G.__proto__=$}||function(G,$){for(var ne in $)Object.prototype.hasOwnProperty.call($,ne)&&(G[ne]=$[ne])},k(j,B)};return function(j,B){if(typeof B!="function"&&B!==null)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");k(j,B);function G(){this.constructor=j}j.prototype=B===null?Object.create(B):(G.prototype=B.prototype,new G)}})(),e=Ie&&Ie.__assign||function(){return e=Object.assign||function(k){for(var j,B=1,G=arguments.length;B<G;B++){j=arguments[B];for(var $ in j)Object.prototype.hasOwnProperty.call(j,$)&&(k[$]=j[$])}return k},e.apply(this,arguments)};Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.Redirect=Ie.isProductVariantResourcePayload=Ie.isCreateResourcePayload=Ie.isAdminSection=Ie.isRemotePayload=Ie.isAdminSectionPayload=Ie.isAdminPathPayload=Ie.isAppPayload=Ie.getRelativePath=Ie.normalizeUrl=Ie.getPathWithSearchAndHash=Ie.toDestination=Ie.toApp=Ie.toRemote=Ie.toAdminSection=Ie.toAdminPath=Ie.isResourcePayload=Ie.ResourceType=Ie.Action=void 0;var t=pt(),r=Rt(),i=ht(),o;(function(k){k.ADMIN_SECTION="APP::NAVIGATION::REDIRECT::ADMIN::SECTION",k.ADMIN_PATH="APP::NAVIGATION::REDIRECT::ADMIN::PATH",k.REMOTE="APP::NAVIGATION::REDIRECT::REMOTE",k.APP="APP::NAVIGATION::REDIRECT::APP"})(o||(Ie.Action=o={}));var l;(function(k){k.Product="products",k.Collection="collections",k.Order="orders",k.Customer="customers",k.Discount="discounts"})(l||(Ie.ResourceType=l={}));function c(k){return typeof k.id=="string"}Ie.isResourcePayload=c;function f(k){return(0,t.actionWrapper)({payload:k,group:i.Group.Navigation,type:o.ADMIN_PATH})}Ie.toAdminPath=f;function h(k){return(0,t.actionWrapper)({payload:k,group:i.Group.Navigation,type:o.ADMIN_SECTION})}Ie.toAdminSection=h;function p(k){return(0,t.actionWrapper)({payload:k,group:i.Group.Navigation,type:o.REMOTE})}Ie.toRemote=p;function m(k){return(0,t.actionWrapper)({payload:k,group:i.Group.Navigation,type:o.APP})}Ie.toApp=m;function g(k,j,B){switch(k){case o.APP:{var G=T(j)?j:{path:j};return m(e({id:B},G))}case o.ADMIN_PATH:{var $=A(j)?j:{path:j};return f(e({id:B},$))}case o.ADMIN_SECTION:{var ne=M(j)?j:{section:j};return h(e({id:B},ne))}case o.REMOTE:{var le=w(j)?j:{url:j};return p(e({id:B},le))}}}Ie.toDestination=g;function y(k){var j=k.pathname,B=k.search,G=k.hash;return"".concat(j).concat(B||"").concat(G||"")}Ie.getPathWithSearchAndHash=y;function b(k){return k instanceof URL?k.toString():typeof k=="string"?k:S(k)}Ie.normalizeUrl=b;function S(k){if(typeof k=="string")return k.startsWith("/")?k:y(new URL(k));var j=k.search instanceof URLSearchParams?k.search.toString():k.search;return y(e(e({},k),{search:j}))}Ie.getRelativePath=S;function T(k){return typeof k=="object"&&Object.prototype.hasOwnProperty.call(k,"path")}Ie.isAppPayload=T;function A(k){return typeof k=="object"&&Object.prototype.hasOwnProperty.call(k,"path")}Ie.isAdminPathPayload=A;function M(k){return typeof k=="object"&&typeof k.section=="object"&&Object.prototype.hasOwnProperty.call(k.section,"name")}Ie.isAdminSectionPayload=M;function w(k){return typeof k=="object"&&Object.prototype.hasOwnProperty.call(k,"url")}Ie.isRemotePayload=w;function x(k){return typeof k=="object"&&typeof k?.name=="string"}Ie.isAdminSection=x;function N(k){return k.create===!0}Ie.isCreateResourcePayload=N;function z(k){var j=k;return j.id!==void 0&&j.variant!==void 0}Ie.isProductVariantResourcePayload=z;var P=(function(k){n(j,k);function j(B){return k.call(this,B,"Redirect",i.Group.Navigation)||this}return Object.defineProperty(j.prototype,"payload",{get:function(){return{id:this.id}},enumerable:!1,configurable:!0}),j.prototype.dispatch=function(B,G){var $=g(B,G,this.payload.id);return this.app.dispatch($),this},j})(r.ActionSet);return Ie.Redirect=P,Ie}var IC;function y6(){return IC||(IC=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.isProductVariantCreateResourcePayload=n.isProductVariantResourcePayload=n.isCreateResourcePayload=n.isAdminSection=n.isRemotePayload=n.isAdminSectionPayload=n.isAdminPathPayload=n.isAppPayload=n.getRelativePath=n.normalizeUrl=n.getPathWithSearchAndHash=n.toDestination=n.toApp=n.toRemote=n.toAdminSection=n.toAdminPath=n.isResourcePayload=n.ResourceType=n.Action=n.Redirect=void 0;var e=o0();Object.defineProperty(n,"Redirect",{enumerable:!0,get:function(){return e.Redirect}}),Object.defineProperty(n,"isCreateResourcePayload",{enumerable:!0,get:function(){return e.isCreateResourcePayload}}),Object.defineProperty(n,"isProductVariantResourcePayload",{enumerable:!0,get:function(){return e.isProductVariantResourcePayload}});var t=o0();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return t.Action}}),Object.defineProperty(n,"ResourceType",{enumerable:!0,get:function(){return t.ResourceType}}),Object.defineProperty(n,"isResourcePayload",{enumerable:!0,get:function(){return t.isResourcePayload}}),Object.defineProperty(n,"toAdminPath",{enumerable:!0,get:function(){return t.toAdminPath}}),Object.defineProperty(n,"toAdminSection",{enumerable:!0,get:function(){return t.toAdminSection}}),Object.defineProperty(n,"toRemote",{enumerable:!0,get:function(){return t.toRemote}}),Object.defineProperty(n,"toApp",{enumerable:!0,get:function(){return t.toApp}}),Object.defineProperty(n,"toDestination",{enumerable:!0,get:function(){return t.toDestination}}),Object.defineProperty(n,"getPathWithSearchAndHash",{enumerable:!0,get:function(){return t.getPathWithSearchAndHash}}),Object.defineProperty(n,"normalizeUrl",{enumerable:!0,get:function(){return t.normalizeUrl}}),Object.defineProperty(n,"getRelativePath",{enumerable:!0,get:function(){return t.getRelativePath}}),Object.defineProperty(n,"isAppPayload",{enumerable:!0,get:function(){return t.isAppPayload}}),Object.defineProperty(n,"isAdminPathPayload",{enumerable:!0,get:function(){return t.isAdminPathPayload}}),Object.defineProperty(n,"isAdminSectionPayload",{enumerable:!0,get:function(){return t.isAdminSectionPayload}}),Object.defineProperty(n,"isRemotePayload",{enumerable:!0,get:function(){return t.isRemotePayload}}),Object.defineProperty(n,"isAdminSection",{enumerable:!0,get:function(){return t.isAdminSection}});function r(o){return(0,e.isProductVariantResourcePayload)(o)?(0,e.isCreateResourcePayload)(o.variant):!1}n.isProductVariantCreateResourcePayload=r;function i(o){return new e.Redirect(o)}n.create=i})(qy)),qy}var Gy={},Qe={},BC;function zC(){if(BC)return Qe;BC=1;var n=Qe&&Qe.__extends||(function(){var x=function(N,z){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,k){P.__proto__=k}||function(P,k){for(var j in k)Object.prototype.hasOwnProperty.call(k,j)&&(P[j]=k[j])},x(N,z)};return function(N,z){if(typeof z!="function"&&z!==null)throw new TypeError("Class extends value "+String(z)+" is not a constructor or null");x(N,z);function P(){this.constructor=N}N.prototype=z===null?Object.create(z):(P.prototype=z.prototype,new P)}})(),e=Qe&&Qe.__assign||function(){return e=Object.assign||function(x){for(var N,z=1,P=arguments.length;z<P;z++){N=arguments[z];for(var k in N)Object.prototype.hasOwnProperty.call(N,k)&&(x[k]=N[k])}return x},e.apply(this,arguments)};Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.ResourcePicker=Qe.update=Qe.close=Qe.cancel=Qe.open=Qe.select=Qe.ActionVerb=Qe.ResourceType=Qe.ProductStatus=Qe.ProductVariantInventoryManagement=Qe.ProductVariantInventoryPolicy=Qe.WeightUnit=Qe.FulfillmentServiceType=Qe.CollectionSortOrder=Qe.Action=void 0;var t=pt(),r=Rt(),i=ht(),o;(function(x){x.OPEN="APP::RESOURCE_PICKER::OPEN",x.SELECT="APP::RESOURCE_PICKER::SELECT",x.CLOSE="APP::RESOURCE_PICKER::CLOSE",x.UPDATE="APP::RESOURCE_PICKER::UPDATE",x.CANCEL="APP::RESOURCE_PICKER::CANCEL"})(o||(Qe.Action=o={}));var l;(function(x){x.Manual="MANUAL",x.BestSelling="BEST_SELLING",x.AlphaAsc="ALPHA_ASC",x.AlphaDesc="ALPHA_DESC",x.PriceDesc="PRICE_DESC",x.PriceAsc="PRICE_ASC",x.CreatedDesc="CREATED_DESC",x.Created="CREATED",x.MostRelevant="MOST_RELEVANT"})(l||(Qe.CollectionSortOrder=l={}));var c;(function(x){x.GiftCard="GIFT_CARD",x.Manual="MANUAL",x.ThirdParty="THIRD_PARTY"})(c||(Qe.FulfillmentServiceType=c={}));var f;(function(x){x.Kilograms="KILOGRAMS",x.Grams="GRAMS",x.Pounds="POUNDS",x.Ounces="OUNCES"})(f||(Qe.WeightUnit=f={}));var h;(function(x){x.Deny="DENY",x.Continue="CONTINUE"})(h||(Qe.ProductVariantInventoryPolicy=h={}));var p;(function(x){x.Shopify="SHOPIFY",x.NotManaged="NOT_MANAGED",x.FulfillmentService="FULFILLMENT_SERVICE"})(p||(Qe.ProductVariantInventoryManagement=p={}));var m;(function(x){x.Active="ACTIVE",x.Archived="ARCHIVED",x.Draft="DRAFT"})(m||(Qe.ProductStatus=m={}));var g;(function(x){x.Product="product",x.ProductVariant="variant",x.Collection="collection"})(g||(Qe.ResourceType=g={}));var y;(function(x){x.Add="add",x.Select="select"})(y||(Qe.ActionVerb=y={}));function b(x){return(0,t.actionWrapper)({payload:x,group:i.Group.ResourcePicker,type:o.SELECT})}Qe.select=b;function S(x){return(0,t.actionWrapper)({payload:x,group:i.Group.ResourcePicker,type:o.OPEN})}Qe.open=S;function T(x){return(0,t.actionWrapper)({payload:x,group:i.Group.ResourcePicker,type:o.CANCEL})}Qe.cancel=T;function A(x){return(0,t.actionWrapper)({payload:x,group:i.Group.ResourcePicker,type:o.CANCEL})}Qe.close=A;function M(x){return(0,t.actionWrapper)({payload:x,group:i.Group.ResourcePicker,type:o.UPDATE})}Qe.update=M;var w=(function(x){n(N,x);function N(z,P,k){var j=x.call(this,z,i.Group.ResourcePicker,i.Group.ResourcePicker)||this;return j.initialSelectionIds=[],j.selection=[],j.resourceType=k,j.set(P,!1),j}return Object.defineProperty(N.prototype,"payload",{get:function(){return e(e({},this.options),{id:this.id,resourceType:this.resourceType})},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"options",{get:function(){var z={initialQuery:this.initialQuery,filterQuery:this.filterQuery,selectMultiple:this.selectMultiple,initialSelectionIds:this.initialSelectionIds,showHidden:this.showHidden,actionVerb:this.actionVerb};if(this.resourceType===g.Product){var P=e(e({},z),{showVariants:this.showVariants,showDraft:this.showDraft,showArchived:this.showArchived,showDraftBadge:this.showDraftBadge,showArchivedBadge:this.showArchivedBadge});return P}return z},enumerable:!1,configurable:!0}),N.prototype.set=function(z,P){P===void 0&&(P=!0);var k=(0,t.getMergedProps)(this.options,z),j=k.initialQuery,B=k.filterQuery,G=k.initialSelectionIds,$=G===void 0?[]:G,ne=k.showHidden,le=ne===void 0?!0:ne,ee=k.showVariants,I=ee===void 0?!0:ee,W=k.showDraft,ae=W===void 0?!0:W,de=k.showArchived,xe=de===void 0?!0:de,H=k.showDraftBadge,Y=H===void 0?!1:H,oe=k.showArchivedBadge,fe=oe===void 0?!1:oe,Ae=k.selectMultiple,Se=Ae===void 0?!0:Ae,De=k.actionVerb,Fe=De===void 0?y.Add:De;return this.initialQuery=j,this.filterQuery=B,this.initialSelectionIds=$,this.showHidden=le,this.showVariants=I,this.showDraft=ae,this.showArchived=xe,this.showDraftBadge=Y,this.showArchivedBadge=fe,this.selectMultiple=Se,this.actionVerb=Fe,P&&this.update(),this},N.prototype.dispatch=function(z,P){return z===o.OPEN?this.open():z===o.UPDATE?this.update():z===o.CLOSE||z===o.CANCEL?this.cancel():z===o.SELECT&&(this.selection=P,this.app.dispatch(b({id:this.id,selection:this.selection}))),this},N.prototype.update=function(){this.app.dispatch(M(this.payload))},N.prototype.open=function(){this.app.dispatch(S(this.payload))},N.prototype.cancel=function(){this.app.dispatch(T({id:this.id}))},N.prototype.close=function(){this.cancel()},N})(r.ActionSet);return Qe.ResourcePicker=w,Qe}var UC;function v6(){return UC||(UC=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.ResourcePicker=n.WeightUnit=n.update=n.select=n.ResourceType=n.ProductVariantInventoryPolicy=n.ProductVariantInventoryManagement=n.ProductStatus=n.open=n.FulfillmentServiceType=n.CollectionSortOrder=n.close=n.cancel=n.ActionVerb=n.Action=void 0;var e=zC();Object.defineProperty(n,"ResourcePicker",{enumerable:!0,get:function(){return e.ResourcePicker}});var t=zC();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return t.Action}}),Object.defineProperty(n,"ActionVerb",{enumerable:!0,get:function(){return t.ActionVerb}}),Object.defineProperty(n,"cancel",{enumerable:!0,get:function(){return t.cancel}}),Object.defineProperty(n,"close",{enumerable:!0,get:function(){return t.close}}),Object.defineProperty(n,"CollectionSortOrder",{enumerable:!0,get:function(){return t.CollectionSortOrder}}),Object.defineProperty(n,"FulfillmentServiceType",{enumerable:!0,get:function(){return t.FulfillmentServiceType}}),Object.defineProperty(n,"open",{enumerable:!0,get:function(){return t.open}}),Object.defineProperty(n,"ProductStatus",{enumerable:!0,get:function(){return t.ProductStatus}}),Object.defineProperty(n,"ProductVariantInventoryManagement",{enumerable:!0,get:function(){return t.ProductVariantInventoryManagement}}),Object.defineProperty(n,"ProductVariantInventoryPolicy",{enumerable:!0,get:function(){return t.ProductVariantInventoryPolicy}}),Object.defineProperty(n,"ResourceType",{enumerable:!0,get:function(){return t.ResourceType}}),Object.defineProperty(n,"select",{enumerable:!0,get:function(){return t.select}}),Object.defineProperty(n,"update",{enumerable:!0,get:function(){return t.update}}),Object.defineProperty(n,"WeightUnit",{enumerable:!0,get:function(){return t.WeightUnit}});var r=function(i,o){var l=o.resourceType,c=o.options,f=c===void 0?{}:c;return new e.ResourcePicker(i,f,l)};n.create=r})(Gy)),Gy}var Wy={},Or={},HC;function b6(){if(HC)return Or;HC=1;var n=Or&&Or.__extends||(function(){var f=function(h,p){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(m[y]=g[y])},f(h,p)};return function(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");f(h,p);function m(){this.constructor=h}h.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}})();Object.defineProperty(Or,"__esModule",{value:!0}),Or.capture=Or.openCamera=Or.Scanner=Or.Action=void 0;var e=pt(),t=Rt(),r=ht(),i;(function(f){f.OPEN_CAMERA="APP::SCANNER::OPEN::CAMERA",f.CAPTURE="APP::SCANNER::CAPTURE"})(i||(Or.Action=i={}));var o=(function(f){n(h,f);function h(p,m){return f.call(this,p,r.Group.Scanner,r.Group.Scanner,m?m.id:void 0)||this}return h.prototype.dispatch=function(p){return p===i.OPEN_CAMERA&&this.dispatchScannerAction(i.OPEN_CAMERA),this},h.prototype.dispatchScannerAction=function(p){this.app.dispatch((0,e.actionWrapper)({type:p,group:r.Group.Scanner,payload:{id:this.id}}))},h})(t.ActionSet);Or.Scanner=o;function l(){return(0,e.actionWrapper)({group:r.Group.Scanner,type:i.OPEN_CAMERA})}Or.openCamera=l;function c(f){return(0,e.actionWrapper)({group:r.Group.Scanner,type:i.CAPTURE,payload:f})}return Or.capture=c,Or}var FC;function S6(){return FC||(FC=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.capture=n.openCamera=n.Scanner=n.Action=void 0;var e=b6();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return e.Action}}),Object.defineProperty(n,"Scanner",{enumerable:!0,get:function(){return e.Scanner}}),Object.defineProperty(n,"openCamera",{enumerable:!0,get:function(){return e.openCamera}}),Object.defineProperty(n,"capture",{enumerable:!0,get:function(){return e.capture}});function t(r,i){return new e.Scanner(r,i)}n.create=t})(Wy)),Wy}var Yy={},VC;function E6(){return VC||(VC=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.respond=n.request=n.Action=void 0;var e=Sk();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return e.Action}}),Object.defineProperty(n,"request",{enumerable:!0,get:function(){return e.request}}),Object.defineProperty(n,"respond",{enumerable:!0,get:function(){return e.respond}})})(Yy)),Yy}var Ky={},Mn={},tc={},qC;function T6(){if(qC)return tc;qC=1,Object.defineProperty(tc,"__esModule",{value:!0}),tc.getGroupedButton=void 0;var n=Vh();function e(t,r,i,o){t.addChild(r,t.group,i);var l=r.id,c=r.label,f=r.disabled,h=r.buttons,p=r.plain;return t.subscribeToChild(r,n.Action.UPDATE,o),{id:l,label:c,buttons:h,disabled:f,plain:p}}return tc.getGroupedButton=e,tc}var GC;function WC(){if(GC)return Mn;GC=1;var n=Mn&&Mn.__extends||(function(){var T=function(A,M){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,x){w.__proto__=x}||function(w,x){for(var N in x)Object.prototype.hasOwnProperty.call(x,N)&&(w[N]=x[N])},T(A,M)};return function(A,M){if(typeof M!="function"&&M!==null)throw new TypeError("Class extends value "+String(M)+" is not a constructor or null");T(A,M);function w(){this.constructor=A}A.prototype=M===null?Object.create(M):(w.prototype=M.prototype,new w)}})(),e=Mn&&Mn.__assign||function(){return e=Object.assign||function(T){for(var A,M=1,w=arguments.length;M<w;M++){A=arguments[M];for(var x in A)Object.prototype.hasOwnProperty.call(A,x)&&(T[x]=A[x])}return T},e.apply(this,arguments)};Object.defineProperty(Mn,"__esModule",{value:!0}),Mn.TitleBar=Mn.update=Mn.clickBreadcrumb=Mn.clickActionButton=Mn.Action=void 0;var t=Rt(),r=Uc(),i=Vh(),o=T6(),l=gp(),c=pt(),f=ht(),h;(function(T){T.UPDATE="APP::TITLEBAR::UPDATE",T.BUTTON_CLICK="APP::TITLEBAR::BUTTONS::BUTTON::CLICK",T.BUTTON_UPDATE="APP::TITLEBAR::BUTTONS::BUTTON::UPDATE",T.BUTTON_GROUP_UPDATE="APP::TITLEBAR::BUTTONS::BUTTONGROUP::UPDATE",T.BREADCRUMBS_CLICK="APP::TITLEBAR::BREADCRUMBS::BUTTON::CLICK",T.BREADCRUMBS_UPDATE="APP::TITLEBAR::BREADCRUMBS::BUTTON::UPDATE"})(h||(Mn.Action=h={}));var p={group:f.Group.TitleBar,subgroups:["Buttons"]},m={group:f.Group.TitleBar,subgroups:["Breadcrumbs"],type:f.ComponentType.Button};function g(T,A){var M=f.ComponentType.Button,w=e({id:T,type:M},p);return(0,r.clickButton)(f.Group.TitleBar,w,A)}Mn.clickActionButton=g;function y(T,A){var M=e({id:T},m);return(0,r.clickButton)(f.Group.TitleBar,M,A)}Mn.clickBreadcrumb=y;function b(T){return(0,c.actionWrapper)({payload:T,group:f.Group.TitleBar,type:h.UPDATE})}Mn.update=b;var S=(function(T){n(A,T);function A(M,w){var x=T.call(this,M,f.Group.TitleBar,f.Group.TitleBar)||this;return!w.title&&!w.breadcrumbs&&!w.buttons||x.set(w),x}return Object.defineProperty(A.prototype,"buttons",{get:function(){if(!(!this.primary&&!this.secondary))return{primary:this.primary,secondary:this.secondary}},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"buttonsOptions",{get:function(){if(!(!this.primaryOptions&&!this.secondaryOptions))return{primary:this.primaryOptions,secondary:this.secondaryOptions}},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"options",{get:function(){return{breadcrumbs:this.breadcrumbsOption,buttons:this.buttonsOptions,title:this.title}},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"payload",{get:function(){return e(e({},this.options),{breadcrumbs:this.breadcrumb,buttons:this.buttons,id:this.id})},enumerable:!1,configurable:!0}),A.prototype.set=function(M,w){w===void 0&&(w=!0);var x=(0,c.getMergedProps)(this.options,M),N=x.title,z=x.buttons,P=x.breadcrumbs;return this.title=N,this.setBreadcrumbs(P),this.setPrimaryButton(z?z.primary:void 0),this.setSecondaryButton(z?z.secondary:void 0),w&&this.dispatch(h.UPDATE),this},A.prototype.dispatch=function(M){return M===h.UPDATE&&this.app.dispatch(b(this.payload)),this},A.prototype.getButton=function(M,w,x){return M instanceof i.ButtonGroup?(0,o.getGroupedButton)(this,M,w,x):(0,l.getSingleButton)(this,M,w,x)},A.prototype.updatePrimaryButton=function(M){this.primary&&(0,c.updateActionFromPayload)(this.primary,M)&&this.dispatch(h.UPDATE)},A.prototype.updateSecondaryButtons=function(M){if(this.secondary){var w=this.secondary.find(function(N){return N.id===M.id});if(w){var x=!1;(0,i.isGroupedButtonPayload)(M),x=(0,c.updateActionFromPayload)(w,M),x&&this.dispatch(h.UPDATE)}}},A.prototype.updateBreadcrumbButton=function(M){this.breadcrumb&&(0,c.updateActionFromPayload)(this.breadcrumb,M)&&this.dispatch(h.UPDATE)},A.prototype.setPrimaryButton=function(M){this.primaryOptions=this.getChildButton(M,this.primaryOptions),this.primary=this.primaryOptions?this.getButton(this.primaryOptions,p.subgroups,this.updatePrimaryButton):void 0},A.prototype.setSecondaryButton=function(M){var w=this,x=M||[],N=this.secondaryOptions||[];this.secondaryOptions=this.getUpdatedChildActions(x,N),this.secondary=this.secondaryOptions?this.secondaryOptions.map(function(z){return w.getButton(z,p.subgroups,w.updateSecondaryButtons)}):void 0},A.prototype.setBreadcrumbs=function(M){this.breadcrumbsOption=this.getChildButton(M,this.breadcrumbsOption),this.breadcrumb=this.breadcrumbsOption?this.getButton(this.breadcrumbsOption,m.subgroups,this.updateBreadcrumbButton):void 0},A.prototype.getChildButton=function(M,w){var x=M?[M]:[],N=w?[w]:[],z=this.getUpdatedChildActions(x,N);return z?z[0]:void 0},A})(t.ActionSetWithChildren);return Mn.TitleBar=S,Mn}var YC;function A6(){return YC||(YC=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.TitleBar=n.update=n.clickBreadcrumb=n.clickActionButton=n.Action=void 0;var e=WC();Object.defineProperty(n,"TitleBar",{enumerable:!0,get:function(){return e.TitleBar}});var t=WC();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return t.Action}}),Object.defineProperty(n,"clickActionButton",{enumerable:!0,get:function(){return t.clickActionButton}}),Object.defineProperty(n,"clickBreadcrumb",{enumerable:!0,get:function(){return t.clickBreadcrumb}}),Object.defineProperty(n,"update",{enumerable:!0,get:function(){return t.update}});function r(i,o){return new e.TitleBar(i,o)}n.create=r})(Ky)),Ky}var Zy={},KC;function O6(){return KC||(KC=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.Toast=n.primaryAction=n.clear=n.show=n.Action=void 0;var e=a0();Object.defineProperty(n,"Toast",{enumerable:!0,get:function(){return e.Toast}});var t=a0();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return t.Action}}),Object.defineProperty(n,"show",{enumerable:!0,get:function(){return t.show}}),Object.defineProperty(n,"clear",{enumerable:!0,get:function(){return t.clear}}),Object.defineProperty(n,"primaryAction",{enumerable:!0,get:function(){return t.primaryAction}});function r(i,o){return new e.Toast(i,o)}n.create=r})(Zy)),Zy}var Jy={},Yt={},ZC;function C6(){if(ZC)return Yt;ZC=1;var n=Yt&&Yt.__extends||(function(){var y=function(b,S){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,A){T.__proto__=A}||function(T,A){for(var M in A)Object.prototype.hasOwnProperty.call(A,M)&&(T[M]=A[M])},y(b,S)};return function(b,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");y(b,S);function T(){this.constructor=b}b.prototype=S===null?Object.create(S):(T.prototype=S.prototype,new T)}})(),e=Yt&&Yt.__assign||function(){return e=Object.assign||function(y){for(var b,S=1,T=arguments.length;S<T;S++){b=arguments[S];for(var A in b)Object.prototype.hasOwnProperty.call(b,A)&&(y[A]=b[A])}return y},e.apply(this,arguments)};Object.defineProperty(Yt,"__esModule",{value:!0}),Yt.ContextualSaveBar=Yt.update=Yt.discard=Yt.save=Yt.hide=Yt.show=Yt.Action=void 0;var t=pt(),r=Rt(),i=ht(),o;(function(y){y.DISCARD="APP::CONTEXTUAL_SAVE_BAR::DISCARD",y.SAVE="APP::CONTEXTUAL_SAVE_BAR::SAVE",y.SHOW="APP::CONTEXTUAL_SAVE_BAR::SHOW",y.HIDE="APP::CONTEXTUAL_SAVE_BAR::HIDE",y.UPDATE="APP::CONTEXTUAL_SAVE_BAR::UPDATE"})(o||(Yt.Action=o={}));function l(y,b){return(0,t.actionWrapper)({group:i.Group.ContextualSaveBar,type:y,payload:b})}function c(y){return l(o.SHOW,y)}Yt.show=c;function f(y){return l(o.HIDE,y)}Yt.hide=f;function h(y){return l(o.SAVE,y)}Yt.save=h;function p(y){return l(o.DISCARD,y)}Yt.discard=p;function m(y){return l(o.UPDATE,y)}Yt.update=m;var g=(function(y){n(b,y);function b(S,T){T===void 0&&(T={});var A=y.call(this,S,i.Group.ContextualSaveBar,i.Group.ContextualSaveBar)||this;return A.options=T,A.set(T,!1),A}return Object.defineProperty(b.prototype,"payload",{get:function(){return e({id:this.id},this.options)},enumerable:!1,configurable:!0}),b.prototype.set=function(S,T){T===void 0&&(T=!0);var A=(0,t.getMergedProps)(this.options,S);return this.options=A,T&&this.dispatch(o.UPDATE),this},b.prototype.dispatch=function(S){return this.app.dispatch(l(S,this.payload)),this},b})(r.ActionSet);return Yt.ContextualSaveBar=g,Yt}var JC;function M6(){return JC||(JC=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.ContextualSaveBar=n.update=n.discard=n.save=n.hide=n.show=n.Action=void 0;var e=C6();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return e.Action}}),Object.defineProperty(n,"show",{enumerable:!0,get:function(){return e.show}}),Object.defineProperty(n,"hide",{enumerable:!0,get:function(){return e.hide}}),Object.defineProperty(n,"save",{enumerable:!0,get:function(){return e.save}}),Object.defineProperty(n,"discard",{enumerable:!0,get:function(){return e.discard}}),Object.defineProperty(n,"update",{enumerable:!0,get:function(){return e.update}}),Object.defineProperty(n,"ContextualSaveBar",{enumerable:!0,get:function(){return e.ContextualSaveBar}});function t(r,i){return new e.ContextualSaveBar(r,i)}n.create=t})(Jy)),Jy}var Xy={},Wn={},XC;function QC(){if(XC)return Wn;XC=1;var n=Wn&&Wn.__extends||(function(){var h=function(p,m){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,y){g.__proto__=y}||function(g,y){for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(g[b]=y[b])},h(p,m)};return function(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");h(p,m);function g(){this.constructor=p}p.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}})(),e=Wn&&Wn.__assign||function(){return e=Object.assign||function(h){for(var p,m=1,g=arguments.length;m<g;m++){p=arguments[m];for(var y in p)Object.prototype.hasOwnProperty.call(p,y)&&(h[y]=p[y])}return h},e.apply(this,arguments)};Object.defineProperty(Wn,"__esModule",{value:!0}),Wn.close=Wn.show=Wn.Share=Wn.Action=void 0;var t=ht(),r=pt(),i=Rt(),o;(function(h){h.SHOW="APP::SHARE::SHOW",h.CLOSE="APP::SHARE::CLOSE"})(o||(Wn.Action=o={}));var l=(function(h){n(p,h);function p(m){return h.call(this,m,t.Group.Share,t.Group.Share)||this}return p.prototype.dispatch=function(m,g){switch(m){case o.SHOW:this.dispatchShareAction(o.SHOW,g);break;case o.CLOSE:this.dispatchShareAction(o.CLOSE,g);break;default:throw new Error("Action: ".concat(m," not supported"))}return this},p.prototype.dispatchShareAction=function(m,g){this.app.dispatch((0,r.actionWrapper)({type:m,group:t.Group.Share,payload:e({id:this.id},g)}))},p})(i.ActionSet);Wn.Share=l;function c(){return(0,r.actionWrapper)({group:t.Group.Share,type:o.SHOW})}Wn.show=c;function f(h){return(0,r.actionWrapper)({group:t.Group.Share,type:o.CLOSE,payload:h})}return Wn.close=f,Wn}var $C;function w6(){return $C||($C=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.Share=n.close=n.show=n.Action=void 0;var e=QC();Object.defineProperty(n,"Share",{enumerable:!0,get:function(){return e.Share}});var t=QC();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return t.Action}}),Object.defineProperty(n,"show",{enumerable:!0,get:function(){return t.show}}),Object.defineProperty(n,"close",{enumerable:!0,get:function(){return t.close}});function r(i){return new e.Share(i)}n.create=r})(Xy)),Xy}var Qy={},Cr={},Mr={},eM;function qh(){if(eM)return Mr;eM=1;var n=Mr&&Mr.__extends||(function(){var h=function(p,m){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,y){g.__proto__=y}||function(g,y){for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(g[b]=y[b])},h(p,m)};return function(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");h(p,m);function g(){this.constructor=p}p.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}})(),e=Mr&&Mr.__assign||function(){return e=Object.assign||function(h){for(var p,m=1,g=arguments.length;m<g;m++){p=arguments[m];for(var y in p)Object.prototype.hasOwnProperty.call(p,y)&&(h[y]=p[y])}return h},e.apply(this,arguments)};Object.defineProperty(Mr,"__esModule",{value:!0}),Mr.AppLink=Mr.update=Mr.Action=void 0;var t=pt(),r=Rt(),i=ht(),o=o0(),l;(function(h){h.UPDATE="UPDATE"})(l||(Mr.Action=l={}));function c(h,p,m){var g=p.id,y=m.label,b=m.destination,S=e(e({},m),{id:g,label:y,destination:b});return(0,t.actionWrapper)({group:h,type:(0,t.getEventNameSpace)(h,l.UPDATE,p),payload:S})}Mr.update=c;var f=(function(h){n(p,h);function p(m,g){var y=h.call(this,m,i.Group.Link,i.Group.Link)||this;return y.label="",y.destination="",y.set(g,!1),y}return Object.defineProperty(p.prototype,"options",{get:function(){var m=this,g=m.label,y=m.destination;return{label:g,destination:y,redirectType:o.Action.APP}},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"payload",{get:function(){var m=this.options,g=m.label,y=m.destination,b=m.redirectType,S=y;return{id:this.id,label:g,destination:{path:S},redirectType:b}},enumerable:!1,configurable:!0}),p.prototype.set=function(m,g){g===void 0&&(g=!0);var y=(0,t.getMergedProps)(this.options,m),b=y.label,S=y.destination;return this.label=b,this.destination=S,g&&this.dispatch(l.UPDATE),this},p.prototype.dispatch=function(m){if(m===l.UPDATE){var g=c(this.group,this.component,this.payload);this.app.dispatch(g)}return this},p})(r.ActionSet);return Mr.AppLink=f,Mr}var tM;function nM(){if(tM)return Cr;tM=1;var n=Cr&&Cr.__extends||(function(){var p=function(m,g){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,b){y.__proto__=b}||function(y,b){for(var S in b)Object.prototype.hasOwnProperty.call(b,S)&&(y[S]=b[S])},p(m,g)};return function(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");p(m,g);function y(){this.constructor=m}m.prototype=g===null?Object.create(g):(y.prototype=g.prototype,new y)}})(),e=Cr&&Cr.__assign||function(){return e=Object.assign||function(p){for(var m,g=1,y=arguments.length;g<y;g++){m=arguments[g];for(var b in m)Object.prototype.hasOwnProperty.call(m,b)&&(p[b]=m[b])}return p},e.apply(this,arguments)};Object.defineProperty(Cr,"__esModule",{value:!0}),Cr.NavigationMenu=Cr.update=Cr.Action=void 0;var t=qh(),r=pt(),i=Rt(),o=ht(),l=["Navigation_Menu"],c;(function(p){p.UPDATE="APP::MENU::NAVIGATION_MENU::UPDATE",p.LINK_UPDATE="APP::MENU::NAVIGATION_MENU::LINK::UPDATE"})(c||(Cr.Action=c={}));function f(p){return(0,r.actionWrapper)({payload:p,group:o.Group.Menu,type:c.UPDATE})}Cr.update=f;var h=(function(p){n(m,p);function m(g,y){var b=p.call(this,g,"Navigation_Menu",o.Group.Menu)||this;return b.items=[],b.set(y),b}return Object.defineProperty(m.prototype,"options",{get:function(){return{items:this.itemsOptions,active:this.activeOptions}},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"payload",{get:function(){return e(e({},this.options),{active:this.active,items:this.items,id:this.id})},enumerable:!1,configurable:!0}),m.prototype.set=function(g,y){y===void 0&&(y=!0);var b=(0,r.getMergedProps)(this.options,g),S=b.items,T=b.active;return this.setItems(S),this.activeOptions=T,this.active=T&&T.id,y&&this.dispatch(c.UPDATE),this},m.prototype.dispatch=function(g){return g===c.UPDATE&&this.app.dispatch(f(this.payload)),this},m.prototype.updateItem=function(g){if(this.items){var y=this.items.find(function(b){return b.id===g.id});y&&(0,r.updateActionFromPayload)(y,g)&&this.dispatch(c.UPDATE)}},m.prototype.setItems=function(g){var y=this,b=g||[],S=this.itemsOptions||[];this.itemsOptions=this.getUpdatedChildActions(b,S),this.items=this.itemsOptions?this.itemsOptions.map(function(T){return y.addChild(T,y.group,l),y.subscribeToChild(T,t.Action.UPDATE,y.updateItem),T.payload}):[]},m})(i.ActionSetWithChildren);return Cr.NavigationMenu=h,Cr}var rM;function x6(){return rM||(rM=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.NavigationMenu=n.update=n.Action=void 0;var e=nM();Object.defineProperty(n,"NavigationMenu",{enumerable:!0,get:function(){return e.NavigationMenu}});var t=nM();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return t.Action}}),Object.defineProperty(n,"update",{enumerable:!0,get:function(){return t.update}});function r(i,o){return new e.NavigationMenu(i,o)}n.create=r})(Qy)),Qy}var $y={},wr={},iM;function aM(){if(iM)return wr;iM=1;var n=wr&&wr.__extends||(function(){var p=function(m,g){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,b){y.__proto__=b}||function(y,b){for(var S in b)Object.prototype.hasOwnProperty.call(b,S)&&(y[S]=b[S])},p(m,g)};return function(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");p(m,g);function y(){this.constructor=m}m.prototype=g===null?Object.create(g):(y.prototype=g.prototype,new y)}})(),e=wr&&wr.__assign||function(){return e=Object.assign||function(p){for(var m,g=1,y=arguments.length;g<y;g++){m=arguments[g];for(var b in m)Object.prototype.hasOwnProperty.call(m,b)&&(p[b]=m[b])}return p},e.apply(this,arguments)};Object.defineProperty(wr,"__esModule",{value:!0}),wr.ChannelMenu=wr.update=wr.Action=void 0;var t=qh(),r=pt(),i=Rt(),o=ht(),l=["Channel_Menu"],c;(function(p){p.UPDATE="APP::MENU::CHANNEL_MENU::UPDATE",p.LINK_UPDATE="APP::MENU::CHANNEL_MENU::LINK::UPDATE"})(c||(wr.Action=c={}));function f(p){return(0,r.actionWrapper)({payload:p,group:o.Group.Menu,type:c.UPDATE})}wr.update=f;var h=(function(p){n(m,p);function m(g,y){var b=p.call(this,g,"Channel_Menu",o.Group.Menu)||this;return b.items=[],b.set(y),b}return Object.defineProperty(m.prototype,"options",{get:function(){return{items:this.itemsOptions,active:this.activeOptions}},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"payload",{get:function(){return e(e({},this.options),{active:this.active,items:this.items,id:this.id})},enumerable:!1,configurable:!0}),m.prototype.set=function(g,y){y===void 0&&(y=!0);var b=(0,r.getMergedProps)(this.options,g),S=b.items,T=b.active;return this.setItems(S),this.activeOptions=T,this.active=T&&T.id,y&&this.dispatch(c.UPDATE),this},m.prototype.dispatch=function(g){return g===c.UPDATE&&this.app.dispatch(f(this.payload)),this},m.prototype.updateItem=function(g){if(this.items){var y=this.items.find(function(b){return b.id===g.id});y&&(0,r.updateActionFromPayload)(y,g)&&this.dispatch(c.UPDATE)}},m.prototype.setItems=function(g){var y=this,b=g||[],S=this.itemsOptions||[];this.itemsOptions=this.getUpdatedChildActions(b,S),this.items=this.itemsOptions?this.itemsOptions.map(function(T){return y.addChild(T,y.group,l),y.subscribeToChild(T,t.Action.UPDATE,y.updateItem),T.payload}):[]},m})(i.ActionSetWithChildren);return wr.ChannelMenu=h,wr}var oM;function _6(){return oM||(oM=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.ChannelMenu=n.update=n.Action=void 0;var e=aM();Object.defineProperty(n,"ChannelMenu",{enumerable:!0,get:function(){return e.ChannelMenu}});var t=aM();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return t.Action}}),Object.defineProperty(n,"update",{enumerable:!0,get:function(){return t.update}});function r(i,o){return new e.ChannelMenu(i,o)}n.create=r})($y)),$y}var ev={},sM;function k6(){return sM||(sM=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.AppLink=n.update=n.Action=void 0;var e=qh();Object.defineProperty(n,"AppLink",{enumerable:!0,get:function(){return e.AppLink}});var t=qh();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return t.Action}}),Object.defineProperty(n,"update",{enumerable:!0,get:function(){return t.update}});function r(i,o){return new e.AppLink(i,o)}n.create=r})(ev)),ev}var tv={},ui={},lM;function uM(){if(lM)return ui;lM=1;var n=ui&&ui.__extends||(function(){var c=function(f,h){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(p[g]=m[g])},c(f,h)};return function(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");c(f,h);function p(){this.constructor=f}f.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}})();Object.defineProperty(ui,"__esModule",{value:!0}),ui.Pos=ui.close=ui.Action=void 0;var e=pt(),t=Rt(),r=ht(),i;(function(c){c.CLOSE="APP::POS::CLOSE",c.LOCATION_UPDATE="APP::POS::LOCATION::UPDATE",c.USER_UPDATE="APP::POS::USER::UPDATE",c.DEVICE_UPDATE="APP::POS::DEVICE::UPDATE"})(i||(ui.Action=i={}));function o(){return(0,e.actionWrapper)({group:r.Group.Pos,type:i.CLOSE})}ui.close=o;var l=(function(c){n(f,c);function f(h){return c.call(this,h,r.Group.Pos,r.Group.Pos)||this}return f.prototype.dispatch=function(h){return h===i.CLOSE&&this.app.dispatch(o()),this},f})(t.ActionSet);return ui.Pos=l,ui}var cM;function D6(){return cM||(cM=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.Pos=n.close=n.Action=void 0;var e=uM();Object.defineProperty(n,"Pos",{enumerable:!0,get:function(){return e.Pos}});var t=uM();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return t.Action}}),Object.defineProperty(n,"close",{enumerable:!0,get:function(){return t.close}});function r(i){return new e.Pos(i)}n.create=r})(tv)),tv}var ss={},nc={},fM;function N6(){if(fM)return nc;fM=1,Object.defineProperty(nc,"__esModule",{value:!0}),nc.Action=void 0;var n;return(function(e){e.UPDATE="APP::MARKETING_EXTERNAL_ACTIVITY_TOP_BAR::UPDATE",e.BUTTON_CLICK="APP::MARKETING_EXTERNAL_ACTIVITY_TOP_BAR::BUTTONS::BUTTON::CLICK",e.BUTTON_UPDATE="APP::MARKETING_EXTERNAL_ACTIVITY_TOP_BAR::BUTTONS::BUTTON::UPDATE"})(n||(nc.Action=n={})),nc}var nv={},dM;function R6(){return dM||(dM=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSingleButton=void 0;var e=gp();Object.defineProperty(n,"getSingleButton",{enumerable:!0,get:function(){return e.getSingleButton}})})(nv)),nv}var rv={},hM;function P6(){return hM||(hM=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.unsubscribeActions=n.ActionSetWithChildren=n.ActionSet=void 0;var e=Rt();Object.defineProperty(n,"ActionSet",{enumerable:!0,get:function(){return e.ActionSet}}),Object.defineProperty(n,"ActionSetWithChildren",{enumerable:!0,get:function(){return e.ActionSetWithChildren}}),Object.defineProperty(n,"unsubscribeActions",{enumerable:!0,get:function(){return e.unsubscribeActions}})})(rv)),rv}var pM;function j6(){return pM||(pM=1,(function(n){var e=ss&&ss.__extends||(function(){var S=function(T,A){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,w){M.__proto__=w}||function(M,w){for(var x in w)Object.prototype.hasOwnProperty.call(w,x)&&(M[x]=w[x])},S(T,A)};return function(T,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");S(T,A);function M(){this.constructor=T}T.prototype=A===null?Object.create(A):(M.prototype=A.prototype,new M)}})(),t=ss&&ss.__assign||function(){return t=Object.assign||function(S){for(var T,A=1,M=arguments.length;A<M;A++){T=arguments[A];for(var w in T)Object.prototype.hasOwnProperty.call(T,w)&&(S[w]=T[w])}return S},t.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.MarketingExternalActivityTopBar=n.update=n.clickActionButton=n.MarketingActivityStatusBadgeType=n.Action=void 0;var r=N6();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return r.Action}});var i=Ak(),o=R6(),l=Gl(),c=P6(),f=Wl(),h;(function(S){S.Default="DEFAULT",S.Success="SUCCESS",S.Attention="ATTENTION",S.Warning="WARNING",S.Info="INFO"})(h||(n.MarketingActivityStatusBadgeType=h={}));var p={group:f.Group.MarketingExternalActivityTopBar,subgroups:["Buttons"]};function m(S,T){var A=f.ComponentType.Button,M=t({id:S,type:A},p);return(0,i.clickButton)(f.Group.MarketingExternalActivityTopBar,M,T)}n.clickActionButton=m;function g(S){return(0,l.actionWrapper)({payload:S,group:f.Group.MarketingExternalActivityTopBar,type:r.Action.UPDATE})}n.update=g;var y=(function(S){e(T,S);function T(A,M){var w=S.call(this,A,f.Group.MarketingExternalActivityTopBar,f.Group.MarketingExternalActivityTopBar)||this;return w.set(M),w}return Object.defineProperty(T.prototype,"buttons",{get:function(){if(!(!this.primary&&!this.secondary))return{primary:this.primary,secondary:this.secondary}},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"buttonsOptions",{get:function(){if(!(!this.primaryOptions&&!this.secondaryOptions))return{primary:this.primaryOptions,secondary:this.secondaryOptions}},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"options",{get:function(){return{title:this.title,status:this.status,saving:this.saving,saved:this.saved,buttons:this.buttonsOptions}},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"payload",{get:function(){return t(t({},this.options),{buttons:this.buttons,id:this.id})},enumerable:!1,configurable:!0}),T.prototype.set=function(A,M){M===void 0&&(M=!0);var w=(0,l.getMergedProps)(this.options,A),x=w.title,N=w.buttons,z=w.saved,P=w.saving,k=w.status;return this.title=x,this.saving=P,this.saved=z,this.status=k,this.setPrimaryButton(N?N.primary:void 0),this.setSecondaryButtons(N?N.secondary:void 0),M&&this.dispatch(r.Action.UPDATE),this},T.prototype.dispatch=function(A){return A===r.Action.UPDATE&&this.app.dispatch(g(this.payload)),this},T.prototype.getButton=function(A,M,w){return(0,o.getSingleButton)(this,A,M,w)},T.prototype.updatePrimaryButton=function(A){this.primary&&(0,l.updateActionFromPayload)(this.primary,A)&&this.dispatch(r.Action.UPDATE)},T.prototype.updateSecondaryButtons=function(A){if(this.secondary){var M=this.secondary.find(function(x){return x.id===A.id});if(M){var w=(0,l.updateActionFromPayload)(M,A);w&&this.dispatch(r.Action.UPDATE)}}},T.prototype.setPrimaryButton=function(A){this.primaryOptions=this.getChildButton(A,this.primaryOptions),this.primary=this.primaryOptions?this.getButton(this.primaryOptions,p.subgroups,this.updatePrimaryButton):void 0},T.prototype.setSecondaryButtons=function(A){var M=this,w=A||[],x=this.secondaryOptions||[];this.secondaryOptions=this.getUpdatedChildActions(w,x),this.secondary=this.secondaryOptions?this.secondaryOptions.map(function(N){return M.getButton(N,p.subgroups,M.updateSecondaryButtons)}):void 0},T.prototype.updateSaving=function(A){this.saving=A,this.dispatch(r.Action.UPDATE)},T.prototype.updateSaved=function(A){this.saved=A,this.dispatch(r.Action.UPDATE)},T.prototype.updateStatus=function(A){this.status=A,this.dispatch(r.Action.UPDATE)},T.prototype.getChildButton=function(A,M){var w=A?[A]:[],x=M?[M]:[],N=this.getUpdatedChildActions(w,x);return N?N[0]:void 0},T})(c.ActionSetWithChildren);n.MarketingExternalActivityTopBar=y;function b(S,T){return new y(S,T)}n.create=b})(ss)),ss}var iv={},na={},mM;function L6(){if(mM)return na;mM=1,Object.defineProperty(na,"__esModule",{value:!0}),na.fullPageLoad=na.skeletonPageLoad=na.Action=void 0;var n=ht(),e=pt(),t;(function(o){o.SKELETON_PAGE_LOAD="APP::PERFORMANCE::SKELETON_PAGE_LOAD",o.FULL_PAGE_LOAD="APP::PERFORMANCE::FULL_PAGE_LOAD"})(t||(na.Action=t={}));function r(){return(0,e.actionWrapper)({group:n.Group.Performance,type:t.SKELETON_PAGE_LOAD})}na.skeletonPageLoad=r;function i(){return(0,e.actionWrapper)({group:n.Group.Performance,type:t.FULL_PAGE_LOAD})}return na.fullPageLoad=i,na}var gM;function I6(){return gM||(gM=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.fullPageLoad=n.skeletonPageLoad=n.Action=void 0;var e=L6();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return e.Action}}),Object.defineProperty(n,"skeletonPageLoad",{enumerable:!0,get:function(){return e.skeletonPageLoad}}),Object.defineProperty(n,"fullPageLoad",{enumerable:!0,get:function(){return e.fullPageLoad}})})(iv)),iv}var av={},ct={},yM;function vM(){if(yM)return ct;yM=1;var n=ct&&ct.__extends||(function(){var y=function(b,S){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,A){T.__proto__=A}||function(T,A){for(var M in A)Object.prototype.hasOwnProperty.call(A,M)&&(T[M]=A[M])},y(b,S)};return function(b,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");y(b,S);function T(){this.constructor=b}b.prototype=S===null?Object.create(S):(T.prototype=S.prototype,new T)}})(),e=ct&&ct.__assign||function(){return e=Object.assign||function(y){for(var b,S=1,T=arguments.length;S<T;S++){b=arguments[S];for(var A in b)Object.prototype.hasOwnProperty.call(b,A)&&(y[A]=b[A])}return y},e.apply(this,arguments)};Object.defineProperty(ct,"__esModule",{value:!0}),ct.unstable_Picker=ct.loadMore=ct.search=ct.update=ct.cancel=ct.open=ct.select=ct.ALL_RESOURCE_VERTICAL_ALIGNMENT=ct.ALL_MEDIA_KINDS=ct.ALL_BADGE_STATUSES=ct.ALL_BADGE_PROGRESSES=ct.Action=void 0;var t=pt(),r=Rt(),i=ht(),o;(function(y){y.OPEN="APP::PICKER::OPEN",y.SELECT="APP::PICKER::SELECT",y.UPDATE="APP::PICKER::UPDATE",y.CANCEL="APP::PICKER::CANCEL",y.SEARCH="APP::PICKER::SEARCH",y.LOAD_MORE="APP::PICKER::LOAD_MORE"})(o||(ct.Action=o={})),ct.ALL_BADGE_PROGRESSES=["incomplete","partiallyComplete","complete"],ct.ALL_BADGE_STATUSES=["success","info","attention","critical","warning","new"],ct.ALL_MEDIA_KINDS=["Avatar","Thumbnail"],ct.ALL_RESOURCE_VERTICAL_ALIGNMENT=["leading","trailing","center"];function l(y){return(0,t.actionWrapper)({payload:y,group:i.Group.unstable_Picker,type:o.SELECT})}ct.select=l;function c(y){return(0,t.actionWrapper)({payload:y,group:i.Group.unstable_Picker,type:o.OPEN})}ct.open=c;function f(y){return(0,t.actionWrapper)({payload:y,group:i.Group.unstable_Picker,type:o.CANCEL})}ct.cancel=f;function h(y){return(0,t.actionWrapper)({payload:y,group:i.Group.unstable_Picker,type:o.UPDATE})}ct.update=h;function p(y){return(0,t.actionWrapper)({payload:y,group:i.Group.unstable_Picker,type:o.SEARCH})}ct.search=p;function m(y){return(0,t.actionWrapper)({payload:y,group:i.Group.unstable_Picker,type:o.LOAD_MORE})}ct.loadMore=m;var g=(function(y){n(b,y);function b(S,T){var A=y.call(this,S,i.Group.unstable_Picker,i.Group.unstable_Picker)||this;return A.items=[],A.selectedItems=[],A.set(T,!1),A}return Object.defineProperty(b.prototype,"payload",{get:function(){return e(e({},this.options),{id:this.id})},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"options",{get:function(){return{items:this.items,maxSelectable:this.maxSelectable,selectedItems:this.selectedItems,title:this.title,loading:this.loading,searchQuery:this.searchQuery,searchQueryPlaceholder:this.searchQueryPlaceholder,primaryActionLabel:this.primaryActionLabel,secondaryActionLabel:this.secondaryActionLabel,emptySearchLabel:this.emptySearchLabel,canLoadMore:this.canLoadMore,loadingMore:this.loadingMore,verticalAlignment:this.verticalAlignment,allowEmptySelection:this.allowEmptySelection,resourceName:this.resourceName}},enumerable:!1,configurable:!0}),b.prototype.set=function(S,T){T===void 0&&(T=!0);var A=(0,t.getMergedProps)(this.options,S),M=A.selectedItems,w=M===void 0?[]:M,x=A.maxSelectable,N=x===void 0?0:x,z=A.items,P=z===void 0?[]:z,k=A.loading,j=k===void 0?!1:k,B=A.title,G=A.searchQuery,$=A.searchQueryPlaceholder,ne=A.primaryActionLabel,le=A.secondaryActionLabel,ee=A.emptySearchLabel,I=A.canLoadMore,W=I===void 0?!1:I,ae=A.loadingMore,de=ae===void 0?!1:ae,xe=A.verticalAlignment,H=A.allowEmptySelection,Y=A.resourceName;return this.title=B,this.items=P,this.selectedItems=w,this.maxSelectable=N,this.loading=j,this.searchQuery=G,this.searchQueryPlaceholder=$,this.primaryActionLabel=ne,this.secondaryActionLabel=le,this.emptySearchLabel=ee,this.canLoadMore=W,this.loadingMore=de,this.verticalAlignment=xe,this.allowEmptySelection=H,this.resourceName=Y,T&&this.update(),this},b.prototype.dispatch=function(S,T){return S===o.OPEN?this.open():S===o.UPDATE?this.update():S===o.CANCEL?this.cancel():S===o.SELECT?(this.selectedItems=T?.selectedItems||[],this.app.dispatch(l({id:this.id,selectedItems:this.selectedItems}))):S===o.SEARCH?(this.searchQuery=T?.searchQuery||"",this.app.dispatch(p({id:this.id,searchQuery:this.searchQuery}))):S===o.LOAD_MORE&&this.loadMore(),this},b.prototype.update=function(){this.app.dispatch(h(this.payload))},b.prototype.open=function(){this.app.dispatch(c(this.payload))},b.prototype.cancel=function(){this.app.dispatch(f({id:this.id}))},b.prototype.loadMore=function(){this.app.dispatch(m(this.payload))},b})(r.ActionSet);return ct.unstable_Picker=g,ct}var bM;function B6(){return bM||(bM=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.unstable_Picker=n.update=n.select=n.search=n.open=n.loadMore=n.cancel=n.ALL_RESOURCE_VERTICAL_ALIGNMENT=n.ALL_MEDIA_KINDS=n.ALL_BADGE_STATUSES=n.ALL_BADGE_PROGRESSES=n.Action=void 0;var e=vM();Object.defineProperty(n,"unstable_Picker",{enumerable:!0,get:function(){return e.unstable_Picker}});var t=vM();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return t.Action}}),Object.defineProperty(n,"ALL_BADGE_PROGRESSES",{enumerable:!0,get:function(){return t.ALL_BADGE_PROGRESSES}}),Object.defineProperty(n,"ALL_BADGE_STATUSES",{enumerable:!0,get:function(){return t.ALL_BADGE_STATUSES}}),Object.defineProperty(n,"ALL_MEDIA_KINDS",{enumerable:!0,get:function(){return t.ALL_MEDIA_KINDS}}),Object.defineProperty(n,"ALL_RESOURCE_VERTICAL_ALIGNMENT",{enumerable:!0,get:function(){return t.ALL_RESOURCE_VERTICAL_ALIGNMENT}}),Object.defineProperty(n,"cancel",{enumerable:!0,get:function(){return t.cancel}}),Object.defineProperty(n,"loadMore",{enumerable:!0,get:function(){return t.loadMore}}),Object.defineProperty(n,"open",{enumerable:!0,get:function(){return t.open}}),Object.defineProperty(n,"search",{enumerable:!0,get:function(){return t.search}}),Object.defineProperty(n,"select",{enumerable:!0,get:function(){return t.select}}),Object.defineProperty(n,"update",{enumerable:!0,get:function(){return t.update}});var r=function(i,o){return new e.unstable_Picker(i,o)};n.create=r})(av)),av}var ov={},SM;function z6(){return SM||(SM=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isFromApp=n.isPerformanceOrWebVitalsAction=n.getPermissionKey=n.isPermitted=n.isAppMessage=n.isAppBridgeAction=void 0;var e=hk();Object.defineProperty(n,"isAppBridgeAction",{enumerable:!0,get:function(){return e.isAppBridgeAction}}),Object.defineProperty(n,"isAppMessage",{enumerable:!0,get:function(){return e.isAppMessage}}),Object.defineProperty(n,"isPermitted",{enumerable:!0,get:function(){return e.isPermitted}}),Object.defineProperty(n,"getPermissionKey",{enumerable:!0,get:function(){return e.getPermissionKey}}),Object.defineProperty(n,"isPerformanceOrWebVitalsAction",{enumerable:!0,get:function(){return e.isPerformanceOrWebVitalsAction}});function t(r){return typeof r!="object"||typeof r.source!="object"?!1:typeof r.source.apiKey=="string"}n.isFromApp=t})(ov)),ov}var EM;function U6(){return EM||(EM=1,(function(n){var e=li&&li.__createBinding||(Object.create?(function(Y,oe,fe,Ae){Ae===void 0&&(Ae=fe);var Se=Object.getOwnPropertyDescriptor(oe,fe);(!Se||("get"in Se?!oe.__esModule:Se.writable||Se.configurable))&&(Se={enumerable:!0,get:function(){return oe[fe]}}),Object.defineProperty(Y,Ae,Se)}):(function(Y,oe,fe,Ae){Ae===void 0&&(Ae=fe),Y[Ae]=oe[fe]})),t=li&&li.__setModuleDefault||(Object.create?(function(Y,oe){Object.defineProperty(Y,"default",{enumerable:!0,value:oe})}):function(Y,oe){Y.default=oe}),r=li&&li.__importStar||function(Y){if(Y&&Y.__esModule)return Y;var oe={};if(Y!=null)for(var fe in Y)fe!=="default"&&Object.prototype.hasOwnProperty.call(Y,fe)&&e(oe,Y,fe);return t(oe,Y),oe},i=li&&li.__exportStar||function(Y,oe){for(var fe in Y)fe!=="default"&&!Object.prototype.hasOwnProperty.call(oe,fe)&&e(oe,Y,fe)};Object.defineProperty(n,"__esModule",{value:!0}),n.WebVitals=n.unstable_Picker=n.Performance=n.Pos=n.AppLink=n.ChannelMenu=n.NavigationMenu=n.Share=n.ContextualSaveBar=n.MarketingExternalActivityTopBar=n.TitleBar=n.SessionToken=n.ResourcePicker=n.Redirect=n.Print=n.ModalContent=n.Modal=n.Loading=n.LeaveConfirmation=n.History=n.Toast=n.Fullscreen=n.FeedbackModal=n.Features=n.Flash=n.Error=n.Client=n.Cart=n.Scanner=n.ButtonGroup=n.Button=n.AuthCode=n.isAppBridgeAction=void 0;var o=r(Tk());n.AuthCode=o;var l=r(Ak());n.Button=l;var c=r(t6());n.ButtonGroup=c;var f=r(r6());n.Cart=f;var h=r(pk());n.Client=h;var p=r(mp());n.Error=p;var m=r(a6());n.Flash=m;var g=r(u6());n.Features=g;var y=r(f6());n.FeedbackModal=y;var b=r(d6());n.Fullscreen=b;var S=r(h6());n.LeaveConfirmation=S;var T=r(p6());n.Loading=T;var A=r(bk());n.Modal=A;var M=r(m6());n.ModalContent=M;var w=r(g6());n.History=w;var x=r(y6());n.Redirect=x;var N=r(dk());n.Print=N;var z=r(v6());n.ResourcePicker=z;var P=r(S6());n.Scanner=P;var k=r(E6());n.SessionToken=k;var j=r(A6());n.TitleBar=j;var B=r(O6());n.Toast=B;var G=r(M6());n.ContextualSaveBar=G;var $=r(w6());n.Share=$;var ne=r(x6());n.NavigationMenu=ne;var le=r(_6());n.ChannelMenu=le;var ee=r(k6());n.AppLink=ee;var I=r(D6());n.Pos=I;var W=r(j6());n.MarketingExternalActivityTopBar=W;var ae=r(I6());n.Performance=ae;var de=r(B6());n.unstable_Picker=de;var xe=r(mk());n.WebVitals=xe;var H=z6();Object.defineProperty(n,"isAppBridgeAction",{enumerable:!0,get:function(){return H.isAppBridgeAction}}),i(Wl(),n)})(li)),li}var TM;function H6(){if(TM)return Er;TM=1;var n=Er&&Er.__assign||function(){return n=Object.assign||function(c){for(var f,h=1,p=arguments.length;h<p;h++){f=arguments[h];for(var m in f)Object.prototype.hasOwnProperty.call(f,m)&&(c[m]=f[m])}return c},n.apply(this,arguments)},e=Er&&Er.__awaiter||function(c,f,h,p){function m(g){return g instanceof h?g:new h(function(y){y(g)})}return new(h||(h=Promise))(function(g,y){function b(A){try{T(p.next(A))}catch(M){y(M)}}function S(A){try{T(p.throw(A))}catch(M){y(M)}}function T(A){A.done?g(A.value):m(A.value).then(b,S)}T((p=p.apply(c,f||[])).next())})},t=Er&&Er.__generator||function(c,f){var h={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},p,m,g,y;return y={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function b(T){return function(A){return S([T,A])}}function S(T){if(p)throw new TypeError("Generator is already executing.");for(;y&&(y=0,T[0]&&(h=0)),h;)try{if(p=1,m&&(g=T[0]&2?m.return:T[0]?m.throw||((g=m.return)&&g.call(m),0):m.next)&&!(g=g.call(m,T[1])).done)return g;switch(m=0,g&&(T=[T[0]&2,g.value]),T[0]){case 0:case 1:g=T;break;case 4:return h.label++,{value:T[1],done:!1};case 5:h.label++,m=T[1],T=[0];continue;case 7:T=h.ops.pop(),h.trys.pop();continue;default:if(g=h.trys,!(g=g.length>0&&g[g.length-1])&&(T[0]===6||T[0]===2)){h=0;continue}if(T[0]===3&&(!g||T[1]>g[0]&&T[1]<g[3])){h.label=T[1];break}if(T[0]===6&&h.label<g[1]){h.label=g[1],g=T;break}if(g&&h.label<g[2]){h.label=g[2],h.ops.push(T);break}g[2]&&h.ops.pop(),h.trys.pop();continue}T=f.call(c,h)}catch(A){T=[6,A],m=0}finally{p=g=0}if(T[0]&5)throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}},r=Er&&Er.__spreadArray||function(c,f,h){if(h||arguments.length===2)for(var p=0,m=f.length,g;p<m;p++)(g||!(p in f))&&(g||(g=Array.prototype.slice.call(f,0,p)),g[p]=f[p]);return c.concat(g||Array.prototype.slice.call(f))};Object.defineProperty(Er,"__esModule",{value:!0}),Er.authenticatedFetch=void 0;var i=U6(),o=Ek();function l(c,f){var h=this;return f===void 0&&(f=void 0),function(p){for(var m=[],g=1;g<arguments.length;g++)m[g-1]=arguments[g];return e(h,r([p],m,!0),void 0,function(y,b){var S,T,A,M,w,x,N,z,P;return b===void 0&&(b={}),t(this,function(k){switch(k.label){case 0:return[4,(0,o.getSessionToken)(c)];case 1:return S=k.sent(),T=new Headers(b.headers),T.append("Authorization","Bearer ".concat(S)),T.append("X-Requested-With","XMLHttpRequest"),A={},T.forEach(function(j,B){A[B]=j}),M=typeof f=="object"?f:void 0,w=typeof f=="function"?f:(P=M?.fetchOperation)!==null&&P!==void 0?P:fetch,[4,w(y,n(n({},b),{headers:A}))];case 2:return x=k.sent(),M&&(N=M.reauthorizeUrl,z=M.requestFailureReauthorizeUrlHeader,x.headers.forEach(function(j,B){if(z.toLowerCase()===B.toLowerCase()){var G=new URL(N||j,location.href).href,$=i.Redirect.create(c);G?$.dispatch(i.Redirect.Action.REMOTE,G):console.warn("Couldn't find a fallback auth path to redirect to.")}})),[2,x]}})})}}return Er.authenticatedFetch=l,Er}var AM;function F6(){return AM||(AM=1,(function(n){var e=ts&&ts.__createBinding||(Object.create?(function(r,i,o,l){l===void 0&&(l=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(r,l,c)}):(function(r,i,o,l){l===void 0&&(l=o),r[l]=i[o]})),t=ts&&ts.__exportStar||function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,r,o)};Object.defineProperty(n,"__esModule",{value:!0}),t(Ek(),n),t(H6(),n)})(ts)),ts}var ls={},wn={},sv={},OM;function V6(){return OM||(OM=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.generateUuid=void 0;var e=vk();Object.defineProperty(n,"generateUuid",{enumerable:!0,get:function(){return e.generateUuid}}),n.default=e.generateUuid})(sv)),sv}var CM;function Mk(){if(CM)return wn;CM=1;var n=wn&&wn.__createBinding||(Object.create?(function(p,m,g,y){y===void 0&&(y=g);var b=Object.getOwnPropertyDescriptor(m,g);(!b||("get"in b?!m.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return m[g]}}),Object.defineProperty(p,y,b)}):(function(p,m,g,y){y===void 0&&(y=g),p[y]=m[g]})),e=wn&&wn.__setModuleDefault||(Object.create?(function(p,m){Object.defineProperty(p,"default",{enumerable:!0,value:m})}):function(p,m){p.default=m}),t=wn&&wn.__importStar||function(p){if(p&&p.__esModule)return p;var m={};if(p!=null)for(var g in p)g!=="default"&&Object.prototype.hasOwnProperty.call(p,g)&&n(m,p,g);return e(m,p),m},r=wn&&wn.__awaiter||function(p,m,g,y){function b(S){return S instanceof g?S:new g(function(T){T(S)})}return new(g||(g=Promise))(function(S,T){function A(x){try{w(y.next(x))}catch(N){T(N)}}function M(x){try{w(y.throw(x))}catch(N){T(N)}}function w(x){x.done?S(x.value):b(x.value).then(A,M)}w((y=y.apply(p,m||[])).next())})},i=wn&&wn.__generator||function(p,m){var g={label:0,sent:function(){if(S[0]&1)throw S[1];return S[1]},trys:[],ops:[]},y,b,S,T;return T={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function A(w){return function(x){return M([w,x])}}function M(w){if(y)throw new TypeError("Generator is already executing.");for(;T&&(T=0,w[0]&&(g=0)),g;)try{if(y=1,b&&(S=w[0]&2?b.return:w[0]?b.throw||((S=b.return)&&S.call(b),0):b.next)&&!(S=S.call(b,w[1])).done)return S;switch(b=0,S&&(w=[w[0]&2,S.value]),w[0]){case 0:case 1:S=w;break;case 4:return g.label++,{value:w[1],done:!1};case 5:g.label++,b=w[1],w=[0];continue;case 7:w=g.ops.pop(),g.trys.pop();continue;default:if(S=g.trys,!(S=S.length>0&&S[S.length-1])&&(w[0]===6||w[0]===2)){g=0;continue}if(w[0]===3&&(!S||w[1]>S[0]&&w[1]<S[3])){g.label=w[1];break}if(w[0]===6&&g.label<S[1]){g.label=S[1],S=w;break}if(S&&g.label<S[2]){g.label=S[2],g.ops.push(w);break}S[2]&&g.ops.pop(),g.trys.pop();continue}w=m.call(p,g)}catch(x){w=[6,x],b=0}finally{y=S=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},o=wn&&wn.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(wn,"__esModule",{value:!0}),wn.getAuthorizationCodePayload=void 0;var l=t(Tk()),c=mp(),f=o(V6());function h(p){return r(this,void 0,void 0,function(){return i(this,function(m){return[2,new Promise(function(g,y){var b=(0,f.default)(),S=p.subscribe(l.Action.RESPOND,function(T){T?.status==="needsExchange"?g(T):y((0,c.fromAction)("Failed to retrieve an authorization code",c.Action.FAILED_AUTHENTICATION)),S()},b);p.dispatch(l.request(b))})]})})}return wn.getAuthorizationCodePayload=h,wn}var ra={},MM;function q6(){if(MM)return ra;MM=1;var n=ra&&ra.__awaiter||function(l,c,f,h){function p(m){return m instanceof f?m:new f(function(g){g(m)})}return new(f||(f=Promise))(function(m,g){function y(T){try{S(h.next(T))}catch(A){g(A)}}function b(T){try{S(h.throw(T))}catch(A){g(A)}}function S(T){T.done?m(T.value):p(T.value).then(y,b)}S((h=h.apply(l,c||[])).next())})},e=ra&&ra.__generator||function(l,c){var f={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},h,p,m,g;return g={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function y(S){return function(T){return b([S,T])}}function b(S){if(h)throw new TypeError("Generator is already executing.");for(;g&&(g=0,S[0]&&(f=0)),f;)try{if(h=1,p&&(m=S[0]&2?p.return:S[0]?p.throw||((m=p.return)&&m.call(p),0):p.next)&&!(m=m.call(p,S[1])).done)return m;switch(p=0,m&&(S=[S[0]&2,m.value]),S[0]){case 0:case 1:m=S;break;case 4:return f.label++,{value:S[1],done:!1};case 5:f.label++,p=S[1],S=[0];continue;case 7:S=f.ops.pop(),f.trys.pop();continue;default:if(m=f.trys,!(m=m.length>0&&m[m.length-1])&&(S[0]===6||S[0]===2)){f=0;continue}if(S[0]===3&&(!m||S[1]>m[0]&&S[1]<m[3])){f.label=S[1];break}if(S[0]===6&&f.label<m[1]){f.label=m[1],m=S;break}if(m&&f.label<m[2]){f.label=m[2],f.ops.push(S);break}m[2]&&f.ops.pop(),f.trys.pop();continue}S=c.call(l,f)}catch(T){S=[6,T],p=0}finally{h=m=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}};Object.defineProperty(ra,"__esModule",{value:!0}),ra.userAuthorizedFetch=void 0;var t=Mk(),r="auth/shopify/callback";function i(l){var c=l.headers.get("X-Shopify-API-Request-Failure-Unauthorized");return c?c.toLowerCase()==="true":!1}function o(l){var c=this,f=l.app,h=l.callbackUri,p=h===void 0?r:h,m=l.isAuthorizationCodeRequired,g=m===void 0?i:m,y=l.fetchOperation;return function(b,S){return n(c,void 0,void 0,function(){var T,A,M,w,x,N,z,P;return e(this,function(k){switch(k.label){case 0:return[4,y(b,S)];case 1:return T=k.sent(),g(T)?[4,(0,t.getAuthorizationCodePayload)(f)]:[2,T];case 2:return A=k.sent(),M=A.code,w=A.hmac,x=A.shop,N=A.timestamp,z=encodeURI("https://".concat(window.location.hostname,"/").concat(p,"?code=").concat(M,"&hmac=").concat(w,"&shop=").concat(x,"&timestamp=").concat(N)),[4,y(z,{})];case 3:if(P=k.sent(),!P.ok)throw new Error("Failed to authorize request.");return[2,y(b,S)]}})})}}return ra.userAuthorizedFetch=o,ra}var wM;function G6(){return wM||(wM=1,(function(n){var e=ls&&ls.__createBinding||(Object.create?(function(r,i,o,l){l===void 0&&(l=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(r,l,c)}):(function(r,i,o,l){l===void 0&&(l=o),r[l]=i[o]})),t=ls&&ls.__exportStar||function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,r,o)};Object.defineProperty(n,"__esModule",{value:!0}),t(Mk(),n),t(q6(),n)})(ls)),ls}var xM;function W6(){return xM||(xM=1,(function(n){var e=es&&es.__createBinding||(Object.create?(function(r,i,o,l){l===void 0&&(l=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(r,l,c)}):(function(r,i,o,l){l===void 0&&(l=o),r[l]=i[o]})),t=es&&es.__exportStar||function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,r,o)};Object.defineProperty(n,"__esModule",{value:!0}),t(e6(),n),t(mb(),n),t(F6(),n),t(G6(),n)})(es)),es}var Y6=W6();const K6=()=>document.querySelector('meta[name="shopify-api-key"]')?.getAttribute("content")||"",Z6=()=>{const e=new URLSearchParams(window.location.search).get("host")||"";return e?(sessionStorage.setItem("shopify_host",e),e):sessionStorage.getItem("shopify_host")||""},Nt=()=>{const n=K6(),e=Z6(),t=$4({apiKey:n,host:e,forceRedirect:!0});return Y6.authenticatedFetch(t)};let J6={data:""},X6=n=>{if(typeof window=="object"){let e=(n?n.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(n||document.head).appendChild(e),e.firstChild}return n||J6},Q6=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,$6=/\/\*[^]*?\*\/|  +/g,_M=/\n+/g,to=(n,e)=>{let t="",r="",i="";for(let o in n){let l=n[o];o[0]=="@"?o[1]=="i"?t=o+" "+l+";":r+=o[1]=="f"?to(l,o):o+"{"+to(l,o[1]=="k"?"":e)+"}":typeof l=="object"?r+=to(l,e?e.replace(/([^,])+/g,c=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,c):c?c+" "+f:f)):o):l!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=to.p?to.p(o,l):o+":"+l+";")}return t+(e&&i?e+"{"+i+"}":i)+r},ia={},wk=n=>{if(typeof n=="object"){let e="";for(let t in n)e+=t+wk(n[t]);return e}return n},eH=(n,e,t,r,i)=>{let o=wk(n),l=ia[o]||(ia[o]=(f=>{let h=0,p=11;for(;h<f.length;)p=101*p+f.charCodeAt(h++)>>>0;return"go"+p})(o));if(!ia[l]){let f=o!==n?n:(h=>{let p,m,g=[{}];for(;p=Q6.exec(h.replace($6,""));)p[4]?g.shift():p[3]?(m=p[3].replace(_M," ").trim(),g.unshift(g[0][m]=g[0][m]||{})):g[0][p[1]]=p[2].replace(_M," ").trim();return g[0]})(n);ia[l]=to(i?{["@keyframes "+l]:f}:f,t?"":"."+l)}let c=t&&ia.g?ia.g:null;return t&&(ia.g=ia[l]),((f,h,p,m)=>{m?h.data=h.data.replace(m,f):h.data.indexOf(f)===-1&&(h.data=p?f+h.data:h.data+f)})(ia[l],e,r,c),l},tH=(n,e,t)=>n.reduce((r,i,o)=>{let l=e[o];if(l&&l.call){let c=l(t),f=c&&c.props&&c.props.className||/^go/.test(c)&&c;l=f?"."+f:c&&typeof c=="object"?c.props?"":to(c,""):c===!1?"":c}return r+i+(l??"")},"");function yp(n){let e=this||{},t=n.call?n(e.p):n;return eH(t.unshift?t.raw?tH(t,[].slice.call(arguments,1),e.p):t.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):t,X6(e.target),e.g,e.o,e.k)}let xk,s0,l0;yp.bind({g:1});let pa=yp.bind({k:1});function nH(n,e,t,r){to.p=e,xk=n,s0=t,l0=r}function bo(n,e){let t=this||{};return function(){let r=arguments;function i(o,l){let c=Object.assign({},o),f=c.className||i.className;t.p=Object.assign({theme:s0&&s0()},c),t.o=/ *go\d+/.test(f),c.className=yp.apply(t,r)+(f?" "+f:"");let h=n;return n[0]&&(h=c.as||n,delete c.as),l0&&h[0]&&l0(c),xk(h,c)}return i}}var rH=n=>typeof n=="function",Gh=(n,e)=>rH(n)?n(e):n,iH=(()=>{let n=0;return()=>(++n).toString()})(),_k=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),aH=20,gb="default",kk=(n,e)=>{let{toastLimit:t}=n.settings;switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,t)};case 1:return{...n,toasts:n.toasts.map(l=>l.id===e.toast.id?{...l,...e.toast}:l)};case 2:let{toast:r}=e;return kk(n,{type:n.toasts.find(l=>l.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=e;return{...n,toasts:n.toasts.map(l=>l.id===i||i===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(l=>l.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let o=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+o}))}}},Kd=[],Dk={toasts:[],pausedAt:void 0,settings:{toastLimit:aH}},Mi={},Nk=(n,e=gb)=>{Mi[e]=kk(Mi[e]||Dk,n),Kd.forEach(([t,r])=>{t===e&&r(Mi[e])})},Rk=n=>Object.keys(Mi).forEach(e=>Nk(n,e)),oH=n=>Object.keys(Mi).find(e=>Mi[e].toasts.some(t=>t.id===n)),vp=(n=gb)=>e=>{Nk(e,n)},sH={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},lH=(n={},e=gb)=>{let[t,r]=L.useState(Mi[e]||Dk),i=L.useRef(Mi[e]);L.useEffect(()=>(i.current!==Mi[e]&&r(Mi[e]),Kd.push([e,r]),()=>{let l=Kd.findIndex(([c])=>c===e);l>-1&&Kd.splice(l,1)}),[e]);let o=t.toasts.map(l=>{var c,f,h;return{...n,...n[l.type],...l,removeDelay:l.removeDelay||((c=n[l.type])==null?void 0:c.removeDelay)||n?.removeDelay,duration:l.duration||((f=n[l.type])==null?void 0:f.duration)||n?.duration||sH[l.type],style:{...n.style,...(h=n[l.type])==null?void 0:h.style,...l.style}}});return{...t,toasts:o}},uH=(n,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...t,id:t?.id||iH()}),Xc=n=>(e,t)=>{let r=uH(e,n,t);return vp(r.toasterId||oH(r.id))({type:2,toast:r}),r.id},ln=(n,e)=>Xc("blank")(n,e);ln.error=Xc("error");ln.success=Xc("success");ln.loading=Xc("loading");ln.custom=Xc("custom");ln.dismiss=(n,e)=>{let t={type:3,toastId:n};e?vp(e)(t):Rk(t)};ln.dismissAll=n=>ln.dismiss(void 0,n);ln.remove=(n,e)=>{let t={type:4,toastId:n};e?vp(e)(t):Rk(t)};ln.removeAll=n=>ln.remove(void 0,n);ln.promise=(n,e,t)=>{let r=ln.loading(e.loading,{...t,...t?.loading});return typeof n=="function"&&(n=n()),n.then(i=>{let o=e.success?Gh(e.success,i):void 0;return o?ln.success(o,{id:r,...t,...t?.success}):ln.dismiss(r),i}).catch(i=>{let o=e.error?Gh(e.error,i):void 0;o?ln.error(o,{id:r,...t,...t?.error}):ln.dismiss(r)}),n};var cH=1e3,fH=(n,e="default")=>{let{toasts:t,pausedAt:r}=lH(n,e),i=L.useRef(new Map).current,o=L.useCallback((m,g=cH)=>{if(i.has(m))return;let y=setTimeout(()=>{i.delete(m),l({type:4,toastId:m})},g);i.set(m,y)},[]);L.useEffect(()=>{if(r)return;let m=Date.now(),g=t.map(y=>{if(y.duration===1/0)return;let b=(y.duration||0)+y.pauseDuration-(m-y.createdAt);if(b<0){y.visible&&ln.dismiss(y.id);return}return setTimeout(()=>ln.dismiss(y.id,e),b)});return()=>{g.forEach(y=>y&&clearTimeout(y))}},[t,r,e]);let l=L.useCallback(vp(e),[e]),c=L.useCallback(()=>{l({type:5,time:Date.now()})},[l]),f=L.useCallback((m,g)=>{l({type:1,toast:{id:m,height:g}})},[l]),h=L.useCallback(()=>{r&&l({type:6,time:Date.now()})},[r,l]),p=L.useCallback((m,g)=>{let{reverseOrder:y=!1,gutter:b=8,defaultPosition:S}=g||{},T=t.filter(w=>(w.position||S)===(m.position||S)&&w.height),A=T.findIndex(w=>w.id===m.id),M=T.filter((w,x)=>x<A&&w.visible).length;return T.filter(w=>w.visible).slice(...y?[M+1]:[0,M]).reduce((w,x)=>w+(x.height||0)+b,0)},[t]);return L.useEffect(()=>{t.forEach(m=>{if(m.dismissed)o(m.id,m.removeDelay);else{let g=i.get(m.id);g&&(clearTimeout(g),i.delete(m.id))}})},[t,o]),{toasts:t,handlers:{updateHeight:f,startPause:c,endPause:h,calculateOffset:p}}},dH=pa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,hH=pa`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,pH=pa`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,mH=bo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${dH} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${hH} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${pH} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,gH=pa`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,yH=bo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${gH} 1s linear infinite;
`,vH=pa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,bH=pa`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,SH=bo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${vH} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${bH} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,EH=bo("div")`
  position: absolute;
`,TH=bo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,AH=pa`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,OH=bo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${AH} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,CH=({toast:n})=>{let{icon:e,type:t,iconTheme:r}=n;return e!==void 0?typeof e=="string"?L.createElement(OH,null,e):e:t==="blank"?null:L.createElement(TH,null,L.createElement(yH,{...r}),t!=="loading"&&L.createElement(EH,null,t==="error"?L.createElement(mH,{...r}):L.createElement(SH,{...r})))},MH=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,wH=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,xH="0%{opacity:0;} 100%{opacity:1;}",_H="0%{opacity:1;} 100%{opacity:0;}",kH=bo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,DH=bo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,NH=(n,e)=>{let t=n.includes("top")?1:-1,[r,i]=_k()?[xH,_H]:[MH(t),wH(t)];return{animation:e?`${pa(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${pa(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},RH=L.memo(({toast:n,position:e,style:t,children:r})=>{let i=n.height?NH(n.position||e||"top-center",n.visible):{opacity:0},o=L.createElement(CH,{toast:n}),l=L.createElement(DH,{...n.ariaProps},Gh(n.message,n));return L.createElement(kH,{className:n.className,style:{...i,...t,...n.style}},typeof r=="function"?r({icon:o,message:l}):L.createElement(L.Fragment,null,o,l))});nH(L.createElement);var PH=({id:n,className:e,style:t,onHeightUpdate:r,children:i})=>{let o=L.useCallback(l=>{if(l){let c=()=>{let f=l.getBoundingClientRect().height;r(n,f)};c(),new MutationObserver(c).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[n,r]);return L.createElement("div",{ref:o,className:e,style:t},i)},jH=(n,e)=>{let t=n.includes("top"),r=t?{top:0}:{bottom:0},i=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:_k()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...r,...i}},LH=yp`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Nd=16,Pk=({reverseOrder:n,position:e="top-center",toastOptions:t,gutter:r,children:i,toasterId:o,containerStyle:l,containerClassName:c})=>{let{toasts:f,handlers:h}=fH(t,o);return L.createElement("div",{"data-rht-toaster":o||"",style:{position:"fixed",zIndex:9999,top:Nd,left:Nd,right:Nd,bottom:Nd,pointerEvents:"none",...l},className:c,onMouseEnter:h.startPause,onMouseLeave:h.endPause},f.map(p=>{let m=p.position||e,g=h.calculateOffset(p,{reverseOrder:n,gutter:r,defaultPosition:e}),y=jH(m,g);return L.createElement(PH,{id:p.id,key:p.id,onHeightUpdate:h.updateHeight,className:p.visible?LH:"",style:y},p.type==="custom"?Gh(p.message,p):i?i(p):L.createElement(RH,{toast:p,position:m}))}))},ve=ln;const Ac=({title:n="Email Template",showCalendarId:e=!0,value:t,onChange:r})=>{const[i,o]=L.useState(""),l=t||{calendarId:"",subject:"",html:""},c=(h,p)=>{r?.({...l,[h]:p})},f=async()=>{const h=String(i||"").trim();if(!h)return ve.error("Enter receiver email");const p=ve.loading("Sending test...");try{const m=Nt(),g={to:h,subject:l.subject||"",html:l.html||""},y=await m("/api/email-templates/test",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)}),b=await y.json().catch(()=>null);if(ve.dismiss(p),!y.ok||!b?.ok){ve.error("Test failed"),console.log("[test] failed",y.status,b);return}ve.success("Test sent")}catch(m){ve.dismiss(p),ve.error("Test error"),console.log("[test] error",m)}};return C.jsxs("div",{className:"email-layout",children:[C.jsxs("div",{className:"panel",children:[C.jsx("div",{className:"panel-title",children:n}),e?C.jsxs("div",{className:"field",children:[C.jsx("label",{className:"label",children:"AddEvent Calendar ID"}),C.jsx("input",{value:l.calendarId||"",onChange:h=>c("calendarId",h.target.value),className:"input",placeholder:"e.g. cal_xxxxx"})]}):null,C.jsxs("div",{className:"field",children:[C.jsx("label",{className:"label",children:"Subject"}),C.jsx("input",{value:l.subject||"",onChange:h=>c("subject",h.target.value),className:"input",placeholder:"e.g. Welcome to the Wheel"})]}),C.jsx(P4,{value:l.html||"",onChange:h=>c("html",h)})]}),C.jsxs("div",{className:"panel",children:[C.jsx("div",{className:"panel-title",children:"Test Email"}),C.jsxs("div",{className:"field",children:[C.jsx("label",{className:"label",children:"Send to Email"}),C.jsx("input",{value:i,onChange:h=>o(h.target.value),className:"input",placeholder:"e.g. yourname@gmail.com"})]}),C.jsx("button",{className:"btn",type:"button",onClick:f,children:"Send Test"})]})]})},yb=new Map,jk=n=>yb.get(n),Lk=(n,e)=>yb.set(n,e),Ik=n=>yb.delete(n),Rd={calendarId:"",subject:"",html:""},lv="templates:northern_southern",IH=()=>{const[n,e]=L.useState(Rd),[t,r]=L.useState(Rd),[i,o]=L.useState(!0),l=L.useRef(!1),c=async({force:h=!1,silent:p=!1}={})=>{if(!h){const m=jk(lv);if(m){e(m.north||Rd),r(m.south||Rd),o(!1);return}}o(!0);try{const g=await Nt()("/api/email-templates?keys=northern_subscription,southern_subscription",{method:"GET"}),y=await g.json().catch(()=>null);if(!g.ok||!y?.ok){p||ve.error("Failed to load templates"),console.log("[templates] load failed",g.status,y);return}const b=y?.templates||{},S={calendarId:b?.northern_subscription?.calendarId||"",subject:b?.northern_subscription?.subject||"",html:b?.northern_subscription?.html||""},T={calendarId:b?.southern_subscription?.calendarId||"",subject:b?.southern_subscription?.subject||"",html:b?.southern_subscription?.html||""};e(S),r(T),Lk(lv,{north:S,south:T})}catch(m){p||ve.error("Load error"),console.log("[templates] load error",m)}finally{o(!1)}};L.useEffect(()=>{l.current||(l.current=!0,c({force:!1,silent:!0}))},[]);const f=async()=>{const h=ve.loading("Saving templates...");try{const p=Nt(),m={templates:[{templateKey:"northern_subscription",title:"Northern Hemisphere",calendarId:n.calendarId,subject:n.subject,html:n.html},{templateKey:"southern_subscription",title:"Southern Hemisphere",calendarId:t.calendarId,subject:t.subject,html:t.html}]},g=await p("/api/email-templates/bulk",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)}),y=await g.json().catch(()=>null);if(ve.dismiss(h),!g.ok||!y?.ok){ve.error("Save failed"),console.log("[templates] save failed",g.status,y);return}ve.success("Saved"),Ik(lv),await c({force:!0,silent:!0})}catch(p){ve.dismiss(h),ve.error("Save error"),console.log("[templates] save error",p)}};return C.jsxs("div",{className:"page",children:[C.jsx("div",{className:"page-bar",children:C.jsxs("div",{className:"flex flex-center",children:[C.jsx("h1",{className:"page-title page-title--bar ml-auto",children:"Email Templates"}),C.jsx("button",{className:"btn-save ml-auto",type:"button",onClick:f,disabled:i,children:"Save"})]})}),C.jsxs("div",{className:"container",children:[C.jsx(Ac,{title:"Northern Hemisphere",value:n,onChange:e}),C.jsx("div",{className:"my-80"}),C.jsx(Ac,{title:"Southern Hemisphere",value:t,onChange:r})]})]})},bl={calendarId:"",subject:"",html:""},uv="templates:workshop",BH=()=>{const[n,e]=L.useState(bl),[t,r]=L.useState(bl),[i,o]=L.useState(bl),[l,c]=L.useState(!0),f=L.useRef(!1),h=async({force:m=!1,silent:g=!1}={})=>{if(!m){const y=jk(uv);if(y){e(y.workshopEmail||bl),r(y.workshopNotification||bl),o(y.workshopRegistrant||bl),c(!1);return}}c(!0);try{const b=await Nt()("/api/email-templates?keys=workshop_email,workshop_notification,workshop_registrant",{method:"GET"}),S=await b.json().catch(()=>null);if(!b.ok||!S?.ok){g||ve.error("Failed to load templates"),console.log("[workshop-templates] load failed",b.status,S);return}const T=S?.templates||{},A={calendarId:"",subject:T?.workshop_email?.subject||"",html:T?.workshop_email?.html||""},M={calendarId:"",subject:T?.workshop_notification?.subject||"",html:T?.workshop_notification?.html||""},w={calendarId:"",subject:T?.workshop_registrant?.subject||"",html:T?.workshop_registrant?.html||""};e(A),r(M),o(w),Lk(uv,{workshopEmail:A,workshopNotification:M,workshopRegistrant:w})}catch(y){g||ve.error("Load error"),console.log("[workshop-templates] load error",y)}finally{c(!1)}};L.useEffect(()=>{f.current||(f.current=!0,h({force:!1,silent:!0}))},[]);const p=async()=>{const m=ve.loading("Saving templates...");try{const g=Nt(),y={templates:[{templateKey:"workshop_email",title:"Workshop Email Template",calendarId:null,subject:n.subject,html:n.html},{templateKey:"workshop_notification",title:"Workshop Notification Template",calendarId:null,subject:t.subject,html:t.html},{templateKey:"workshop_registrant",title:"Workshop Registrant Broadcast Template",calendarId:null,subject:i.subject,html:i.html}]},b=await g("/api/email-templates/bulk",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)}),S=await b.json().catch(()=>null);if(ve.dismiss(m),!b.ok||!S?.ok){ve.error("Save failed"),console.log("[workshop-templates] save failed",b.status,S);return}ve.success("Saved"),Ik(uv),await h({force:!0,silent:!0})}catch(g){ve.dismiss(m),ve.error("Save error"),console.log("[workshop-templates] save error",g)}};return C.jsxs("div",{className:"page",children:[C.jsx("div",{className:"page-bar",children:C.jsxs("div",{className:"flex flex-center",children:[C.jsx("h1",{className:"page-title page-title--bar ml-auto",children:"Workshop Templates"}),C.jsx("button",{className:"btn-save ml-auto",type:"button",onClick:p,disabled:l,children:"Save"})]})}),C.jsxs("div",{className:"container",children:[C.jsx(Ac,{title:"Workshop Email Template",description:"Sent to customers when they purchase a workshop product.",showCalendarId:!1,value:n,onChange:e}),C.jsx("div",{className:"my-80"}),C.jsx(Ac,{title:"Workshop Notification Template",description:"Sent as reminders before the workshop (e.g., 24h before, 1h before).",showCalendarId:!1,value:t,onChange:r}),C.jsx("div",{className:"my-80"}),C.jsx(Ac,{title:"Workshop Registrant Broadcast Template",description:"Sent when you broadcast to all registrants for a specific month.",showCalendarId:!1,value:i,onChange:o})]})]})};var cv=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],kl={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(n){return typeof console<"u"&&console.warn(n)},getWeek:function(n){var e=new Date(n.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var t=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-t.getTime())/864e5-3+(t.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},Hc={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(n){var e=n%100;if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},or=function(n,e){return e===void 0&&(e=2),("000"+n).slice(e*-1)},Yr=function(n){return n===!0?1:0};function kM(n,e){var t;return function(){var r=this,i=arguments;clearTimeout(t),t=setTimeout(function(){return n.apply(r,i)},e)}}var fv=function(n){return n instanceof Array?n:[n]};function Yn(n,e,t){if(t===!0)return n.classList.add(e);n.classList.remove(e)}function dt(n,e,t){var r=window.document.createElement(n);return e=e||"",t=t||"",r.className=e,t!==void 0&&(r.textContent=t),r}function Pd(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function Bk(n,e){if(e(n))return n;if(n.parentNode)return Bk(n.parentNode,e)}function jd(n,e){var t=dt("div","numInputWrapper"),r=dt("input","numInput "+n),i=dt("span","arrowUp"),o=dt("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?r.type="number":(r.type="text",r.pattern="\\d*"),e!==void 0)for(var l in e)r.setAttribute(l,e[l]);return t.appendChild(r),t.appendChild(i),t.appendChild(o),t}function xr(n){try{if(typeof n.composedPath=="function"){var e=n.composedPath();return e[0]}return n.target}catch{return n.target}}var dv=function(){},Wh=function(n,e,t){return t.months[e?"shorthand":"longhand"][n]},zH={D:dv,F:function(n,e,t){n.setMonth(t.months.longhand.indexOf(e))},G:function(n,e){n.setHours((n.getHours()>=12?12:0)+parseFloat(e))},H:function(n,e){n.setHours(parseFloat(e))},J:function(n,e){n.setDate(parseFloat(e))},K:function(n,e,t){n.setHours(n.getHours()%12+12*Yr(new RegExp(t.amPM[1],"i").test(e)))},M:function(n,e,t){n.setMonth(t.months.shorthand.indexOf(e))},S:function(n,e){n.setSeconds(parseFloat(e))},U:function(n,e){return new Date(parseFloat(e)*1e3)},W:function(n,e,t){var r=parseInt(e),i=new Date(n.getFullYear(),0,2+(r-1)*7,0,0,0,0);return i.setDate(i.getDate()-i.getDay()+t.firstDayOfWeek),i},Y:function(n,e){n.setFullYear(parseFloat(e))},Z:function(n,e){return new Date(e)},d:function(n,e){n.setDate(parseFloat(e))},h:function(n,e){n.setHours((n.getHours()>=12?12:0)+parseFloat(e))},i:function(n,e){n.setMinutes(parseFloat(e))},j:function(n,e){n.setDate(parseFloat(e))},l:dv,m:function(n,e){n.setMonth(parseFloat(e)-1)},n:function(n,e){n.setMonth(parseFloat(e)-1)},s:function(n,e){n.setSeconds(parseFloat(e))},u:function(n,e){return new Date(parseFloat(e))},w:dv,y:function(n,e){n.setFullYear(2e3+parseFloat(e))}},ds={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},Oc={Z:function(n){return n.toISOString()},D:function(n,e,t){return e.weekdays.shorthand[Oc.w(n,e,t)]},F:function(n,e,t){return Wh(Oc.n(n,e,t)-1,!1,e)},G:function(n,e,t){return or(Oc.h(n,e,t))},H:function(n){return or(n.getHours())},J:function(n,e){return e.ordinal!==void 0?n.getDate()+e.ordinal(n.getDate()):n.getDate()},K:function(n,e){return e.amPM[Yr(n.getHours()>11)]},M:function(n,e){return Wh(n.getMonth(),!0,e)},S:function(n){return or(n.getSeconds())},U:function(n){return n.getTime()/1e3},W:function(n,e,t){return t.getWeek(n)},Y:function(n){return or(n.getFullYear(),4)},d:function(n){return or(n.getDate())},h:function(n){return n.getHours()%12?n.getHours()%12:12},i:function(n){return or(n.getMinutes())},j:function(n){return n.getDate()},l:function(n,e){return e.weekdays.longhand[n.getDay()]},m:function(n){return or(n.getMonth()+1)},n:function(n){return n.getMonth()+1},s:function(n){return n.getSeconds()},u:function(n){return n.getTime()},w:function(n){return n.getDay()},y:function(n){return String(n.getFullYear()).substring(2)}},zk=function(n){var e=n.config,t=e===void 0?kl:e,r=n.l10n,i=r===void 0?Hc:r,o=n.isMobile,l=o===void 0?!1:o;return function(c,f,h){var p=h||i;return t.formatDate!==void 0&&!l?t.formatDate(c,f,p):f.split("").map(function(m,g,y){return Oc[m]&&y[g-1]!=="\\"?Oc[m](c,p,t):m!=="\\"?m:""}).join("")}},u0=function(n){var e=n.config,t=e===void 0?kl:e,r=n.l10n,i=r===void 0?Hc:r;return function(o,l,c,f){if(!(o!==0&&!o)){var h=f||i,p,m=o;if(o instanceof Date)p=new Date(o.getTime());else if(typeof o!="string"&&o.toFixed!==void 0)p=new Date(o);else if(typeof o=="string"){var g=l||(t||kl).dateFormat,y=String(o).trim();if(y==="today")p=new Date,c=!0;else if(t&&t.parseDate)p=t.parseDate(o,g);else if(/Z$/.test(y)||/GMT$/.test(y))p=new Date(o);else{for(var b=void 0,S=[],T=0,A=0,M="";T<g.length;T++){var w=g[T],x=w==="\\",N=g[T-1]==="\\"||x;if(ds[w]&&!N){M+=ds[w];var z=new RegExp(M).exec(o);z&&(b=!0)&&S[w!=="Y"?"push":"unshift"]({fn:zH[w],val:z[++A]})}else x||(M+=".")}p=!t||!t.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),S.forEach(function(P){var k=P.fn,j=P.val;return p=k(p,j,h)||p}),p=b?p:void 0}}if(!(p instanceof Date&&!isNaN(p.getTime()))){t.errorHandler(new Error("Invalid date provided: "+m));return}return c===!0&&p.setHours(0,0,0,0),p}}};function _r(n,e,t){return t===void 0&&(t=!0),t!==!1?new Date(n.getTime()).setHours(0,0,0,0)-new Date(e.getTime()).setHours(0,0,0,0):n.getTime()-e.getTime()}var UH=function(n,e,t){return n>Math.min(e,t)&&n<Math.max(e,t)},hv=function(n,e,t){return n*3600+e*60+t},HH=function(n){var e=Math.floor(n/3600),t=(n-e*3600)/60;return[e,t,n-e*3600-t*60]},FH={DAY:864e5};function pv(n){var e=n.defaultHour,t=n.defaultMinute,r=n.defaultSeconds;if(n.minDate!==void 0){var i=n.minDate.getHours(),o=n.minDate.getMinutes(),l=n.minDate.getSeconds();e<i&&(e=i),e===i&&t<o&&(t=o),e===i&&t===o&&r<l&&(r=n.minDate.getSeconds())}if(n.maxDate!==void 0){var c=n.maxDate.getHours(),f=n.maxDate.getMinutes();e=Math.min(e,c),e===c&&(t=Math.min(f,t)),e===c&&t===f&&(r=n.maxDate.getSeconds())}return{hours:e,minutes:t,seconds:r}}typeof Object.assign!="function"&&(Object.assign=function(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(!n)throw TypeError("Cannot convert undefined or null to object");for(var r=function(c){c&&Object.keys(c).forEach(function(f){return n[f]=c[f]})},i=0,o=e;i<o.length;i++){var l=o[i];r(l)}return n});var Ln=function(){return Ln=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Ln.apply(this,arguments)},DM=function(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var r=Array(n),i=0,e=0;e<t;e++)for(var o=arguments[e],l=0,c=o.length;l<c;l++,i++)r[i]=o[l];return r},VH=300;function qH(n,e){var t={config:Ln(Ln({},kl),Kt.defaultConfig),l10n:Hc};t.parseDate=u0({config:t.config,l10n:t.l10n}),t._handlers=[],t.pluginElements=[],t.loadedPlugins=[],t._bind=S,t._setHoursFromDate=g,t._positionCalendar=ti,t.changeMonth=H,t.changeYear=De,t.clear=Y,t.close=oe,t.onMouseOver=Un,t._createElement=dt,t.createDay=z,t.destroy=fe,t.isEnabled=Fe,t.jumpToDate=M,t.updateValue=Qn,t.open=ur,t.redraw=Me,t.set=Tt,t.setDate=st,t.toggle=Hn;function r(){t.utils={getDaysInMonth:function(D,R){return D===void 0&&(D=t.currentMonth),R===void 0&&(R=t.currentYear),D===1&&(R%4===0&&R%100!==0||R%400===0)?29:t.l10n.daysInMonth[D]}}}function i(){t.element=t.input=n,t.isOpen=!1,va(),Eo(),To(),cr(),r(),t.isMobile||N(),A(),(t.selectedDates.length||t.config.noCalendar)&&(t.config.enableTime&&g(t.config.noCalendar?t.latestSelectedDateObj:void 0),Qn(!1)),c();var D=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!t.isMobile&&D&&ti(),it("onReady")}function o(){var D;return((D=t.calendarContainer)===null||D===void 0?void 0:D.getRootNode()).activeElement||document.activeElement}function l(D){return D.bind(t)}function c(){var D=t.config;D.weekNumbers===!1&&D.showMonths===1||D.noCalendar!==!0&&window.requestAnimationFrame(function(){if(t.calendarContainer!==void 0&&(t.calendarContainer.style.visibility="hidden",t.calendarContainer.style.display="block"),t.daysContainer!==void 0){var R=(t.days.offsetWidth+1)*D.showMonths;t.daysContainer.style.width=R+"px",t.calendarContainer.style.width=R+(t.weekWrapper!==void 0?t.weekWrapper.offsetWidth:0)+"px",t.calendarContainer.style.removeProperty("visibility"),t.calendarContainer.style.removeProperty("display")}})}function f(D){if(t.selectedDates.length===0){var R=t.config.minDate===void 0||_r(new Date,t.config.minDate)>=0?new Date:new Date(t.config.minDate.getTime()),V=pv(t.config);R.setHours(V.hours,V.minutes,V.seconds,R.getMilliseconds()),t.selectedDates=[R],t.latestSelectedDateObj=R}D!==void 0&&D.type!=="blur"&&ki(D);var Q=t._input.value;m(),Qn(),t._input.value!==Q&&t._debouncedChange()}function h(D,R){return D%12+12*Yr(R===t.l10n.amPM[1])}function p(D){switch(D%24){case 0:case 12:return 12;default:return D%12}}function m(){if(!(t.hourElement===void 0||t.minuteElement===void 0)){var D=(parseInt(t.hourElement.value.slice(-2),10)||0)%24,R=(parseInt(t.minuteElement.value,10)||0)%60,V=t.secondElement!==void 0?(parseInt(t.secondElement.value,10)||0)%60:0;t.amPM!==void 0&&(D=h(D,t.amPM.textContent));var Q=t.config.minTime!==void 0||t.config.minDate&&t.minDateHasTime&&t.latestSelectedDateObj&&_r(t.latestSelectedDateObj,t.config.minDate,!0)===0,ce=t.config.maxTime!==void 0||t.config.maxDate&&t.maxDateHasTime&&t.latestSelectedDateObj&&_r(t.latestSelectedDateObj,t.config.maxDate,!0)===0;if(t.config.maxTime!==void 0&&t.config.minTime!==void 0&&t.config.minTime>t.config.maxTime){var pe=hv(t.config.minTime.getHours(),t.config.minTime.getMinutes(),t.config.minTime.getSeconds()),Ue=hv(t.config.maxTime.getHours(),t.config.maxTime.getMinutes(),t.config.maxTime.getSeconds()),Oe=hv(D,R,V);if(Oe>Ue&&Oe<pe){var qe=HH(pe);D=qe[0],R=qe[1],V=qe[2]}}else{if(ce){var Ee=t.config.maxTime!==void 0?t.config.maxTime:t.config.maxDate;D=Math.min(D,Ee.getHours()),D===Ee.getHours()&&(R=Math.min(R,Ee.getMinutes())),R===Ee.getMinutes()&&(V=Math.min(V,Ee.getSeconds()))}if(Q){var Ne=t.config.minTime!==void 0?t.config.minTime:t.config.minDate;D=Math.max(D,Ne.getHours()),D===Ne.getHours()&&R<Ne.getMinutes()&&(R=Ne.getMinutes()),R===Ne.getMinutes()&&(V=Math.max(V,Ne.getSeconds()))}}y(D,R,V)}}function g(D){var R=D||t.latestSelectedDateObj;R&&R instanceof Date&&y(R.getHours(),R.getMinutes(),R.getSeconds())}function y(D,R,V){t.latestSelectedDateObj!==void 0&&t.latestSelectedDateObj.setHours(D%24,R,V||0,0),!(!t.hourElement||!t.minuteElement||t.isMobile)&&(t.hourElement.value=or(t.config.time_24hr?D:(12+D)%12+12*Yr(D%12===0)),t.minuteElement.value=or(R),t.amPM!==void 0&&(t.amPM.textContent=t.l10n.amPM[Yr(D>=12)]),t.secondElement!==void 0&&(t.secondElement.value=or(V)))}function b(D){var R=xr(D),V=parseInt(R.value)+(D.delta||0);(V/1e3>1||D.key==="Enter"&&!/[^\d]/.test(V.toString()))&&De(V)}function S(D,R,V,Q){if(R instanceof Array)return R.forEach(function(ce){return S(D,ce,V,Q)});if(D instanceof Array)return D.forEach(function(ce){return S(ce,R,V,Q)});D.addEventListener(R,V,Q),t._handlers.push({remove:function(){return D.removeEventListener(R,V,Q)}})}function T(){it("onChange")}function A(){if(t.config.wrap&&["open","close","toggle","clear"].forEach(function(V){Array.prototype.forEach.call(t.element.querySelectorAll("[data-"+V+"]"),function(Q){return S(Q,"click",t[V])})}),t.isMobile){Oo();return}var D=kM(So,50);if(t._debouncedChange=kM(T,VH),t.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&S(t.daysContainer,"mouseover",function(V){t.config.mode==="range"&&Un(xr(V))}),S(t._input,"keydown",gn),t.calendarContainer!==void 0&&S(t.calendarContainer,"keydown",gn),!t.config.inline&&!t.config.static&&S(window,"resize",D),window.ontouchstart!==void 0?S(window.document,"touchstart",Se):S(window.document,"mousedown",Se),S(window.document,"focus",Se,{capture:!0}),t.config.clickOpens===!0&&(S(t._input,"focus",t.open),S(t._input,"click",t.open)),t.daysContainer!==void 0&&(S(t.monthNav,"click",Ps),S(t.monthNav,["keyup","increment"],b),S(t.daysContainer,"click",ge)),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0){var R=function(V){return xr(V).select()};S(t.timeContainer,["increment"],f),S(t.timeContainer,"blur",f,{capture:!0}),S(t.timeContainer,"click",w),S([t.hourElement,t.minuteElement],["focus","click"],R),t.secondElement!==void 0&&S(t.secondElement,"focus",function(){return t.secondElement&&t.secondElement.select()}),t.amPM!==void 0&&S(t.amPM,"click",function(V){f(V)})}t.config.allowInput&&S(t._input,"blur",Mt)}function M(D,R){var V=D!==void 0?t.parseDate(D):t.latestSelectedDateObj||(t.config.minDate&&t.config.minDate>t.now?t.config.minDate:t.config.maxDate&&t.config.maxDate<t.now?t.config.maxDate:t.now),Q=t.currentYear,ce=t.currentMonth;try{V!==void 0&&(t.currentYear=V.getFullYear(),t.currentMonth=V.getMonth())}catch(pe){pe.message="Invalid date supplied: "+V,t.config.errorHandler(pe)}R&&t.currentYear!==Q&&(it("onYearChange"),ne()),R&&(t.currentYear!==Q||t.currentMonth!==ce)&&it("onMonthChange"),t.redraw()}function w(D){var R=xr(D);~R.className.indexOf("arrow")&&x(D,R.classList.contains("arrowUp")?1:-1)}function x(D,R,V){var Q=D&&xr(D),ce=V||Q&&Q.parentNode&&Q.parentNode.firstChild,pe=yn("increment");pe.delta=R,ce&&ce.dispatchEvent(pe)}function N(){var D=window.document.createDocumentFragment();if(t.calendarContainer=dt("div","flatpickr-calendar"),t.calendarContainer.tabIndex=-1,!t.config.noCalendar){if(D.appendChild(I()),t.innerContainer=dt("div","flatpickr-innerContainer"),t.config.weekNumbers){var R=xe(),V=R.weekWrapper,Q=R.weekNumbers;t.innerContainer.appendChild(V),t.weekNumbers=Q,t.weekWrapper=V}t.rContainer=dt("div","flatpickr-rContainer"),t.rContainer.appendChild(ae()),t.daysContainer||(t.daysContainer=dt("div","flatpickr-days"),t.daysContainer.tabIndex=-1),$(),t.rContainer.appendChild(t.daysContainer),t.innerContainer.appendChild(t.rContainer),D.appendChild(t.innerContainer)}t.config.enableTime&&D.appendChild(W()),Yn(t.calendarContainer,"rangeMode",t.config.mode==="range"),Yn(t.calendarContainer,"animate",t.config.animate===!0),Yn(t.calendarContainer,"multiMonth",t.config.showMonths>1),t.calendarContainer.appendChild(D);var ce=t.config.appendTo!==void 0&&t.config.appendTo.nodeType!==void 0;if((t.config.inline||t.config.static)&&(t.calendarContainer.classList.add(t.config.inline?"inline":"static"),t.config.inline&&(!ce&&t.element.parentNode?t.element.parentNode.insertBefore(t.calendarContainer,t._input.nextSibling):t.config.appendTo!==void 0&&t.config.appendTo.appendChild(t.calendarContainer)),t.config.static)){var pe=dt("div","flatpickr-wrapper");t.element.parentNode&&t.element.parentNode.insertBefore(pe,t.element),pe.appendChild(t.element),t.altInput&&pe.appendChild(t.altInput),pe.appendChild(t.calendarContainer)}!t.config.static&&!t.config.inline&&(t.config.appendTo!==void 0?t.config.appendTo:window.document.body).appendChild(t.calendarContainer)}function z(D,R,V,Q){var ce=Fe(R,!0),pe=dt("span",D,R.getDate().toString());return pe.dateObj=R,pe.$i=Q,pe.setAttribute("aria-label",t.formatDate(R,t.config.ariaDateFormat)),D.indexOf("hidden")===-1&&_r(R,t.now)===0&&(t.todayDateElem=pe,pe.classList.add("today"),pe.setAttribute("aria-current","date")),ce?(pe.tabIndex=-1,Xl(R)&&(pe.classList.add("selected"),t.selectedDateElem=pe,t.config.mode==="range"&&(Yn(pe,"startRange",t.selectedDates[0]&&_r(R,t.selectedDates[0],!0)===0),Yn(pe,"endRange",t.selectedDates[1]&&_r(R,t.selectedDates[1],!0)===0),D==="nextMonthDay"&&pe.classList.add("inRange")))):pe.classList.add("flatpickr-disabled"),t.config.mode==="range"&&Op(R)&&!Xl(R)&&pe.classList.add("inRange"),t.weekNumbers&&t.config.showMonths===1&&D!=="prevMonthDay"&&Q%7===6&&t.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+t.config.getWeek(R)+"</span>"),it("onDayCreate",pe),pe}function P(D){D.focus(),t.config.mode==="range"&&Un(D)}function k(D){for(var R=D>0?0:t.config.showMonths-1,V=D>0?t.config.showMonths:-1,Q=R;Q!=V;Q+=D)for(var ce=t.daysContainer.children[Q],pe=D>0?0:ce.children.length-1,Ue=D>0?ce.children.length:-1,Oe=pe;Oe!=Ue;Oe+=D){var qe=ce.children[Oe];if(qe.className.indexOf("hidden")===-1&&Fe(qe.dateObj))return qe}}function j(D,R){for(var V=D.className.indexOf("Month")===-1?D.dateObj.getMonth():t.currentMonth,Q=R>0?t.config.showMonths:-1,ce=R>0?1:-1,pe=V-t.currentMonth;pe!=Q;pe+=ce)for(var Ue=t.daysContainer.children[pe],Oe=V-t.currentMonth===pe?D.$i+R:R<0?Ue.children.length-1:0,qe=Ue.children.length,Ee=Oe;Ee>=0&&Ee<qe&&Ee!=(R>0?qe:-1);Ee+=ce){var Ne=Ue.children[Ee];if(Ne.className.indexOf("hidden")===-1&&Fe(Ne.dateObj)&&Math.abs(D.$i-Ee)>=Math.abs(R))return P(Ne)}t.changeMonth(ce),B(k(ce),0)}function B(D,R){var V=o(),Q=We(V||document.body),ce=D!==void 0?D:Q?V:t.selectedDateElem!==void 0&&We(t.selectedDateElem)?t.selectedDateElem:t.todayDateElem!==void 0&&We(t.todayDateElem)?t.todayDateElem:k(R>0?1:-1);ce===void 0?t._input.focus():Q?j(ce,R):P(ce)}function G(D,R){for(var V=(new Date(D,R,1).getDay()-t.l10n.firstDayOfWeek+7)%7,Q=t.utils.getDaysInMonth((R-1+12)%12,D),ce=t.utils.getDaysInMonth(R,D),pe=window.document.createDocumentFragment(),Ue=t.config.showMonths>1,Oe=Ue?"prevMonthDay hidden":"prevMonthDay",qe=Ue?"nextMonthDay hidden":"nextMonthDay",Ee=Q+1-V,Ne=0;Ee<=Q;Ee++,Ne++)pe.appendChild(z("flatpickr-day "+Oe,new Date(D,R-1,Ee),Ee,Ne));for(Ee=1;Ee<=ce;Ee++,Ne++)pe.appendChild(z("flatpickr-day",new Date(D,R,Ee),Ee,Ne));for(var lt=ce+1;lt<=42-V&&(t.config.showMonths===1||Ne%7!==0);lt++,Ne++)pe.appendChild(z("flatpickr-day "+qe,new Date(D,R+1,lt%ce),lt,Ne));var fr=dt("div","dayContainer");return fr.appendChild(pe),fr}function $(){if(t.daysContainer!==void 0){Pd(t.daysContainer),t.weekNumbers&&Pd(t.weekNumbers);for(var D=document.createDocumentFragment(),R=0;R<t.config.showMonths;R++){var V=new Date(t.currentYear,t.currentMonth,1);V.setMonth(t.currentMonth+R),D.appendChild(G(V.getFullYear(),V.getMonth()))}t.daysContainer.appendChild(D),t.days=t.daysContainer.firstChild,t.config.mode==="range"&&t.selectedDates.length===1&&Un()}}function ne(){if(!(t.config.showMonths>1||t.config.monthSelectorType!=="dropdown")){var D=function(Q){return t.config.minDate!==void 0&&t.currentYear===t.config.minDate.getFullYear()&&Q<t.config.minDate.getMonth()?!1:!(t.config.maxDate!==void 0&&t.currentYear===t.config.maxDate.getFullYear()&&Q>t.config.maxDate.getMonth())};t.monthsDropdownContainer.tabIndex=-1,t.monthsDropdownContainer.innerHTML="";for(var R=0;R<12;R++)if(D(R)){var V=dt("option","flatpickr-monthDropdown-month");V.value=new Date(t.currentYear,R).getMonth().toString(),V.textContent=Wh(R,t.config.shorthandCurrentMonth,t.l10n),V.tabIndex=-1,t.currentMonth===R&&(V.selected=!0),t.monthsDropdownContainer.appendChild(V)}}}function le(){var D=dt("div","flatpickr-month"),R=window.document.createDocumentFragment(),V;t.config.showMonths>1||t.config.monthSelectorType==="static"?V=dt("span","cur-month"):(t.monthsDropdownContainer=dt("select","flatpickr-monthDropdown-months"),t.monthsDropdownContainer.setAttribute("aria-label",t.l10n.monthAriaLabel),S(t.monthsDropdownContainer,"change",function(Ue){var Oe=xr(Ue),qe=parseInt(Oe.value,10);t.changeMonth(qe-t.currentMonth),it("onMonthChange")}),ne(),V=t.monthsDropdownContainer);var Q=jd("cur-year",{tabindex:"-1"}),ce=Q.getElementsByTagName("input")[0];ce.setAttribute("aria-label",t.l10n.yearAriaLabel),t.config.minDate&&ce.setAttribute("min",t.config.minDate.getFullYear().toString()),t.config.maxDate&&(ce.setAttribute("max",t.config.maxDate.getFullYear().toString()),ce.disabled=!!t.config.minDate&&t.config.minDate.getFullYear()===t.config.maxDate.getFullYear());var pe=dt("div","flatpickr-current-month");return pe.appendChild(V),pe.appendChild(Q),R.appendChild(pe),D.appendChild(R),{container:D,yearElement:ce,monthElement:V}}function ee(){Pd(t.monthNav),t.monthNav.appendChild(t.prevMonthNav),t.config.showMonths&&(t.yearElements=[],t.monthElements=[]);for(var D=t.config.showMonths;D--;){var R=le();t.yearElements.push(R.yearElement),t.monthElements.push(R.monthElement),t.monthNav.appendChild(R.container)}t.monthNav.appendChild(t.nextMonthNav)}function I(){return t.monthNav=dt("div","flatpickr-months"),t.yearElements=[],t.monthElements=[],t.prevMonthNav=dt("span","flatpickr-prev-month"),t.prevMonthNav.innerHTML=t.config.prevArrow,t.nextMonthNav=dt("span","flatpickr-next-month"),t.nextMonthNav.innerHTML=t.config.nextArrow,ee(),Object.defineProperty(t,"_hidePrevMonthArrow",{get:function(){return t.__hidePrevMonthArrow},set:function(D){t.__hidePrevMonthArrow!==D&&(Yn(t.prevMonthNav,"flatpickr-disabled",D),t.__hidePrevMonthArrow=D)}}),Object.defineProperty(t,"_hideNextMonthArrow",{get:function(){return t.__hideNextMonthArrow},set:function(D){t.__hideNextMonthArrow!==D&&(Yn(t.nextMonthNav,"flatpickr-disabled",D),t.__hideNextMonthArrow=D)}}),t.currentYearElement=t.yearElements[0],Rs(),t.monthNav}function W(){t.calendarContainer.classList.add("hasTime"),t.config.noCalendar&&t.calendarContainer.classList.add("noCalendar");var D=pv(t.config);t.timeContainer=dt("div","flatpickr-time"),t.timeContainer.tabIndex=-1;var R=dt("span","flatpickr-time-separator",":"),V=jd("flatpickr-hour",{"aria-label":t.l10n.hourAriaLabel});t.hourElement=V.getElementsByTagName("input")[0];var Q=jd("flatpickr-minute",{"aria-label":t.l10n.minuteAriaLabel});if(t.minuteElement=Q.getElementsByTagName("input")[0],t.hourElement.tabIndex=t.minuteElement.tabIndex=-1,t.hourElement.value=or(t.latestSelectedDateObj?t.latestSelectedDateObj.getHours():t.config.time_24hr?D.hours:p(D.hours)),t.minuteElement.value=or(t.latestSelectedDateObj?t.latestSelectedDateObj.getMinutes():D.minutes),t.hourElement.setAttribute("step",t.config.hourIncrement.toString()),t.minuteElement.setAttribute("step",t.config.minuteIncrement.toString()),t.hourElement.setAttribute("min",t.config.time_24hr?"0":"1"),t.hourElement.setAttribute("max",t.config.time_24hr?"23":"12"),t.hourElement.setAttribute("maxlength","2"),t.minuteElement.setAttribute("min","0"),t.minuteElement.setAttribute("max","59"),t.minuteElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(V),t.timeContainer.appendChild(R),t.timeContainer.appendChild(Q),t.config.time_24hr&&t.timeContainer.classList.add("time24hr"),t.config.enableSeconds){t.timeContainer.classList.add("hasSeconds");var ce=jd("flatpickr-second");t.secondElement=ce.getElementsByTagName("input")[0],t.secondElement.value=or(t.latestSelectedDateObj?t.latestSelectedDateObj.getSeconds():D.seconds),t.secondElement.setAttribute("step",t.minuteElement.getAttribute("step")),t.secondElement.setAttribute("min","0"),t.secondElement.setAttribute("max","59"),t.secondElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(dt("span","flatpickr-time-separator",":")),t.timeContainer.appendChild(ce)}return t.config.time_24hr||(t.amPM=dt("span","flatpickr-am-pm",t.l10n.amPM[Yr((t.latestSelectedDateObj?t.hourElement.value:t.config.defaultHour)>11)]),t.amPM.title=t.l10n.toggleTitle,t.amPM.tabIndex=-1,t.timeContainer.appendChild(t.amPM)),t.timeContainer}function ae(){t.weekdayContainer?Pd(t.weekdayContainer):t.weekdayContainer=dt("div","flatpickr-weekdays");for(var D=t.config.showMonths;D--;){var R=dt("div","flatpickr-weekdaycontainer");t.weekdayContainer.appendChild(R)}return de(),t.weekdayContainer}function de(){if(t.weekdayContainer){var D=t.l10n.firstDayOfWeek,R=DM(t.l10n.weekdays.shorthand);D>0&&D<R.length&&(R=DM(R.splice(D,R.length),R.splice(0,D)));for(var V=t.config.showMonths;V--;)t.weekdayContainer.children[V].innerHTML=`
      <span class='flatpickr-weekday'>
        `+R.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function xe(){t.calendarContainer.classList.add("hasWeeks");var D=dt("div","flatpickr-weekwrapper");D.appendChild(dt("span","flatpickr-weekday",t.l10n.weekAbbreviation));var R=dt("div","flatpickr-weeks");return D.appendChild(R),{weekWrapper:D,weekNumbers:R}}function H(D,R){R===void 0&&(R=!0);var V=R?D:D-t.currentMonth;V<0&&t._hidePrevMonthArrow===!0||V>0&&t._hideNextMonthArrow===!0||(t.currentMonth+=V,(t.currentMonth<0||t.currentMonth>11)&&(t.currentYear+=t.currentMonth>11?1:-1,t.currentMonth=(t.currentMonth+12)%12,it("onYearChange"),ne()),$(),it("onMonthChange"),Rs())}function Y(D,R){if(D===void 0&&(D=!0),R===void 0&&(R=!0),t.input.value="",t.altInput!==void 0&&(t.altInput.value=""),t.mobileInput!==void 0&&(t.mobileInput.value=""),t.selectedDates=[],t.latestSelectedDateObj=void 0,R===!0&&(t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth()),t.config.enableTime===!0){var V=pv(t.config),Q=V.hours,ce=V.minutes,pe=V.seconds;y(Q,ce,pe)}t.redraw(),D&&it("onChange")}function oe(){t.isOpen=!1,t.isMobile||(t.calendarContainer!==void 0&&t.calendarContainer.classList.remove("open"),t._input!==void 0&&t._input.classList.remove("active")),it("onClose")}function fe(){t.config!==void 0&&it("onDestroy");for(var D=t._handlers.length;D--;)t._handlers[D].remove();if(t._handlers=[],t.mobileInput)t.mobileInput.parentNode&&t.mobileInput.parentNode.removeChild(t.mobileInput),t.mobileInput=void 0;else if(t.calendarContainer&&t.calendarContainer.parentNode)if(t.config.static&&t.calendarContainer.parentNode){var R=t.calendarContainer.parentNode;if(R.lastChild&&R.removeChild(R.lastChild),R.parentNode){for(;R.firstChild;)R.parentNode.insertBefore(R.firstChild,R);R.parentNode.removeChild(R)}}else t.calendarContainer.parentNode.removeChild(t.calendarContainer);t.altInput&&(t.input.type="text",t.altInput.parentNode&&t.altInput.parentNode.removeChild(t.altInput),delete t.altInput),t.input&&(t.input.type=t.input._type,t.input.classList.remove("flatpickr-input"),t.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(V){try{delete t[V]}catch{}})}function Ae(D){return t.calendarContainer.contains(D)}function Se(D){if(t.isOpen&&!t.config.inline){var R=xr(D),V=Ae(R),Q=R===t.input||R===t.altInput||t.element.contains(R)||D.path&&D.path.indexOf&&(~D.path.indexOf(t.input)||~D.path.indexOf(t.altInput)),ce=!Q&&!V&&!Ae(D.relatedTarget),pe=!t.config.ignoredFocusElements.some(function(Ue){return Ue.contains(R)});ce&&pe&&(t.config.allowInput&&t.setDate(t._input.value,!1,t.config.altInput?t.config.altFormat:t.config.dateFormat),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0&&t.input.value!==""&&t.input.value!==void 0&&f(),t.close(),t.config&&t.config.mode==="range"&&t.selectedDates.length===1&&t.clear(!1))}}function De(D){if(!(!D||t.config.minDate&&D<t.config.minDate.getFullYear()||t.config.maxDate&&D>t.config.maxDate.getFullYear())){var R=D,V=t.currentYear!==R;t.currentYear=R||t.currentYear,t.config.maxDate&&t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth=Math.min(t.config.maxDate.getMonth(),t.currentMonth):t.config.minDate&&t.currentYear===t.config.minDate.getFullYear()&&(t.currentMonth=Math.max(t.config.minDate.getMonth(),t.currentMonth)),V&&(t.redraw(),it("onYearChange"),ne())}}function Fe(D,R){var V;R===void 0&&(R=!0);var Q=t.parseDate(D,void 0,R);if(t.config.minDate&&Q&&_r(Q,t.config.minDate,R!==void 0?R:!t.minDateHasTime)<0||t.config.maxDate&&Q&&_r(Q,t.config.maxDate,R!==void 0?R:!t.maxDateHasTime)>0)return!1;if(!t.config.enable&&t.config.disable.length===0)return!0;if(Q===void 0)return!1;for(var ce=!!t.config.enable,pe=(V=t.config.enable)!==null&&V!==void 0?V:t.config.disable,Ue=0,Oe=void 0;Ue<pe.length;Ue++){if(Oe=pe[Ue],typeof Oe=="function"&&Oe(Q))return ce;if(Oe instanceof Date&&Q!==void 0&&Oe.getTime()===Q.getTime())return ce;if(typeof Oe=="string"){var qe=t.parseDate(Oe,void 0,!0);return qe&&qe.getTime()===Q.getTime()?ce:!ce}else if(typeof Oe=="object"&&Q!==void 0&&Oe.from&&Oe.to&&Q.getTime()>=Oe.from.getTime()&&Q.getTime()<=Oe.to.getTime())return ce}return!ce}function We(D){return t.daysContainer!==void 0?D.className.indexOf("hidden")===-1&&D.className.indexOf("flatpickr-disabled")===-1&&t.daysContainer.contains(D):!1}function Mt(D){var R=D.target===t._input,V=t._input.value.trimEnd()!==Sa();R&&V&&!(D.relatedTarget&&Ae(D.relatedTarget))&&t.setDate(t._input.value,!0,D.target===t.altInput?t.config.altFormat:t.config.dateFormat)}function gn(D){var R=xr(D),V=t.config.wrap?n.contains(R):R===t._input,Q=t.config.allowInput,ce=t.isOpen&&(!Q||!V),pe=t.config.inline&&V&&!Q;if(D.keyCode===13&&V){if(Q)return t.setDate(t._input.value,!0,R===t.altInput?t.config.altFormat:t.config.dateFormat),t.close(),R.blur();t.open()}else if(Ae(R)||ce||pe){var Ue=!!t.timeContainer&&t.timeContainer.contains(R);switch(D.keyCode){case 13:Ue?(D.preventDefault(),f(),ze()):ge(D);break;case 27:D.preventDefault(),ze();break;case 8:case 46:V&&!t.config.allowInput&&(D.preventDefault(),t.clear());break;case 37:case 39:if(!Ue&&!V){D.preventDefault();var Oe=o();if(t.daysContainer!==void 0&&(Q===!1||Oe&&We(Oe))){var qe=D.keyCode===39?1:-1;D.ctrlKey?(D.stopPropagation(),H(qe),B(k(1),0)):B(void 0,qe)}}else t.hourElement&&t.hourElement.focus();break;case 38:case 40:D.preventDefault();var Ee=D.keyCode===40?1:-1;t.daysContainer&&R.$i!==void 0||R===t.input||R===t.altInput?D.ctrlKey?(D.stopPropagation(),De(t.currentYear-Ee),B(k(1),0)):Ue||B(void 0,Ee*7):R===t.currentYearElement?De(t.currentYear-Ee):t.config.enableTime&&(!Ue&&t.hourElement&&t.hourElement.focus(),f(D),t._debouncedChange());break;case 9:if(Ue){var Ne=[t.hourElement,t.minuteElement,t.secondElement,t.amPM].concat(t.pluginElements).filter(function(Nn){return Nn}),lt=Ne.indexOf(R);if(lt!==-1){var fr=Ne[lt+(D.shiftKey?-1:1)];D.preventDefault(),(fr||t._input).focus()}}else!t.config.noCalendar&&t.daysContainer&&t.daysContainer.contains(R)&&D.shiftKey&&(D.preventDefault(),t._input.focus());break}}if(t.amPM!==void 0&&R===t.amPM)switch(D.key){case t.l10n.amPM[0].charAt(0):case t.l10n.amPM[0].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[0],m(),Qn();break;case t.l10n.amPM[1].charAt(0):case t.l10n.amPM[1].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[1],m(),Qn();break}(V||Ae(R))&&it("onKeyDown",D)}function Un(D,R){if(R===void 0&&(R="flatpickr-day"),!(t.selectedDates.length!==1||D&&(!D.classList.contains(R)||D.classList.contains("flatpickr-disabled")))){for(var V=D?D.dateObj.getTime():t.days.firstElementChild.dateObj.getTime(),Q=t.parseDate(t.selectedDates[0],void 0,!0).getTime(),ce=Math.min(V,t.selectedDates[0].getTime()),pe=Math.max(V,t.selectedDates[0].getTime()),Ue=!1,Oe=0,qe=0,Ee=ce;Ee<pe;Ee+=FH.DAY)Fe(new Date(Ee),!0)||(Ue=Ue||Ee>ce&&Ee<pe,Ee<Q&&(!Oe||Ee>Oe)?Oe=Ee:Ee>Q&&(!qe||Ee<qe)&&(qe=Ee));var Ne=Array.from(t.rContainer.querySelectorAll("*:nth-child(-n+"+t.config.showMonths+") > ."+R));Ne.forEach(function(lt){var fr=lt.dateObj,Nn=fr.getTime(),$n=Oe>0&&Nn<Oe||qe>0&&Nn>qe;if($n){lt.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(kt){lt.classList.remove(kt)});return}else if(Ue&&!$n)return;["startRange","inRange","endRange","notAllowed"].forEach(function(kt){lt.classList.remove(kt)}),D!==void 0&&(D.classList.add(V<=t.selectedDates[0].getTime()?"startRange":"endRange"),Q<V&&Nn===Q?lt.classList.add("startRange"):Q>V&&Nn===Q&&lt.classList.add("endRange"),Nn>=Oe&&(qe===0||Nn<=qe)&&UH(Nn,Q,V)&&lt.classList.add("inRange"))})}}function So(){t.isOpen&&!t.config.static&&!t.config.inline&&ti()}function ur(D,R){if(R===void 0&&(R=t._positionElement),t.isMobile===!0){if(D){D.preventDefault();var V=xr(D);V&&V.blur()}t.mobileInput!==void 0&&(t.mobileInput.focus(),t.mobileInput.click()),it("onOpen");return}else if(t._input.disabled||t.config.inline)return;var Q=t.isOpen;t.isOpen=!0,Q||(t.calendarContainer.classList.add("open"),t._input.classList.add("active"),it("onOpen"),ti(R)),t.config.enableTime===!0&&t.config.noCalendar===!0&&t.config.allowInput===!1&&(D===void 0||!t.timeContainer.contains(D.relatedTarget))&&setTimeout(function(){return t.hourElement.select()},50)}function gi(D){return function(R){var V=t.config["_"+D+"Date"]=t.parseDate(R,t.config.dateFormat),Q=t.config["_"+(D==="min"?"max":"min")+"Date"];V!==void 0&&(t[D==="min"?"minDateHasTime":"maxDateHasTime"]=V.getHours()>0||V.getMinutes()>0||V.getSeconds()>0),t.selectedDates&&(t.selectedDates=t.selectedDates.filter(function(ce){return Fe(ce)}),!t.selectedDates.length&&D==="min"&&g(V),Qn()),t.daysContainer&&(Me(),V!==void 0?t.currentYearElement[D]=V.getFullYear().toString():t.currentYearElement.removeAttribute(D),t.currentYearElement.disabled=!!Q&&V!==void 0&&Q.getFullYear()===V.getFullYear())}}function va(){var D=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],R=Ln(Ln({},JSON.parse(JSON.stringify(n.dataset||{}))),e),V={};t.config.parseDate=R.parseDate,t.config.formatDate=R.formatDate,Object.defineProperty(t.config,"enable",{get:function(){return t.config._enable},set:function(Ne){t.config._enable=It(Ne)}}),Object.defineProperty(t.config,"disable",{get:function(){return t.config._disable},set:function(Ne){t.config._disable=It(Ne)}});var Q=R.mode==="time";if(!R.dateFormat&&(R.enableTime||Q)){var ce=Kt.defaultConfig.dateFormat||kl.dateFormat;V.dateFormat=R.noCalendar||Q?"H:i"+(R.enableSeconds?":S":""):ce+" H:i"+(R.enableSeconds?":S":"")}if(R.altInput&&(R.enableTime||Q)&&!R.altFormat){var pe=Kt.defaultConfig.altFormat||kl.altFormat;V.altFormat=R.noCalendar||Q?"h:i"+(R.enableSeconds?":S K":" K"):pe+(" h:i"+(R.enableSeconds?":S":"")+" K")}Object.defineProperty(t.config,"minDate",{get:function(){return t.config._minDate},set:gi("min")}),Object.defineProperty(t.config,"maxDate",{get:function(){return t.config._maxDate},set:gi("max")});var Ue=function(Ne){return function(lt){t.config[Ne==="min"?"_minTime":"_maxTime"]=t.parseDate(lt,"H:i:S")}};Object.defineProperty(t.config,"minTime",{get:function(){return t.config._minTime},set:Ue("min")}),Object.defineProperty(t.config,"maxTime",{get:function(){return t.config._maxTime},set:Ue("max")}),R.mode==="time"&&(t.config.noCalendar=!0,t.config.enableTime=!0),Object.assign(t.config,V,R);for(var Oe=0;Oe<D.length;Oe++)t.config[D[Oe]]=t.config[D[Oe]]===!0||t.config[D[Oe]]==="true";cv.filter(function(Ne){return t.config[Ne]!==void 0}).forEach(function(Ne){t.config[Ne]=fv(t.config[Ne]||[]).map(l)}),t.isMobile=!t.config.disableMobile&&!t.config.inline&&t.config.mode==="single"&&!t.config.disable.length&&!t.config.enable&&!t.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var Oe=0;Oe<t.config.plugins.length;Oe++){var qe=t.config.plugins[Oe](t)||{};for(var Ee in qe)cv.indexOf(Ee)>-1?t.config[Ee]=fv(qe[Ee]).map(l).concat(t.config[Ee]):typeof R[Ee]>"u"&&(t.config[Ee]=qe[Ee])}R.altInputClass||(t.config.altInputClass=ba().className+" "+t.config.altInputClass),it("onParseConfig")}function ba(){return t.config.wrap?n.querySelector("[data-input]"):n}function Eo(){typeof t.config.locale!="object"&&typeof Kt.l10ns[t.config.locale]>"u"&&t.config.errorHandler(new Error("flatpickr: invalid locale "+t.config.locale)),t.l10n=Ln(Ln({},Kt.l10ns.default),typeof t.config.locale=="object"?t.config.locale:t.config.locale!=="default"?Kt.l10ns[t.config.locale]:void 0),ds.D="("+t.l10n.weekdays.shorthand.join("|")+")",ds.l="("+t.l10n.weekdays.longhand.join("|")+")",ds.M="("+t.l10n.months.shorthand.join("|")+")",ds.F="("+t.l10n.months.longhand.join("|")+")",ds.K="("+t.l10n.amPM[0]+"|"+t.l10n.amPM[1]+"|"+t.l10n.amPM[0].toLowerCase()+"|"+t.l10n.amPM[1].toLowerCase()+")";var D=Ln(Ln({},e),JSON.parse(JSON.stringify(n.dataset||{})));D.time_24hr===void 0&&Kt.defaultConfig.time_24hr===void 0&&(t.config.time_24hr=t.l10n.time_24hr),t.formatDate=zk(t),t.parseDate=u0({config:t.config,l10n:t.l10n})}function ti(D){if(typeof t.config.position=="function")return void t.config.position(t,D);if(t.calendarContainer!==void 0){it("onPreCalendarPosition");var R=D||t._positionElement,V=Array.prototype.reduce.call(t.calendarContainer.children,(function(Ea,Ta){return Ea+Ta.offsetHeight}),0),Q=t.calendarContainer.offsetWidth,ce=t.config.position.split(" "),pe=ce[0],Ue=ce.length>1?ce[1]:null,Oe=R.getBoundingClientRect(),qe=window.innerHeight-Oe.bottom,Ee=pe==="above"||pe!=="below"&&qe<V&&Oe.top>V,Ne=window.pageYOffset+Oe.top+(Ee?-V-2:R.offsetHeight+2);if(Yn(t.calendarContainer,"arrowTop",!Ee),Yn(t.calendarContainer,"arrowBottom",Ee),!t.config.inline){var lt=window.pageXOffset+Oe.left,fr=!1,Nn=!1;Ue==="center"?(lt-=(Q-Oe.width)/2,fr=!0):Ue==="right"&&(lt-=Q-Oe.width,Nn=!0),Yn(t.calendarContainer,"arrowLeft",!fr&&!Nn),Yn(t.calendarContainer,"arrowCenter",fr),Yn(t.calendarContainer,"arrowRight",Nn);var $n=window.document.body.offsetWidth-(window.pageXOffset+Oe.right),kt=lt+Q>window.document.body.offsetWidth,Rn=$n+Q>window.document.body.offsetWidth;if(Yn(t.calendarContainer,"rightMost",kt),!t.config.static)if(t.calendarContainer.style.top=Ne+"px",!kt)t.calendarContainer.style.left=lt+"px",t.calendarContainer.style.right="auto";else if(!Rn)t.calendarContainer.style.left="auto",t.calendarContainer.style.right=$n+"px";else{var yi=ye();if(yi===void 0)return;var Ql=window.document.body.offsetWidth,Cp=Math.max(0,Ql/2-Q/2),Mp=".flatpickr-calendar.centerMost:before",nf=".flatpickr-calendar.centerMost:after",Co=yi.cssRules.length,$l="{left:"+Oe.left+"px;right:auto;}";Yn(t.calendarContainer,"rightMost",!1),Yn(t.calendarContainer,"centerMost",!0),yi.insertRule(Mp+","+nf+$l,Co),t.calendarContainer.style.left=Cp+"px",t.calendarContainer.style.right="auto"}}}}function ye(){for(var D=null,R=0;R<document.styleSheets.length;R++){var V=document.styleSheets[R];if(V.cssRules){try{V.cssRules}catch{continue}D=V;break}}return D??he()}function he(){var D=document.createElement("style");return document.head.appendChild(D),D.sheet}function Me(){t.config.noCalendar||t.isMobile||(ne(),Rs(),$())}function ze(){t._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(t.close,0):t.close()}function ge(D){D.preventDefault(),D.stopPropagation();var R=function(Ne){return Ne.classList&&Ne.classList.contains("flatpickr-day")&&!Ne.classList.contains("flatpickr-disabled")&&!Ne.classList.contains("notAllowed")},V=Bk(xr(D),R);if(V!==void 0){var Q=V,ce=t.latestSelectedDateObj=new Date(Q.dateObj.getTime()),pe=(ce.getMonth()<t.currentMonth||ce.getMonth()>t.currentMonth+t.config.showMonths-1)&&t.config.mode!=="range";if(t.selectedDateElem=Q,t.config.mode==="single")t.selectedDates=[ce];else if(t.config.mode==="multiple"){var Ue=Xl(ce);Ue?t.selectedDates.splice(parseInt(Ue),1):t.selectedDates.push(ce)}else t.config.mode==="range"&&(t.selectedDates.length===2&&t.clear(!1,!1),t.latestSelectedDateObj=ce,t.selectedDates.push(ce),_r(ce,t.selectedDates[0],!0)!==0&&t.selectedDates.sort(function(Ne,lt){return Ne.getTime()-lt.getTime()}));if(m(),pe){var Oe=t.currentYear!==ce.getFullYear();t.currentYear=ce.getFullYear(),t.currentMonth=ce.getMonth(),Oe&&(it("onYearChange"),ne()),it("onMonthChange")}if(Rs(),$(),Qn(),!pe&&t.config.mode!=="range"&&t.config.showMonths===1?P(Q):t.selectedDateElem!==void 0&&t.hourElement===void 0&&t.selectedDateElem&&t.selectedDateElem.focus(),t.hourElement!==void 0&&t.hourElement!==void 0&&t.hourElement.focus(),t.config.closeOnSelect){var qe=t.config.mode==="single"&&!t.config.enableTime,Ee=t.config.mode==="range"&&t.selectedDates.length===2&&!t.config.enableTime;(qe||Ee)&&ze()}T()}}var Ze={locale:[Eo,de],showMonths:[ee,c,ae],minDate:[M],maxDate:[M],positionElement:[Ao],clickOpens:[function(){t.config.clickOpens===!0?(S(t._input,"focus",t.open),S(t._input,"click",t.open)):(t._input.removeEventListener("focus",t.open),t._input.removeEventListener("click",t.open))}]};function Tt(D,R){if(D!==null&&typeof D=="object"){Object.assign(t.config,D);for(var V in D)Ze[V]!==void 0&&Ze[V].forEach(function(Q){return Q()})}else t.config[D]=R,Ze[D]!==void 0?Ze[D].forEach(function(Q){return Q()}):cv.indexOf(D)>-1&&(t.config[D]=fv(R));t.redraw(),Qn(!0)}function Ct(D,R){var V=[];if(D instanceof Array)V=D.map(function(Q){return t.parseDate(Q,R)});else if(D instanceof Date||typeof D=="number")V=[t.parseDate(D,R)];else if(typeof D=="string")switch(t.config.mode){case"single":case"time":V=[t.parseDate(D,R)];break;case"multiple":V=D.split(t.config.conjunction).map(function(Q){return t.parseDate(Q,R)});break;case"range":V=D.split(t.l10n.rangeSeparator).map(function(Q){return t.parseDate(Q,R)});break}else t.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(D)));t.selectedDates=t.config.allowInvalidPreload?V:V.filter(function(Q){return Q instanceof Date&&Fe(Q,!1)}),t.config.mode==="range"&&t.selectedDates.sort(function(Q,ce){return Q.getTime()-ce.getTime()})}function st(D,R,V){if(R===void 0&&(R=!1),V===void 0&&(V=t.config.dateFormat),D!==0&&!D||D instanceof Array&&D.length===0)return t.clear(R);Ct(D,V),t.latestSelectedDateObj=t.selectedDates[t.selectedDates.length-1],t.redraw(),M(void 0,R),g(),t.selectedDates.length===0&&t.clear(!1),Qn(R),R&&it("onChange")}function It(D){return D.slice().map(function(R){return typeof R=="string"||typeof R=="number"||R instanceof Date?t.parseDate(R,void 0,!0):R&&typeof R=="object"&&R.from&&R.to?{from:t.parseDate(R.from,void 0),to:t.parseDate(R.to,void 0)}:R}).filter(function(R){return R})}function cr(){t.selectedDates=[],t.now=t.parseDate(t.config.now)||new Date;var D=t.config.defaultDate||((t.input.nodeName==="INPUT"||t.input.nodeName==="TEXTAREA")&&t.input.placeholder&&t.input.value===t.input.placeholder?null:t.input.value);D&&Ct(D,t.config.dateFormat),t._initialDate=t.selectedDates.length>0?t.selectedDates[0]:t.config.minDate&&t.config.minDate.getTime()>t.now.getTime()?t.config.minDate:t.config.maxDate&&t.config.maxDate.getTime()<t.now.getTime()?t.config.maxDate:t.now,t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth(),t.selectedDates.length>0&&(t.latestSelectedDateObj=t.selectedDates[0]),t.config.minTime!==void 0&&(t.config.minTime=t.parseDate(t.config.minTime,"H:i")),t.config.maxTime!==void 0&&(t.config.maxTime=t.parseDate(t.config.maxTime,"H:i")),t.minDateHasTime=!!t.config.minDate&&(t.config.minDate.getHours()>0||t.config.minDate.getMinutes()>0||t.config.minDate.getSeconds()>0),t.maxDateHasTime=!!t.config.maxDate&&(t.config.maxDate.getHours()>0||t.config.maxDate.getMinutes()>0||t.config.maxDate.getSeconds()>0)}function To(){if(t.input=ba(),!t.input){t.config.errorHandler(new Error("Invalid input element specified"));return}t.input._type=t.input.type,t.input.type="text",t.input.classList.add("flatpickr-input"),t._input=t.input,t.config.altInput&&(t.altInput=dt(t.input.nodeName,t.config.altInputClass),t._input=t.altInput,t.altInput.placeholder=t.input.placeholder,t.altInput.disabled=t.input.disabled,t.altInput.required=t.input.required,t.altInput.tabIndex=t.input.tabIndex,t.altInput.type="text",t.input.setAttribute("type","hidden"),!t.config.static&&t.input.parentNode&&t.input.parentNode.insertBefore(t.altInput,t.input.nextSibling)),t.config.allowInput||t._input.setAttribute("readonly","readonly"),Ao()}function Ao(){t._positionElement=t.config.positionElement||t._input}function Oo(){var D=t.config.enableTime?t.config.noCalendar?"time":"datetime-local":"date";t.mobileInput=dt("input",t.input.className+" flatpickr-mobile"),t.mobileInput.tabIndex=1,t.mobileInput.type=D,t.mobileInput.disabled=t.input.disabled,t.mobileInput.required=t.input.required,t.mobileInput.placeholder=t.input.placeholder,t.mobileFormatStr=D==="datetime-local"?"Y-m-d\\TH:i:S":D==="date"?"Y-m-d":"H:i:S",t.selectedDates.length>0&&(t.mobileInput.defaultValue=t.mobileInput.value=t.formatDate(t.selectedDates[0],t.mobileFormatStr)),t.config.minDate&&(t.mobileInput.min=t.formatDate(t.config.minDate,"Y-m-d")),t.config.maxDate&&(t.mobileInput.max=t.formatDate(t.config.maxDate,"Y-m-d")),t.input.getAttribute("step")&&(t.mobileInput.step=String(t.input.getAttribute("step"))),t.input.type="hidden",t.altInput!==void 0&&(t.altInput.type="hidden");try{t.input.parentNode&&t.input.parentNode.insertBefore(t.mobileInput,t.input.nextSibling)}catch{}S(t.mobileInput,"change",function(R){t.setDate(xr(R).value,!1,t.mobileFormatStr),it("onChange"),it("onClose")})}function Hn(D){if(t.isOpen===!0)return t.close();t.open(D)}function it(D,R){if(t.config!==void 0){var V=t.config[D];if(V!==void 0&&V.length>0)for(var Q=0;V[Q]&&Q<V.length;Q++)V[Q](t.selectedDates,t.input.value,t,R);D==="onChange"&&(t.input.dispatchEvent(yn("change")),t.input.dispatchEvent(yn("input")))}}function yn(D){var R=document.createEvent("Event");return R.initEvent(D,!0,!0),R}function Xl(D){for(var R=0;R<t.selectedDates.length;R++){var V=t.selectedDates[R];if(V instanceof Date&&_r(V,D)===0)return""+R}return!1}function Op(D){return t.config.mode!=="range"||t.selectedDates.length<2?!1:_r(D,t.selectedDates[0])>=0&&_r(D,t.selectedDates[1])<=0}function Rs(){t.config.noCalendar||t.isMobile||!t.monthNav||(t.yearElements.forEach(function(D,R){var V=new Date(t.currentYear,t.currentMonth,1);V.setMonth(t.currentMonth+R),t.config.showMonths>1||t.config.monthSelectorType==="static"?t.monthElements[R].textContent=Wh(V.getMonth(),t.config.shorthandCurrentMonth,t.l10n)+" ":t.monthsDropdownContainer.value=V.getMonth().toString(),D.value=V.getFullYear().toString()}),t._hidePrevMonthArrow=t.config.minDate!==void 0&&(t.currentYear===t.config.minDate.getFullYear()?t.currentMonth<=t.config.minDate.getMonth():t.currentYear<t.config.minDate.getFullYear()),t._hideNextMonthArrow=t.config.maxDate!==void 0&&(t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth+1>t.config.maxDate.getMonth():t.currentYear>t.config.maxDate.getFullYear()))}function Sa(D){var R=D||(t.config.altInput?t.config.altFormat:t.config.dateFormat);return t.selectedDates.map(function(V){return t.formatDate(V,R)}).filter(function(V,Q,ce){return t.config.mode!=="range"||t.config.enableTime||ce.indexOf(V)===Q}).join(t.config.mode!=="range"?t.config.conjunction:t.l10n.rangeSeparator)}function Qn(D){D===void 0&&(D=!0),t.mobileInput!==void 0&&t.mobileFormatStr&&(t.mobileInput.value=t.latestSelectedDateObj!==void 0?t.formatDate(t.latestSelectedDateObj,t.mobileFormatStr):""),t.input.value=Sa(t.config.dateFormat),t.altInput!==void 0&&(t.altInput.value=Sa(t.config.altFormat)),D!==!1&&it("onValueUpdate")}function Ps(D){var R=xr(D),V=t.prevMonthNav.contains(R),Q=t.nextMonthNav.contains(R);V||Q?H(V?-1:1):t.yearElements.indexOf(R)>=0?R.select():R.classList.contains("arrowUp")?t.changeYear(t.currentYear+1):R.classList.contains("arrowDown")&&t.changeYear(t.currentYear-1)}function ki(D){D.preventDefault();var R=D.type==="keydown",V=xr(D),Q=V;t.amPM!==void 0&&V===t.amPM&&(t.amPM.textContent=t.l10n.amPM[Yr(t.amPM.textContent===t.l10n.amPM[0])]);var ce=parseFloat(Q.getAttribute("min")),pe=parseFloat(Q.getAttribute("max")),Ue=parseFloat(Q.getAttribute("step")),Oe=parseInt(Q.value,10),qe=D.delta||(R?D.which===38?1:-1:0),Ee=Oe+Ue*qe;if(typeof Q.value<"u"&&Q.value.length===2){var Ne=Q===t.hourElement,lt=Q===t.minuteElement;Ee<ce?(Ee=pe+Ee+Yr(!Ne)+(Yr(Ne)&&Yr(!t.amPM)),lt&&x(void 0,-1,t.hourElement)):Ee>pe&&(Ee=Q===t.hourElement?Ee-pe-Yr(!t.amPM):ce,lt&&x(void 0,1,t.hourElement)),t.amPM&&Ne&&(Ue===1?Ee+Oe===23:Math.abs(Ee-Oe)>Ue)&&(t.amPM.textContent=t.l10n.amPM[Yr(t.amPM.textContent===t.l10n.amPM[0])]),Q.value=or(Ee)}}return i(),t}function Dl(n,e){for(var t=Array.prototype.slice.call(n).filter(function(l){return l instanceof HTMLElement}),r=[],i=0;i<t.length;i++){var o=t[i];try{if(o.getAttribute("data-fp-omit")!==null)continue;o._flatpickr!==void 0&&(o._flatpickr.destroy(),o._flatpickr=void 0),o._flatpickr=qH(o,e||{}),r.push(o._flatpickr)}catch(l){console.error(l)}}return r.length===1?r[0]:r}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(n){return Dl(this,n)},HTMLElement.prototype.flatpickr=function(n){return Dl([this],n)});var Kt=function(n,e){return typeof n=="string"?Dl(window.document.querySelectorAll(n),e):n instanceof Node?Dl([n],e):Dl(n,e)};Kt.defaultConfig={};Kt.l10ns={en:Ln({},Hc),default:Ln({},Hc)};Kt.localize=function(n){Kt.l10ns.default=Ln(Ln({},Kt.l10ns.default),n)};Kt.setDefaults=function(n){Kt.defaultConfig=Ln(Ln({},Kt.defaultConfig),n)};Kt.parseDate=u0({});Kt.formatDate=zk({});Kt.compareDates=_r;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(n){return Dl(this,n)});Date.prototype.fp_incr=function(n){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof n=="string"?parseInt(n,10):n))};typeof window<"u"&&(window.flatpickr=Kt);const GH=["onCreate","onDestroy"],c0=["onChange","onOpen","onClose","onMonthChange","onYearChange","onReady","onValueUpdate","onDayCreate"],WH=(n,e)=>(c0.forEach(t=>{const r=e[t],i=n[t];if(r){i&&!Array.isArray(i)?n[t]=[n[t]]:n[t]||(n[t]=[]);const o=Array.isArray(r)?r:[r];n[t].length===0?n[t]=o:n[t].push(...o)}}),c0.forEach(t=>{delete e[t]}),GH.forEach(t=>{delete e[t]}),n),YH=n=>{const e=L.useMemo(()=>({...n}),[n]),{defaultValue:t,options:r={},value:i,children:o,render:l,onCreate:c,onDestroy:f}=e,h=L.useMemo(()=>WH(r,e),[r,e]),p=L.useRef(null),m=L.useRef(void 0);L.useImperativeHandle(n.ref,()=>({get flatpickr(){return m.current}}),[]),L.useEffect(()=>{const b=()=>{var T;h.onClose=h.onClose||(()=>{var A;(A=p.current)!=null&&A.blur&&p.current.blur()}),m.current=(((T=Kt)==null?void 0:T.default)||Kt)(p.current,h),c?.(m.current)},S=()=>{f?.(m.current),m.current&&m.current.destroy(),m.current=void 0};return b(),()=>{S()}},[h,c,f]),L.useEffect(()=>{var b;if(m.current){const S=Object.getOwnPropertyNames(h);for(let T=S.length-1;T>=0;T--){const A=S[T];let M=h[A];M?.toString()!==((b=m.current.config[A])==null?void 0:b.toString())&&(c0.includes(A)&&!Array.isArray(M)&&(M=[M]),m.current.set(A,M))}i!==void 0&&i!==m.current.input.value&&m.current.setDate(i,!1)}},[h,i]);const g=L.useCallback(b=>{p.current=b},[]);if(l)return l({...e,defaultValue:t,value:i},g);const y=L.useCallback(b=>{var S,T;n&&n.onChange&&(Array.isArray(n?.onChange)?(S=n?.onChange)==null||S.forEach(()=>[new Date(b.target.value)],i?.toString()||""):typeof n.onChange=="function"&&((T=n?.onChange)==null||T.call(n,[new Date(b.target.value)],i?.toString()||"",m.current)))},[n,i]);return r.wrap?C.jsx("div",{className:"flatpickr",ref:g,children:o}):C.jsx("input",{onChange:y,...e,value:i?.toString(),defaultValue:t,ref:g})};class Ns extends Error{}class KH extends Ns{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class ZH extends Ns{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class JH extends Ns{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class wl extends Ns{}class Uk extends Ns{constructor(e){super(`Invalid unit ${e}`)}}class In extends Ns{}class Ya extends Ns{constructor(){super("Zone is an abstract class")}}const me="numeric",mi="short",Nr="long",Yh={year:me,month:me,day:me},Hk={year:me,month:mi,day:me},XH={year:me,month:mi,day:me,weekday:mi},Fk={year:me,month:Nr,day:me},Vk={year:me,month:Nr,day:me,weekday:Nr},qk={hour:me,minute:me},Gk={hour:me,minute:me,second:me},Wk={hour:me,minute:me,second:me,timeZoneName:mi},Yk={hour:me,minute:me,second:me,timeZoneName:Nr},Kk={hour:me,minute:me,hourCycle:"h23"},Zk={hour:me,minute:me,second:me,hourCycle:"h23"},Jk={hour:me,minute:me,second:me,hourCycle:"h23",timeZoneName:mi},Xk={hour:me,minute:me,second:me,hourCycle:"h23",timeZoneName:Nr},Qk={year:me,month:me,day:me,hour:me,minute:me},$k={year:me,month:me,day:me,hour:me,minute:me,second:me},eD={year:me,month:mi,day:me,hour:me,minute:me},tD={year:me,month:mi,day:me,hour:me,minute:me,second:me},QH={year:me,month:mi,day:me,weekday:mi,hour:me,minute:me},nD={year:me,month:Nr,day:me,hour:me,minute:me,timeZoneName:mi},rD={year:me,month:Nr,day:me,hour:me,minute:me,second:me,timeZoneName:mi},iD={year:me,month:Nr,day:me,weekday:Nr,hour:me,minute:me,timeZoneName:Nr},aD={year:me,month:Nr,day:me,weekday:Nr,hour:me,minute:me,second:me,timeZoneName:Nr};class Qc{get type(){throw new Ya}get name(){throw new Ya}get ianaName(){return this.name}get isUniversal(){throw new Ya}offsetName(e,t){throw new Ya}formatOffset(e,t){throw new Ya}offset(e){throw new Ya}equals(e){throw new Ya}get isValid(){throw new Ya}}let mv=null;class bp extends Qc{static get instance(){return mv===null&&(mv=new bp),mv}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:t,locale:r}){return gD(e,t,r)}formatOffset(e,t){return Cc(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}const f0=new Map;function $H(n){let e=f0.get(n);return e===void 0&&(e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),f0.set(n,e)),e}const eF={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function tF(n,e){const t=n.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(t),[,i,o,l,c,f,h,p]=r;return[l,i,o,c,f,h,p]}function nF(n,e){const t=n.formatToParts(e),r=[];for(let i=0;i<t.length;i++){const{type:o,value:l}=t[i],c=eF[o];o==="era"?r[c]=l:je(c)||(r[c]=parseInt(l,10))}return r}const gv=new Map;class ma extends Qc{static create(e){let t=gv.get(e);return t===void 0&&gv.set(e,t=new ma(e)),t}static resetCache(){gv.clear(),f0.clear()}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=ma.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:t,locale:r}){return gD(e,t,r,this.name)}formatOffset(e,t){return Cc(this.offset(e),t)}offset(e){if(!this.valid)return NaN;const t=new Date(e);if(isNaN(t))return NaN;const r=$H(this.name);let[i,o,l,c,f,h,p]=r.formatToParts?nF(r,t):tF(r,t);c==="BC"&&(i=-Math.abs(i)+1);const g=Ep({year:i,month:o,day:l,hour:f===24?0:f,minute:h,second:p,millisecond:0});let y=+t;const b=y%1e3;return y-=b>=0?b:1e3+b,(g-y)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let NM={};function rF(n,e={}){const t=JSON.stringify([n,e]);let r=NM[t];return r||(r=new Intl.ListFormat(n,e),NM[t]=r),r}const d0=new Map;function h0(n,e={}){const t=JSON.stringify([n,e]);let r=d0.get(t);return r===void 0&&(r=new Intl.DateTimeFormat(n,e),d0.set(t,r)),r}const p0=new Map;function iF(n,e={}){const t=JSON.stringify([n,e]);let r=p0.get(t);return r===void 0&&(r=new Intl.NumberFormat(n,e),p0.set(t,r)),r}const m0=new Map;function aF(n,e={}){const{base:t,...r}=e,i=JSON.stringify([n,r]);let o=m0.get(i);return o===void 0&&(o=new Intl.RelativeTimeFormat(n,e),m0.set(i,o)),o}let cc=null;function oF(){return cc||(cc=new Intl.DateTimeFormat().resolvedOptions().locale,cc)}const g0=new Map;function oD(n){let e=g0.get(n);return e===void 0&&(e=new Intl.DateTimeFormat(n).resolvedOptions(),g0.set(n,e)),e}const y0=new Map;function sF(n){let e=y0.get(n);if(!e){const t=new Intl.Locale(n);e="getWeekInfo"in t?t.getWeekInfo():t.weekInfo,"minimalDays"in e||(e={...sD,...e}),y0.set(n,e)}return e}function lF(n){const e=n.indexOf("-x-");e!==-1&&(n=n.substring(0,e));const t=n.indexOf("-u-");if(t===-1)return[n];{let r,i;try{r=h0(n).resolvedOptions(),i=n}catch{const f=n.substring(0,t);r=h0(f).resolvedOptions(),i=f}const{numberingSystem:o,calendar:l}=r;return[i,o,l]}}function uF(n,e,t){return(t||e)&&(n.includes("-u-")||(n+="-u"),t&&(n+=`-ca-${t}`),e&&(n+=`-nu-${e}`)),n}function cF(n){const e=[];for(let t=1;t<=12;t++){const r=Pe.utc(2009,t,1);e.push(n(r))}return e}function fF(n){const e=[];for(let t=1;t<=7;t++){const r=Pe.utc(2016,11,13+t);e.push(n(r))}return e}function Ld(n,e,t,r){const i=n.listingMode();return i==="error"?null:i==="en"?t(e):r(e)}function dF(n){return n.numberingSystem&&n.numberingSystem!=="latn"?!1:n.numberingSystem==="latn"||!n.locale||n.locale.startsWith("en")||oD(n.locale).numberingSystem==="latn"}class hF{constructor(e,t,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:i,floor:o,...l}=r;if(!t||Object.keys(l).length>0){const c={useGrouping:!1,...r};r.padTo>0&&(c.minimumIntegerDigits=r.padTo),this.inf=iF(e,c)}}format(e){if(this.inf){const t=this.floor?Math.floor(e):e;return this.inf.format(t)}else{const t=this.floor?Math.floor(e):Tb(e,3);return en(t,this.padTo)}}}class pF{constructor(e,t,r){this.opts=r,this.originalZone=void 0;let i;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const l=-1*(e.offset/60),c=l>=0?`Etc/GMT+${l}`:`Etc/GMT${l}`;e.offset!==0&&ma.create(c).valid?(i=c,this.dt=e):(i="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,i=e.zone.name):(i="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const o={...this.opts};o.timeZone=o.timeZone||i,this.dtf=h0(t,o)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(t=>{if(t.type==="timeZoneName"){const r=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...t,value:r}}else return t}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class mF{constructor(e,t,r){this.opts={style:"long",...r},!t&&pD()&&(this.rtf=aF(e,r))}format(e,t){return this.rtf?this.rtf.format(e,t):IF(t,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}}const sD={firstDay:1,minimalDays:4,weekend:[6,7]};class mt{static fromOpts(e){return mt.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,t,r,i,o=!1){const l=e||Ft.defaultLocale,c=l||(o?"en-US":oF()),f=t||Ft.defaultNumberingSystem,h=r||Ft.defaultOutputCalendar,p=b0(i)||Ft.defaultWeekSettings;return new mt(c,f,h,p,l)}static resetCache(){cc=null,d0.clear(),p0.clear(),m0.clear(),g0.clear(),y0.clear()}static fromObject({locale:e,numberingSystem:t,outputCalendar:r,weekSettings:i}={}){return mt.create(e,t,r,i)}constructor(e,t,r,i,o){const[l,c,f]=lF(e);this.locale=l,this.numberingSystem=t||c||null,this.outputCalendar=r||f||null,this.weekSettings=i,this.intl=uF(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=o,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=dF(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),t=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&t?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:mt.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,b0(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,t=!1){return Ld(this,e,bD,()=>{const r=this.intl==="ja"||this.intl.startsWith("ja-");t&=!r;const i=t?{month:e,day:"numeric"}:{month:e},o=t?"format":"standalone";if(!this.monthsCache[o][e]){const l=r?c=>this.dtFormatter(c,i).format():c=>this.extract(c,i,"month");this.monthsCache[o][e]=cF(l)}return this.monthsCache[o][e]})}weekdays(e,t=!1){return Ld(this,e,TD,()=>{const r=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},i=t?"format":"standalone";return this.weekdaysCache[i][e]||(this.weekdaysCache[i][e]=fF(o=>this.extract(o,r,"weekday"))),this.weekdaysCache[i][e]})}meridiems(){return Ld(this,void 0,()=>AD,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Pe.utc(2016,11,13,9),Pe.utc(2016,11,13,19)].map(t=>this.extract(t,e,"dayperiod"))}return this.meridiemCache})}eras(e){return Ld(this,e,OD,()=>{const t={era:e};return this.eraCache[e]||(this.eraCache[e]=[Pe.utc(-40,1,1),Pe.utc(2017,1,1)].map(r=>this.extract(r,t,"era"))),this.eraCache[e]})}extract(e,t,r){const i=this.dtFormatter(e,t),o=i.formatToParts(),l=o.find(c=>c.type.toLowerCase()===r);return l?l.value:null}numberFormatter(e={}){return new hF(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,t={}){return new pF(e,this.intl,t)}relFormatter(e={}){return new mF(this.intl,this.isEnglish(),e)}listFormatter(e={}){return rF(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||oD(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:mD()?sF(this.locale):sD}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let yv=null;class Zn extends Qc{static get utcInstance(){return yv===null&&(yv=new Zn(0)),yv}static instance(e){return e===0?Zn.utcInstance:new Zn(e)}static parseSpecifier(e){if(e){const t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new Zn(Tp(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Cc(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Cc(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,t){return Cc(this.fixed,t)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class gF extends Qc{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function no(n,e){if(je(n)||n===null)return e;if(n instanceof Qc)return n;if(TF(n)){const t=n.toLowerCase();return t==="default"?e:t==="local"||t==="system"?bp.instance:t==="utc"||t==="gmt"?Zn.utcInstance:Zn.parseSpecifier(t)||ma.create(n)}else return fo(n)?Zn.instance(n):typeof n=="object"&&"offset"in n&&typeof n.offset=="function"?n:new gF(n)}const vb={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},RM={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},yF=vb.hanidec.replace(/[\[|\]]/g,"").split("");function vF(n){let e=parseInt(n,10);if(isNaN(e)){e="";for(let t=0;t<n.length;t++){const r=n.charCodeAt(t);if(n[t].search(vb.hanidec)!==-1)e+=yF.indexOf(n[t]);else for(const i in RM){const[o,l]=RM[i];r>=o&&r<=l&&(e+=r-o)}}return parseInt(e,10)}else return e}const v0=new Map;function bF(){v0.clear()}function ci({numberingSystem:n},e=""){const t=n||"latn";let r=v0.get(t);r===void 0&&(r=new Map,v0.set(t,r));let i=r.get(e);return i===void 0&&(i=new RegExp(`${vb[t]}${e}`),r.set(e,i)),i}let PM=()=>Date.now(),jM="system",LM=null,IM=null,BM=null,zM=60,UM,HM=null;class Ft{static get now(){return PM}static set now(e){PM=e}static set defaultZone(e){jM=e}static get defaultZone(){return no(jM,bp.instance)}static get defaultLocale(){return LM}static set defaultLocale(e){LM=e}static get defaultNumberingSystem(){return IM}static set defaultNumberingSystem(e){IM=e}static get defaultOutputCalendar(){return BM}static set defaultOutputCalendar(e){BM=e}static get defaultWeekSettings(){return HM}static set defaultWeekSettings(e){HM=b0(e)}static get twoDigitCutoffYear(){return zM}static set twoDigitCutoffYear(e){zM=e%100}static get throwOnInvalid(){return UM}static set throwOnInvalid(e){UM=e}static resetCaches(){mt.resetCache(),ma.resetCache(),Pe.resetCache(),bF()}}class pi{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const lD=[0,31,59,90,120,151,181,212,243,273,304,334],uD=[0,31,60,91,121,152,182,213,244,274,305,335];function Jr(n,e){return new pi("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${n}, which is invalid`)}function bb(n,e,t){const r=new Date(Date.UTC(n,e-1,t));n<100&&n>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const i=r.getUTCDay();return i===0?7:i}function cD(n,e,t){return t+($c(n)?uD:lD)[e-1]}function fD(n,e){const t=$c(n)?uD:lD,r=t.findIndex(o=>o<e),i=e-t[r];return{month:r+1,day:i}}function Sb(n,e){return(n-e+7)%7+1}function Kh(n,e=4,t=1){const{year:r,month:i,day:o}=n,l=cD(r,i,o),c=Sb(bb(r,i,o),t);let f=Math.floor((l-c+14-e)/7),h;return f<1?(h=r-1,f=Fc(h,e,t)):f>Fc(r,e,t)?(h=r+1,f=1):h=r,{weekYear:h,weekNumber:f,weekday:c,...Ap(n)}}function FM(n,e=4,t=1){const{weekYear:r,weekNumber:i,weekday:o}=n,l=Sb(bb(r,1,e),t),c=Nl(r);let f=i*7+o-l-7+e,h;f<1?(h=r-1,f+=Nl(h)):f>c?(h=r+1,f-=Nl(r)):h=r;const{month:p,day:m}=fD(h,f);return{year:h,month:p,day:m,...Ap(n)}}function vv(n){const{year:e,month:t,day:r}=n,i=cD(e,t,r);return{year:e,ordinal:i,...Ap(n)}}function VM(n){const{year:e,ordinal:t}=n,{month:r,day:i}=fD(e,t);return{year:e,month:r,day:i,...Ap(n)}}function qM(n,e){if(!je(n.localWeekday)||!je(n.localWeekNumber)||!je(n.localWeekYear)){if(!je(n.weekday)||!je(n.weekNumber)||!je(n.weekYear))throw new wl("Cannot mix locale-based week fields with ISO-based week fields");return je(n.localWeekday)||(n.weekday=n.localWeekday),je(n.localWeekNumber)||(n.weekNumber=n.localWeekNumber),je(n.localWeekYear)||(n.weekYear=n.localWeekYear),delete n.localWeekday,delete n.localWeekNumber,delete n.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function SF(n,e=4,t=1){const r=Sp(n.weekYear),i=Xr(n.weekNumber,1,Fc(n.weekYear,e,t)),o=Xr(n.weekday,1,7);return r?i?o?!1:Jr("weekday",n.weekday):Jr("week",n.weekNumber):Jr("weekYear",n.weekYear)}function EF(n){const e=Sp(n.year),t=Xr(n.ordinal,1,Nl(n.year));return e?t?!1:Jr("ordinal",n.ordinal):Jr("year",n.year)}function dD(n){const e=Sp(n.year),t=Xr(n.month,1,12),r=Xr(n.day,1,Zh(n.year,n.month));return e?t?r?!1:Jr("day",n.day):Jr("month",n.month):Jr("year",n.year)}function hD(n){const{hour:e,minute:t,second:r,millisecond:i}=n,o=Xr(e,0,23)||e===24&&t===0&&r===0&&i===0,l=Xr(t,0,59),c=Xr(r,0,59),f=Xr(i,0,999);return o?l?c?f?!1:Jr("millisecond",i):Jr("second",r):Jr("minute",t):Jr("hour",e)}function je(n){return typeof n>"u"}function fo(n){return typeof n=="number"}function Sp(n){return typeof n=="number"&&n%1===0}function TF(n){return typeof n=="string"}function AF(n){return Object.prototype.toString.call(n)==="[object Date]"}function pD(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function mD(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function OF(n){return Array.isArray(n)?n:[n]}function GM(n,e,t){if(n.length!==0)return n.reduce((r,i)=>{const o=[e(i),i];return r&&t(r[0],o[0])===r[0]?r:o},null)[1]}function CF(n,e){return e.reduce((t,r)=>(t[r]=n[r],t),{})}function Hl(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function b0(n){if(n==null)return null;if(typeof n!="object")throw new In("Week settings must be an object");if(!Xr(n.firstDay,1,7)||!Xr(n.minimalDays,1,7)||!Array.isArray(n.weekend)||n.weekend.some(e=>!Xr(e,1,7)))throw new In("Invalid week settings");return{firstDay:n.firstDay,minimalDays:n.minimalDays,weekend:Array.from(n.weekend)}}function Xr(n,e,t){return Sp(n)&&n>=e&&n<=t}function MF(n,e){return n-e*Math.floor(n/e)}function en(n,e=2){const t=n<0;let r;return t?r="-"+(""+-n).padStart(e,"0"):r=(""+n).padStart(e,"0"),r}function Qa(n){if(!(je(n)||n===null||n===""))return parseInt(n,10)}function us(n){if(!(je(n)||n===null||n===""))return parseFloat(n)}function Eb(n){if(!(je(n)||n===null||n==="")){const e=parseFloat("0."+n)*1e3;return Math.floor(e)}}function Tb(n,e,t="round"){const r=10**e;switch(t){case"expand":return n>0?Math.ceil(n*r)/r:Math.floor(n*r)/r;case"trunc":return Math.trunc(n*r)/r;case"round":return Math.round(n*r)/r;case"floor":return Math.floor(n*r)/r;case"ceil":return Math.ceil(n*r)/r;default:throw new RangeError(`Value rounding ${t} is out of range`)}}function $c(n){return n%4===0&&(n%100!==0||n%400===0)}function Nl(n){return $c(n)?366:365}function Zh(n,e){const t=MF(e-1,12)+1,r=n+(e-t)/12;return t===2?$c(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][t-1]}function Ep(n){let e=Date.UTC(n.year,n.month-1,n.day,n.hour,n.minute,n.second,n.millisecond);return n.year<100&&n.year>=0&&(e=new Date(e),e.setUTCFullYear(n.year,n.month-1,n.day)),+e}function WM(n,e,t){return-Sb(bb(n,1,e),t)+e-1}function Fc(n,e=4,t=1){const r=WM(n,e,t),i=WM(n+1,e,t);return(Nl(n)-r+i)/7}function S0(n){return n>99?n:n>Ft.twoDigitCutoffYear?1900+n:2e3+n}function gD(n,e,t,r=null){const i=new Date(n),o={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(o.timeZone=r);const l={timeZoneName:e,...o},c=new Intl.DateTimeFormat(t,l).formatToParts(i).find(f=>f.type.toLowerCase()==="timezonename");return c?c.value:null}function Tp(n,e){let t=parseInt(n,10);Number.isNaN(t)&&(t=0);const r=parseInt(e,10)||0,i=t<0||Object.is(t,-0)?-r:r;return t*60+i}function yD(n){const e=Number(n);if(typeof n=="boolean"||n===""||!Number.isFinite(e))throw new In(`Invalid unit value ${n}`);return e}function Jh(n,e){const t={};for(const r in n)if(Hl(n,r)){const i=n[r];if(i==null)continue;t[e(r)]=yD(i)}return t}function Cc(n,e){const t=Math.trunc(Math.abs(n/60)),r=Math.trunc(Math.abs(n%60)),i=n>=0?"+":"-";switch(e){case"short":return`${i}${en(t,2)}:${en(r,2)}`;case"narrow":return`${i}${t}${r>0?`:${r}`:""}`;case"techie":return`${i}${en(t,2)}${en(r,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function Ap(n){return CF(n,["hour","minute","second","millisecond"])}const wF=["January","February","March","April","May","June","July","August","September","October","November","December"],vD=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],xF=["J","F","M","A","M","J","J","A","S","O","N","D"];function bD(n){switch(n){case"narrow":return[...xF];case"short":return[...vD];case"long":return[...wF];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const SD=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],ED=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],_F=["M","T","W","T","F","S","S"];function TD(n){switch(n){case"narrow":return[..._F];case"short":return[...ED];case"long":return[...SD];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const AD=["AM","PM"],kF=["Before Christ","Anno Domini"],DF=["BC","AD"],NF=["B","A"];function OD(n){switch(n){case"narrow":return[...NF];case"short":return[...DF];case"long":return[...kF];default:return null}}function RF(n){return AD[n.hour<12?0:1]}function PF(n,e){return TD(e)[n.weekday-1]}function jF(n,e){return bD(e)[n.month-1]}function LF(n,e){return OD(e)[n.year<0?0:1]}function IF(n,e,t="always",r=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},o=["hours","minutes","seconds"].indexOf(n)===-1;if(t==="auto"&&o){const m=n==="days";switch(e){case 1:return m?"tomorrow":`next ${i[n][0]}`;case-1:return m?"yesterday":`last ${i[n][0]}`;case 0:return m?"today":`this ${i[n][0]}`}}const l=Object.is(e,-0)||e<0,c=Math.abs(e),f=c===1,h=i[n],p=r?f?h[1]:h[2]||h[1]:f?i[n][0]:n;return l?`${c} ${p} ago`:`in ${c} ${p}`}function YM(n,e){let t="";for(const r of n)r.literal?t+=r.val:t+=e(r.val);return t}const BF={D:Yh,DD:Hk,DDD:Fk,DDDD:Vk,t:qk,tt:Gk,ttt:Wk,tttt:Yk,T:Kk,TT:Zk,TTT:Jk,TTTT:Xk,f:Qk,ff:eD,fff:nD,ffff:iD,F:$k,FF:tD,FFF:rD,FFFF:aD};class Bn{static create(e,t={}){return new Bn(e,t)}static parseFormat(e){let t=null,r="",i=!1;const o=[];for(let l=0;l<e.length;l++){const c=e.charAt(l);c==="'"?((r.length>0||i)&&o.push({literal:i||/^\s+$/.test(r),val:r===""?"'":r}),t=null,r="",i=!i):i||c===t?r+=c:(r.length>0&&o.push({literal:/^\s+$/.test(r),val:r}),r=c,t=c)}return r.length>0&&o.push({literal:i||/^\s+$/.test(r),val:r}),o}static macroTokenToFormatOpts(e){return BF[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...t}).format()}dtFormatter(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t})}formatDateTime(e,t){return this.dtFormatter(e,t).format()}formatDateTimeParts(e,t){return this.dtFormatter(e,t).formatToParts()}formatInterval(e,t){return this.dtFormatter(e.start,t).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,t){return this.dtFormatter(e,t).resolvedOptions()}num(e,t=0,r=void 0){if(this.opts.forceSimple)return en(e,t);const i={...this.opts};return t>0&&(i.padTo=t),r&&(i.signDisplay=r),this.loc.numberFormatter(i).format(e)}formatDateTimeFromString(e,t){const r=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",o=(y,b)=>this.loc.extract(e,y,b),l=y=>e.isOffsetFixed&&e.offset===0&&y.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,y.format):"",c=()=>r?RF(e):o({hour:"numeric",hourCycle:"h12"},"dayperiod"),f=(y,b)=>r?jF(e,y):o(b?{month:y}:{month:y,day:"numeric"},"month"),h=(y,b)=>r?PF(e,y):o(b?{weekday:y}:{weekday:y,month:"long",day:"numeric"},"weekday"),p=y=>{const b=Bn.macroTokenToFormatOpts(y);return b?this.formatWithSystemDefault(e,b):y},m=y=>r?LF(e,y):o({era:y},"era"),g=y=>{switch(y){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return l({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return l({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return l({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return c();case"d":return i?o({day:"numeric"},"day"):this.num(e.day);case"dd":return i?o({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return h("short",!0);case"cccc":return h("long",!0);case"ccccc":return h("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return h("short",!1);case"EEEE":return h("long",!1);case"EEEEE":return h("narrow",!1);case"L":return i?o({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return i?o({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return f("short",!0);case"LLLL":return f("long",!0);case"LLLLL":return f("narrow",!0);case"M":return i?o({month:"numeric"},"month"):this.num(e.month);case"MM":return i?o({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return f("short",!1);case"MMMM":return f("long",!1);case"MMMMM":return f("narrow",!1);case"y":return i?o({year:"numeric"},"year"):this.num(e.year);case"yy":return i?o({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return i?o({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return i?o({year:"numeric"},"year"):this.num(e.year,6);case"G":return m("short");case"GG":return m("long");case"GGGGG":return m("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return p(y)}};return YM(Bn.parseFormat(t),g)}formatDurationFromString(e,t){const r=this.opts.signMode==="negativeLargestOnly"?-1:1,i=p=>{switch(p[0]){case"S":return"milliseconds";case"s":return"seconds";case"m":return"minutes";case"h":return"hours";case"d":return"days";case"w":return"weeks";case"M":return"months";case"y":return"years";default:return null}},o=(p,m)=>g=>{const y=i(g);if(y){const b=m.isNegativeDuration&&y!==m.largestUnit?r:1;let S;return this.opts.signMode==="negativeLargestOnly"&&y!==m.largestUnit?S="never":this.opts.signMode==="all"?S="always":S="auto",this.num(p.get(y)*b,g.length,S)}else return g},l=Bn.parseFormat(t),c=l.reduce((p,{literal:m,val:g})=>m?p:p.concat(g),[]),f=e.shiftTo(...c.map(i).filter(p=>p)),h={isNegativeDuration:f<0,largestUnit:Object.keys(f.values)[0]};return YM(l,o(f,h))}}const CD=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Yl(...n){const e=n.reduce((t,r)=>t+r.source,"");return RegExp(`^${e}$`)}function Kl(...n){return e=>n.reduce(([t,r,i],o)=>{const[l,c,f]=o(e,i);return[{...t,...l},c||r,f]},[{},null,1]).slice(0,2)}function Zl(n,...e){if(n==null)return[null,null];for(const[t,r]of e){const i=t.exec(n);if(i)return r(i)}return[null,null]}function MD(...n){return(e,t)=>{const r={};let i;for(i=0;i<n.length;i++)r[n[i]]=Qa(e[t+i]);return[r,null,t+i]}}const wD=/(?:([Zz])|([+-]\d\d)(?::?(\d\d))?)/,zF=`(?:${wD.source}?(?:\\[(${CD.source})\\])?)?`,Ab=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,xD=RegExp(`${Ab.source}${zF}`),Ob=RegExp(`(?:[Tt]${xD.source})?`),UF=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,HF=/(\d{4})-?W(\d\d)(?:-?(\d))?/,FF=/(\d{4})-?(\d{3})/,VF=MD("weekYear","weekNumber","weekDay"),qF=MD("year","ordinal"),GF=/(\d{4})-(\d\d)-(\d\d)/,_D=RegExp(`${Ab.source} ?(?:${wD.source}|(${CD.source}))?`),WF=RegExp(`(?: ${_D.source})?`);function Rl(n,e,t){const r=n[e];return je(r)?t:Qa(r)}function YF(n,e){return[{year:Rl(n,e),month:Rl(n,e+1,1),day:Rl(n,e+2,1)},null,e+3]}function Jl(n,e){return[{hours:Rl(n,e,0),minutes:Rl(n,e+1,0),seconds:Rl(n,e+2,0),milliseconds:Eb(n[e+3])},null,e+4]}function ef(n,e){const t=!n[e]&&!n[e+1],r=Tp(n[e+1],n[e+2]),i=t?null:Zn.instance(r);return[{},i,e+3]}function tf(n,e){const t=n[e]?ma.create(n[e]):null;return[{},t,e+1]}const KF=RegExp(`^T?${Ab.source}$`),ZF=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function JF(n){const[e,t,r,i,o,l,c,f,h]=n,p=e[0]==="-",m=f&&f[0]==="-",g=(y,b=!1)=>y!==void 0&&(b||y&&p)?-y:y;return[{years:g(us(t)),months:g(us(r)),weeks:g(us(i)),days:g(us(o)),hours:g(us(l)),minutes:g(us(c)),seconds:g(us(f),f==="-0"),milliseconds:g(Eb(h),m)}]}const XF={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Cb(n,e,t,r,i,o,l){const c={year:e.length===2?S0(Qa(e)):Qa(e),month:vD.indexOf(t)+1,day:Qa(r),hour:Qa(i),minute:Qa(o)};return l&&(c.second=Qa(l)),n&&(c.weekday=n.length>3?SD.indexOf(n)+1:ED.indexOf(n)+1),c}const QF=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function $F(n){const[,e,t,r,i,o,l,c,f,h,p,m]=n,g=Cb(e,i,r,t,o,l,c);let y;return f?y=XF[f]:h?y=0:y=Tp(p,m),[g,new Zn(y)]}function eV(n){return n.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const tV=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,nV=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,rV=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function KM(n){const[,e,t,r,i,o,l,c]=n;return[Cb(e,i,r,t,o,l,c),Zn.utcInstance]}function iV(n){const[,e,t,r,i,o,l,c]=n;return[Cb(e,c,t,r,i,o,l),Zn.utcInstance]}const aV=Yl(UF,Ob),oV=Yl(HF,Ob),sV=Yl(FF,Ob),lV=Yl(xD),kD=Kl(YF,Jl,ef,tf),uV=Kl(VF,Jl,ef,tf),cV=Kl(qF,Jl,ef,tf),fV=Kl(Jl,ef,tf);function dV(n){return Zl(n,[aV,kD],[oV,uV],[sV,cV],[lV,fV])}function hV(n){return Zl(eV(n),[QF,$F])}function pV(n){return Zl(n,[tV,KM],[nV,KM],[rV,iV])}function mV(n){return Zl(n,[ZF,JF])}const gV=Kl(Jl);function yV(n){return Zl(n,[KF,gV])}const vV=Yl(GF,WF),bV=Yl(_D),SV=Kl(Jl,ef,tf);function EV(n){return Zl(n,[vV,kD],[bV,SV])}const ZM="Invalid Duration",DD={weeks:{days:7,hours:168,minutes:10080,seconds:10080*60,milliseconds:10080*60*1e3},days:{hours:24,minutes:1440,seconds:1440*60,milliseconds:1440*60*1e3},hours:{minutes:60,seconds:3600,milliseconds:3600*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},TV={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:2184*60,seconds:2184*60*60,milliseconds:2184*60*60*1e3},months:{weeks:4,days:30,hours:720,minutes:720*60,seconds:720*60*60,milliseconds:720*60*60*1e3},...DD},Gr=146097/400,Sl=146097/4800,AV={years:{quarters:4,months:12,weeks:Gr/7,days:Gr,hours:Gr*24,minutes:Gr*24*60,seconds:Gr*24*60*60,milliseconds:Gr*24*60*60*1e3},quarters:{months:3,weeks:Gr/28,days:Gr/4,hours:Gr*24/4,minutes:Gr*24*60/4,seconds:Gr*24*60*60/4,milliseconds:Gr*24*60*60*1e3/4},months:{weeks:Sl/7,days:Sl,hours:Sl*24,minutes:Sl*24*60,seconds:Sl*24*60*60,milliseconds:Sl*24*60*60*1e3},...DD},ys=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],OV=ys.slice(0).reverse();function aa(n,e,t=!1){const r={values:t?e.values:{...n.values,...e.values||{}},loc:n.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||n.conversionAccuracy,matrix:e.matrix||n.matrix};return new rt(r)}function ND(n,e){let t=e.milliseconds??0;for(const r of OV.slice(1))e[r]&&(t+=e[r]*n[r].milliseconds);return t}function JM(n,e){const t=ND(n,e)<0?-1:1;ys.reduceRight((r,i)=>{if(je(e[i]))return r;if(r){const o=e[r]*t,l=n[i][r],c=Math.floor(o/l);e[i]+=c*t,e[r]-=c*l*t}return i},null),ys.reduce((r,i)=>{if(je(e[i]))return r;if(r){const o=e[r]%1;e[r]-=o,e[i]+=o*n[r][i]}return i},null)}function XM(n){const e={};for(const[t,r]of Object.entries(n))r!==0&&(e[t]=r);return e}class rt{constructor(e){const t=e.conversionAccuracy==="longterm"||!1;let r=t?AV:TV;e.matrix&&(r=e.matrix),this.values=e.values,this.loc=e.loc||mt.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(e,t){return rt.fromObject({milliseconds:e},t)}static fromObject(e,t={}){if(e==null||typeof e!="object")throw new In(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new rt({values:Jh(e,rt.normalizeUnit),loc:mt.fromObject(t),conversionAccuracy:t.conversionAccuracy,matrix:t.matrix})}static fromDurationLike(e){if(fo(e))return rt.fromMillis(e);if(rt.isDuration(e))return e;if(typeof e=="object")return rt.fromObject(e);throw new In(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,t){const[r]=mV(e);return r?rt.fromObject(r,t):rt.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,t){const[r]=yV(e);return r?rt.fromObject(r,t):rt.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,t=null){if(!e)throw new In("need to specify a reason the Duration is invalid");const r=e instanceof pi?e:new pi(e,t);if(Ft.throwOnInvalid)throw new JH(r);return new rt({invalid:r})}static normalizeUnit(e){const t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!t)throw new Uk(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,t={}){const r={...t,floor:t.round!==!1&&t.floor!==!1};return this.isValid?Bn.create(this.loc,r).formatDurationFromString(this,e):ZM}toHuman(e={}){if(!this.isValid)return ZM;const t=e.showZeros!==!1,r=ys.map(i=>{const o=this.values[i];return je(o)||o===0&&!t?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:i.slice(0,-1)}).format(o)}).filter(i=>i);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(r)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=Tb(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const t=this.toMillis();return t<0||t>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},Pe.fromMillis(t,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?ND(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const t=rt.fromDurationLike(e),r={};for(const i of ys)(Hl(t.values,i)||Hl(this.values,i))&&(r[i]=t.get(i)+this.get(i));return aa(this,{values:r},!0)}minus(e){if(!this.isValid)return this;const t=rt.fromDurationLike(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;const t={};for(const r of Object.keys(this.values))t[r]=yD(e(this.values[r],r));return aa(this,{values:t},!0)}get(e){return this[rt.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const t={...this.values,...Jh(e,rt.normalizeUnit)};return aa(this,{values:t})}reconfigure({locale:e,numberingSystem:t,conversionAccuracy:r,matrix:i}={}){const l={loc:this.loc.clone({locale:e,numberingSystem:t}),matrix:i,conversionAccuracy:r};return aa(this,l)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return JM(this.matrix,e),aa(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=XM(this.normalize().shiftToAll().toObject());return aa(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(l=>rt.normalizeUnit(l));const t={},r={},i=this.toObject();let o;for(const l of ys)if(e.indexOf(l)>=0){o=l;let c=0;for(const h in r)c+=this.matrix[h][l]*r[h],r[h]=0;fo(i[l])&&(c+=i[l]);const f=Math.trunc(c);t[l]=f,r[l]=(c*1e3-f*1e3)/1e3}else fo(i[l])&&(r[l]=i[l]);for(const l in r)r[l]!==0&&(t[o]+=l===o?r[l]:r[l]/this.matrix[o][l]);return JM(this.matrix,t),aa(this,{values:t},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const t of Object.keys(this.values))e[t]=this.values[t]===0?0:-this.values[t];return aa(this,{values:e},!0)}removeZeros(){if(!this.isValid)return this;const e=XM(this.values);return aa(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function t(r,i){return r===void 0||r===0?i===void 0||i===0:r===i}for(const r of ys)if(!t(this.values[r],e.values[r]))return!1;return!0}}const El="Invalid Interval";function CV(n,e){return!n||!n.isValid?Ht.invalid("missing or invalid start"):!e||!e.isValid?Ht.invalid("missing or invalid end"):e<n?Ht.invalid("end before start",`The end of an interval must be after its start, but you had start=${n.toISO()} and end=${e.toISO()}`):null}class Ht{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,t=null){if(!e)throw new In("need to specify a reason the Interval is invalid");const r=e instanceof pi?e:new pi(e,t);if(Ft.throwOnInvalid)throw new ZH(r);return new Ht({invalid:r})}static fromDateTimes(e,t){const r=rc(e),i=rc(t),o=CV(r,i);return o??new Ht({start:r,end:i})}static after(e,t){const r=rt.fromDurationLike(t),i=rc(e);return Ht.fromDateTimes(i,i.plus(r))}static before(e,t){const r=rt.fromDurationLike(t),i=rc(e);return Ht.fromDateTimes(i.minus(r),i)}static fromISO(e,t){const[r,i]=(e||"").split("/",2);if(r&&i){let o,l;try{o=Pe.fromISO(r,t),l=o.isValid}catch{l=!1}let c,f;try{c=Pe.fromISO(i,t),f=c.isValid}catch{f=!1}if(l&&f)return Ht.fromDateTimes(o,c);if(l){const h=rt.fromISO(i,t);if(h.isValid)return Ht.after(o,h)}else if(f){const h=rt.fromISO(r,t);if(h.isValid)return Ht.before(c,h)}}return Ht.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",t){if(!this.isValid)return NaN;const r=this.start.startOf(e,t);let i;return t?.useLocaleWeeks?i=this.end.reconfigure({locale:r.locale}):i=this.end,i=i.startOf(e,t),Math.floor(i.diff(r,e).get(e))+(i.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:t}={}){return this.isValid?Ht.fromDateTimes(e||this.s,t||this.e):this}splitAt(...e){if(!this.isValid)return[];const t=e.map(rc).filter(l=>this.contains(l)).sort((l,c)=>l.toMillis()-c.toMillis()),r=[];let{s:i}=this,o=0;for(;i<this.e;){const l=t[o]||this.e,c=+l>+this.e?this.e:l;r.push(Ht.fromDateTimes(i,c)),i=c,o+=1}return r}splitBy(e){const t=rt.fromDurationLike(e);if(!this.isValid||!t.isValid||t.as("milliseconds")===0)return[];let{s:r}=this,i=1,o;const l=[];for(;r<this.e;){const c=this.start.plus(t.mapUnits(f=>f*i));o=+c>+this.e?this.e:c,l.push(Ht.fromDateTimes(r,o)),r=o,i+=1}return l}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const t=this.s>e.s?this.s:e.s,r=this.e<e.e?this.e:e.e;return t>=r?null:Ht.fromDateTimes(t,r)}union(e){if(!this.isValid)return this;const t=this.s<e.s?this.s:e.s,r=this.e>e.e?this.e:e.e;return Ht.fromDateTimes(t,r)}static merge(e){const[t,r]=e.sort((i,o)=>i.s-o.s).reduce(([i,o],l)=>o?o.overlaps(l)||o.abutsStart(l)?[i,o.union(l)]:[i.concat([o]),l]:[i,l],[[],null]);return r&&t.push(r),t}static xor(e){let t=null,r=0;const i=[],o=e.map(f=>[{time:f.s,type:"s"},{time:f.e,type:"e"}]),l=Array.prototype.concat(...o),c=l.sort((f,h)=>f.time-h.time);for(const f of c)r+=f.type==="s"?1:-1,r===1?t=f.time:(t&&+t!=+f.time&&i.push(Ht.fromDateTimes(t,f.time)),t=null);return Ht.merge(i)}difference(...e){return Ht.xor([this].concat(e)).map(t=>this.intersection(t)).filter(t=>t&&!t.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:El}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=Yh,t={}){return this.isValid?Bn.create(this.s.loc.clone(t),e).formatInterval(this):El}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:El}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:El}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:El}toFormat(e,{separator:t="  "}={}){return this.isValid?`${this.s.toFormat(e)}${t}${this.e.toFormat(e)}`:El}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):rt.invalid(this.invalidReason)}mapEndpoints(e){return Ht.fromDateTimes(e(this.s),e(this.e))}}class Id{static hasDST(e=Ft.defaultZone){const t=Pe.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return ma.isValidZone(e)}static normalizeZone(e){return no(e,Ft.defaultZone)}static getStartOfWeek({locale:e=null,locObj:t=null}={}){return(t||mt.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:t=null}={}){return(t||mt.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:t=null}={}){return(t||mt.create(e)).getWeekendDays().slice()}static months(e="long",{locale:t=null,numberingSystem:r=null,locObj:i=null,outputCalendar:o="gregory"}={}){return(i||mt.create(t,r,o)).months(e)}static monthsFormat(e="long",{locale:t=null,numberingSystem:r=null,locObj:i=null,outputCalendar:o="gregory"}={}){return(i||mt.create(t,r,o)).months(e,!0)}static weekdays(e="long",{locale:t=null,numberingSystem:r=null,locObj:i=null}={}){return(i||mt.create(t,r,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:t=null,numberingSystem:r=null,locObj:i=null}={}){return(i||mt.create(t,r,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return mt.create(e).meridiems()}static eras(e="short",{locale:t=null}={}){return mt.create(t,null,"gregory").eras(e)}static features(){return{relative:pD(),localeWeek:mD()}}}function QM(n,e){const t=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=t(e)-t(n);return Math.floor(rt.fromMillis(r).as("days"))}function MV(n,e,t){const r=[["years",(f,h)=>h.year-f.year],["quarters",(f,h)=>h.quarter-f.quarter+(h.year-f.year)*4],["months",(f,h)=>h.month-f.month+(h.year-f.year)*12],["weeks",(f,h)=>{const p=QM(f,h);return(p-p%7)/7}],["days",QM]],i={},o=n;let l,c;for(const[f,h]of r)t.indexOf(f)>=0&&(l=f,i[f]=h(n,e),c=o.plus(i),c>e?(i[f]--,n=o.plus(i),n>e&&(c=n,i[f]--,n=o.plus(i))):n=c);return[n,i,c,l]}function wV(n,e,t,r){let[i,o,l,c]=MV(n,e,t);const f=e-i,h=t.filter(m=>["hours","minutes","seconds","milliseconds"].indexOf(m)>=0);h.length===0&&(l<e&&(l=i.plus({[c]:1})),l!==i&&(o[c]=(o[c]||0)+f/(l-i)));const p=rt.fromObject(o,r);return h.length>0?rt.fromMillis(f,r).shiftTo(...h).plus(p):p}const xV="missing Intl.DateTimeFormat.formatToParts support";function ft(n,e=t=>t){return{regex:n,deser:([t])=>e(vF(t))}}const _V="",RD=`[ ${_V}]`,PD=new RegExp(RD,"g");function kV(n){return n.replace(/\./g,"\\.?").replace(PD,RD)}function $M(n){return n.replace(/\./g,"").replace(PD," ").toLowerCase()}function fi(n,e){return n===null?null:{regex:RegExp(n.map(kV).join("|")),deser:([t])=>n.findIndex(r=>$M(t)===$M(r))+e}}function ew(n,e){return{regex:n,deser:([,t,r])=>Tp(t,r),groups:e}}function Bd(n){return{regex:n,deser:([e])=>e}}function DV(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function NV(n,e){const t=ci(e),r=ci(e,"{2}"),i=ci(e,"{3}"),o=ci(e,"{4}"),l=ci(e,"{6}"),c=ci(e,"{1,2}"),f=ci(e,"{1,3}"),h=ci(e,"{1,6}"),p=ci(e,"{1,9}"),m=ci(e,"{2,4}"),g=ci(e,"{4,6}"),y=T=>({regex:RegExp(DV(T.val)),deser:([A])=>A,literal:!0}),S=(T=>{if(n.literal)return y(T);switch(T.val){case"G":return fi(e.eras("short"),0);case"GG":return fi(e.eras("long"),0);case"y":return ft(h);case"yy":return ft(m,S0);case"yyyy":return ft(o);case"yyyyy":return ft(g);case"yyyyyy":return ft(l);case"M":return ft(c);case"MM":return ft(r);case"MMM":return fi(e.months("short",!0),1);case"MMMM":return fi(e.months("long",!0),1);case"L":return ft(c);case"LL":return ft(r);case"LLL":return fi(e.months("short",!1),1);case"LLLL":return fi(e.months("long",!1),1);case"d":return ft(c);case"dd":return ft(r);case"o":return ft(f);case"ooo":return ft(i);case"HH":return ft(r);case"H":return ft(c);case"hh":return ft(r);case"h":return ft(c);case"mm":return ft(r);case"m":return ft(c);case"q":return ft(c);case"qq":return ft(r);case"s":return ft(c);case"ss":return ft(r);case"S":return ft(f);case"SSS":return ft(i);case"u":return Bd(p);case"uu":return Bd(c);case"uuu":return ft(t);case"a":return fi(e.meridiems(),0);case"kkkk":return ft(o);case"kk":return ft(m,S0);case"W":return ft(c);case"WW":return ft(r);case"E":case"c":return ft(t);case"EEE":return fi(e.weekdays("short",!1),1);case"EEEE":return fi(e.weekdays("long",!1),1);case"ccc":return fi(e.weekdays("short",!0),1);case"cccc":return fi(e.weekdays("long",!0),1);case"Z":case"ZZ":return ew(new RegExp(`([+-]${c.source})(?::(${r.source}))?`),2);case"ZZZ":return ew(new RegExp(`([+-]${c.source})(${r.source})?`),2);case"z":return Bd(/[a-z_+-/]{1,256}?/i);case" ":return Bd(/[^\S\n\r]/);default:return y(T)}})(n)||{invalidReason:xV};return S.token=n,S}const RV={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function PV(n,e,t){const{type:r,value:i}=n;if(r==="literal"){const f=/^\s+$/.test(i);return{literal:!f,val:f?" ":i}}const o=e[r];let l=r;r==="hour"&&(e.hour12!=null?l=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?l="hour12":l="hour24":l=t.hour12?"hour12":"hour24");let c=RV[l];if(typeof c=="object"&&(c=c[o]),c)return{literal:!1,val:c}}function jV(n){return[`^${n.map(t=>t.regex).reduce((t,r)=>`${t}(${r.source})`,"")}$`,n]}function LV(n,e,t){const r=n.match(e);if(r){const i={};let o=1;for(const l in t)if(Hl(t,l)){const c=t[l],f=c.groups?c.groups+1:1;!c.literal&&c.token&&(i[c.token.val[0]]=c.deser(r.slice(o,o+f))),o+=f}return[r,i]}else return[r,{}]}function IV(n){const e=o=>{switch(o){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let t=null,r;return je(n.z)||(t=ma.create(n.z)),je(n.Z)||(t||(t=new Zn(n.Z)),r=n.Z),je(n.q)||(n.M=(n.q-1)*3+1),je(n.h)||(n.h<12&&n.a===1?n.h+=12:n.h===12&&n.a===0&&(n.h=0)),n.G===0&&n.y&&(n.y=-n.y),je(n.u)||(n.S=Eb(n.u)),[Object.keys(n).reduce((o,l)=>{const c=e(l);return c&&(o[c]=n[l]),o},{}),t,r]}let bv=null;function BV(){return bv||(bv=Pe.fromMillis(1555555555555)),bv}function zV(n,e){if(n.literal)return n;const t=Bn.macroTokenToFormatOpts(n.val),r=BD(t,e);return r==null||r.includes(void 0)?n:r}function jD(n,e){return Array.prototype.concat(...n.map(t=>zV(t,e)))}class LD{constructor(e,t){if(this.locale=e,this.format=t,this.tokens=jD(Bn.parseFormat(t),e),this.units=this.tokens.map(r=>NV(r,e)),this.disqualifyingUnit=this.units.find(r=>r.invalidReason),!this.disqualifyingUnit){const[r,i]=jV(this.units);this.regex=RegExp(r,"i"),this.handlers=i}}explainFromTokens(e){if(this.isValid){const[t,r]=LV(e,this.regex,this.handlers),[i,o,l]=r?IV(r):[null,null,void 0];if(Hl(r,"a")&&Hl(r,"H"))throw new wl("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:t,matches:r,result:i,zone:o,specificOffset:l}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function ID(n,e,t){return new LD(n,t).explainFromTokens(e)}function UV(n,e,t){const{result:r,zone:i,specificOffset:o,invalidReason:l}=ID(n,e,t);return[r,i,o,l]}function BD(n,e){if(!n)return null;const r=Bn.create(e,n).dtFormatter(BV()),i=r.formatToParts(),o=r.resolvedOptions();return i.map(l=>PV(l,n,o))}const Sv="Invalid DateTime",tw=864e13;function fc(n){return new pi("unsupported zone",`the zone "${n.name}" is not supported`)}function Ev(n){return n.weekData===null&&(n.weekData=Kh(n.c)),n.weekData}function Tv(n){return n.localWeekData===null&&(n.localWeekData=Kh(n.c,n.loc.getMinDaysInFirstWeek(),n.loc.getStartOfWeek())),n.localWeekData}function cs(n,e){const t={ts:n.ts,zone:n.zone,c:n.c,o:n.o,loc:n.loc,invalid:n.invalid};return new Pe({...t,...e,old:t})}function zD(n,e,t){let r=n-e*60*1e3;const i=t.offset(r);if(e===i)return[r,e];r-=(i-e)*60*1e3;const o=t.offset(r);return i===o?[r,i]:[n-Math.min(i,o)*60*1e3,Math.max(i,o)]}function zd(n,e){n+=e*60*1e3;const t=new Date(n);return{year:t.getUTCFullYear(),month:t.getUTCMonth()+1,day:t.getUTCDate(),hour:t.getUTCHours(),minute:t.getUTCMinutes(),second:t.getUTCSeconds(),millisecond:t.getUTCMilliseconds()}}function Zd(n,e,t){return zD(Ep(n),e,t)}function nw(n,e){const t=n.o,r=n.c.year+Math.trunc(e.years),i=n.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,o={...n.c,year:r,month:i,day:Math.min(n.c.day,Zh(r,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},l=rt.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),c=Ep(o);let[f,h]=zD(c,t,n.zone);return l!==0&&(f+=l,h=n.zone.offset(f)),{ts:f,o:h}}function Tl(n,e,t,r,i,o){const{setZone:l,zone:c}=t;if(n&&Object.keys(n).length!==0||e){const f=e||c,h=Pe.fromObject(n,{...t,zone:f,specificOffset:o});return l?h:h.setZone(c)}else return Pe.invalid(new pi("unparsable",`the input "${i}" can't be parsed as ${r}`))}function Ud(n,e,t=!0){return n.isValid?Bn.create(mt.create("en-US"),{allowZ:t,forceSimple:!0}).formatDateTimeFromString(n,e):null}function Av(n,e,t){const r=n.c.year>9999||n.c.year<0;let i="";if(r&&n.c.year>=0&&(i+="+"),i+=en(n.c.year,r?6:4),t==="year")return i;if(e){if(i+="-",i+=en(n.c.month),t==="month")return i;i+="-"}else if(i+=en(n.c.month),t==="month")return i;return i+=en(n.c.day),i}function rw(n,e,t,r,i,o,l){let c=!t||n.c.millisecond!==0||n.c.second!==0,f="";switch(l){case"day":case"month":case"year":break;default:if(f+=en(n.c.hour),l==="hour")break;if(e){if(f+=":",f+=en(n.c.minute),l==="minute")break;c&&(f+=":",f+=en(n.c.second))}else{if(f+=en(n.c.minute),l==="minute")break;c&&(f+=en(n.c.second))}if(l==="second")break;c&&(!r||n.c.millisecond!==0)&&(f+=".",f+=en(n.c.millisecond,3))}return i&&(n.isOffsetFixed&&n.offset===0&&!o?f+="Z":n.o<0?(f+="-",f+=en(Math.trunc(-n.o/60)),f+=":",f+=en(Math.trunc(-n.o%60))):(f+="+",f+=en(Math.trunc(n.o/60)),f+=":",f+=en(Math.trunc(n.o%60)))),o&&(f+="["+n.zone.ianaName+"]"),f}const UD={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},HV={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},FV={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Jd=["year","month","day","hour","minute","second","millisecond"],VV=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],qV=["year","ordinal","hour","minute","second","millisecond"];function Xd(n){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[n.toLowerCase()];if(!e)throw new Uk(n);return e}function iw(n){switch(n.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return Xd(n)}}function GV(n){if(dc===void 0&&(dc=Ft.now()),n.type!=="iana")return n.offset(dc);const e=n.name;let t=E0.get(e);return t===void 0&&(t=n.offset(dc),E0.set(e,t)),t}function aw(n,e){const t=no(e.zone,Ft.defaultZone);if(!t.isValid)return Pe.invalid(fc(t));const r=mt.fromObject(e);let i,o;if(je(n.year))i=Ft.now();else{for(const f of Jd)je(n[f])&&(n[f]=UD[f]);const l=dD(n)||hD(n);if(l)return Pe.invalid(l);const c=GV(t);[i,o]=Zd(n,c,t)}return new Pe({ts:i,zone:t,loc:r,o})}function ow(n,e,t){const r=je(t.round)?!0:t.round,i=je(t.rounding)?"trunc":t.rounding,o=(c,f)=>(c=Tb(c,r||t.calendary?0:2,t.calendary?"round":i),e.loc.clone(t).relFormatter(t).format(c,f)),l=c=>t.calendary?e.hasSame(n,c)?0:e.startOf(c).diff(n.startOf(c),c).get(c):e.diff(n,c).get(c);if(t.unit)return o(l(t.unit),t.unit);for(const c of t.units){const f=l(c);if(Math.abs(f)>=1)return o(f,c)}return o(n>e?-0:0,t.units[t.units.length-1])}function sw(n){let e={},t;return n.length>0&&typeof n[n.length-1]=="object"?(e=n[n.length-1],t=Array.from(n).slice(0,n.length-1)):t=Array.from(n),[e,t]}let dc;const E0=new Map;class Pe{constructor(e){const t=e.zone||Ft.defaultZone;let r=e.invalid||(Number.isNaN(e.ts)?new pi("invalid input"):null)||(t.isValid?null:fc(t));this.ts=je(e.ts)?Ft.now():e.ts;let i=null,o=null;if(!r)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[i,o]=[e.old.c,e.old.o];else{const c=fo(e.o)&&!e.old?e.o:t.offset(this.ts);i=zd(this.ts,c),r=Number.isNaN(i.year)?new pi("invalid input"):null,i=r?null:i,o=r?null:c}this._zone=t,this.loc=e.loc||mt.create(),this.invalid=r,this.weekData=null,this.localWeekData=null,this.c=i,this.o=o,this.isLuxonDateTime=!0}static now(){return new Pe({})}static local(){const[e,t]=sw(arguments),[r,i,o,l,c,f,h]=t;return aw({year:r,month:i,day:o,hour:l,minute:c,second:f,millisecond:h},e)}static utc(){const[e,t]=sw(arguments),[r,i,o,l,c,f,h]=t;return e.zone=Zn.utcInstance,aw({year:r,month:i,day:o,hour:l,minute:c,second:f,millisecond:h},e)}static fromJSDate(e,t={}){const r=AF(e)?e.valueOf():NaN;if(Number.isNaN(r))return Pe.invalid("invalid input");const i=no(t.zone,Ft.defaultZone);return i.isValid?new Pe({ts:r,zone:i,loc:mt.fromObject(t)}):Pe.invalid(fc(i))}static fromMillis(e,t={}){if(fo(e))return e<-tw||e>tw?Pe.invalid("Timestamp out of range"):new Pe({ts:e,zone:no(t.zone,Ft.defaultZone),loc:mt.fromObject(t)});throw new In(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,t={}){if(fo(e))return new Pe({ts:e*1e3,zone:no(t.zone,Ft.defaultZone),loc:mt.fromObject(t)});throw new In("fromSeconds requires a numerical input")}static fromObject(e,t={}){e=e||{};const r=no(t.zone,Ft.defaultZone);if(!r.isValid)return Pe.invalid(fc(r));const i=mt.fromObject(t),o=Jh(e,iw),{minDaysInFirstWeek:l,startOfWeek:c}=qM(o,i),f=Ft.now(),h=je(t.specificOffset)?r.offset(f):t.specificOffset,p=!je(o.ordinal),m=!je(o.year),g=!je(o.month)||!je(o.day),y=m||g,b=o.weekYear||o.weekNumber;if((y||p)&&b)throw new wl("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(g&&p)throw new wl("Can't mix ordinal dates with month/day");const S=b||o.weekday&&!y;let T,A,M=zd(f,h);S?(T=VV,A=HV,M=Kh(M,l,c)):p?(T=qV,A=FV,M=vv(M)):(T=Jd,A=UD);let w=!1;for(const B of T){const G=o[B];je(G)?w?o[B]=A[B]:o[B]=M[B]:w=!0}const x=S?SF(o,l,c):p?EF(o):dD(o),N=x||hD(o);if(N)return Pe.invalid(N);const z=S?FM(o,l,c):p?VM(o):o,[P,k]=Zd(z,h,r),j=new Pe({ts:P,zone:r,o:k,loc:i});return o.weekday&&y&&e.weekday!==j.weekday?Pe.invalid("mismatched weekday",`you can't specify both a weekday of ${o.weekday} and a date of ${j.toISO()}`):j.isValid?j:Pe.invalid(j.invalid)}static fromISO(e,t={}){const[r,i]=dV(e);return Tl(r,i,t,"ISO 8601",e)}static fromRFC2822(e,t={}){const[r,i]=hV(e);return Tl(r,i,t,"RFC 2822",e)}static fromHTTP(e,t={}){const[r,i]=pV(e);return Tl(r,i,t,"HTTP",t)}static fromFormat(e,t,r={}){if(je(e)||je(t))throw new In("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:o=null}=r,l=mt.fromOpts({locale:i,numberingSystem:o,defaultToEN:!0}),[c,f,h,p]=UV(l,e,t);return p?Pe.invalid(p):Tl(c,f,r,`format ${t}`,e,h)}static fromString(e,t,r={}){return Pe.fromFormat(e,t,r)}static fromSQL(e,t={}){const[r,i]=EV(e);return Tl(r,i,t,"SQL",e)}static invalid(e,t=null){if(!e)throw new In("need to specify a reason the DateTime is invalid");const r=e instanceof pi?e:new pi(e,t);if(Ft.throwOnInvalid)throw new KH(r);return new Pe({invalid:r})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,t={}){const r=BD(e,mt.fromObject(t));return r?r.map(i=>i?i.val:null).join(""):null}static expandFormat(e,t={}){return jD(Bn.parseFormat(e),mt.fromObject(t)).map(i=>i.val).join("")}static resetCache(){dc=void 0,E0.clear()}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Ev(this).weekYear:NaN}get weekNumber(){return this.isValid?Ev(this).weekNumber:NaN}get weekday(){return this.isValid?Ev(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Tv(this).weekday:NaN}get localWeekNumber(){return this.isValid?Tv(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Tv(this).weekYear:NaN}get ordinal(){return this.isValid?vv(this.c).ordinal:NaN}get monthShort(){return this.isValid?Id.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Id.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Id.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Id.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,t=6e4,r=Ep(this.c),i=this.zone.offset(r-e),o=this.zone.offset(r+e),l=this.zone.offset(r-i*t),c=this.zone.offset(r-o*t);if(l===c)return[this];const f=r-l*t,h=r-c*t,p=zd(f,l),m=zd(h,c);return p.hour===m.hour&&p.minute===m.minute&&p.second===m.second&&p.millisecond===m.millisecond?[cs(this,{ts:f}),cs(this,{ts:h})]:[this]}get isInLeapYear(){return $c(this.year)}get daysInMonth(){return Zh(this.year,this.month)}get daysInYear(){return this.isValid?Nl(this.year):NaN}get weeksInWeekYear(){return this.isValid?Fc(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Fc(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:t,numberingSystem:r,calendar:i}=Bn.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:r,outputCalendar:i}}toUTC(e=0,t={}){return this.setZone(Zn.instance(e),t)}toLocal(){return this.setZone(Ft.defaultZone)}setZone(e,{keepLocalTime:t=!1,keepCalendarTime:r=!1}={}){if(e=no(e,Ft.defaultZone),e.equals(this.zone))return this;if(e.isValid){let i=this.ts;if(t||r){const o=e.offset(this.ts),l=this.toObject();[i]=Zd(l,o,e)}return cs(this,{ts:i,zone:e})}else return Pe.invalid(fc(e))}reconfigure({locale:e,numberingSystem:t,outputCalendar:r}={}){const i=this.loc.clone({locale:e,numberingSystem:t,outputCalendar:r});return cs(this,{loc:i})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const t=Jh(e,iw),{minDaysInFirstWeek:r,startOfWeek:i}=qM(t,this.loc),o=!je(t.weekYear)||!je(t.weekNumber)||!je(t.weekday),l=!je(t.ordinal),c=!je(t.year),f=!je(t.month)||!je(t.day),h=c||f,p=t.weekYear||t.weekNumber;if((h||l)&&p)throw new wl("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(f&&l)throw new wl("Can't mix ordinal dates with month/day");let m;o?m=FM({...Kh(this.c,r,i),...t},r,i):je(t.ordinal)?(m={...this.toObject(),...t},je(t.day)&&(m.day=Math.min(Zh(m.year,m.month),m.day))):m=VM({...vv(this.c),...t});const[g,y]=Zd(m,this.o,this.zone);return cs(this,{ts:g,o:y})}plus(e){if(!this.isValid)return this;const t=rt.fromDurationLike(e);return cs(this,nw(this,t))}minus(e){if(!this.isValid)return this;const t=rt.fromDurationLike(e).negate();return cs(this,nw(this,t))}startOf(e,{useLocaleWeeks:t=!1}={}){if(!this.isValid)return this;const r={},i=rt.normalizeUnit(e);switch(i){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(i==="weeks")if(t){const o=this.loc.getStartOfWeek(),{weekday:l}=this;l<o&&(r.weekNumber=this.weekNumber-1),r.weekday=o}else r.weekday=1;if(i==="quarters"){const o=Math.ceil(this.month/3);r.month=(o-1)*3+1}return this.set(r)}endOf(e,t){return this.isValid?this.plus({[e]:1}).startOf(e,t).minus(1):this}toFormat(e,t={}){return this.isValid?Bn.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):Sv}toLocaleString(e=Yh,t={}){return this.isValid?Bn.create(this.loc.clone(t),e).formatDateTime(this):Sv}toLocaleParts(e={}){return this.isValid?Bn.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:t=!1,suppressMilliseconds:r=!1,includeOffset:i=!0,extendedZone:o=!1,precision:l="milliseconds"}={}){if(!this.isValid)return null;l=Xd(l);const c=e==="extended";let f=Av(this,c,l);return Jd.indexOf(l)>=3&&(f+="T"),f+=rw(this,c,t,r,i,o,l),f}toISODate({format:e="extended",precision:t="day"}={}){return this.isValid?Av(this,e==="extended",Xd(t)):null}toISOWeekDate(){return Ud(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:r=!0,includePrefix:i=!1,extendedZone:o=!1,format:l="extended",precision:c="milliseconds"}={}){return this.isValid?(c=Xd(c),(i&&Jd.indexOf(c)>=3?"T":"")+rw(this,l==="extended",t,e,r,o,c)):null}toRFC2822(){return Ud(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Ud(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Av(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:t=!1,includeOffsetSpace:r=!0}={}){let i="HH:mm:ss.SSS";return(t||e)&&(r&&(i+=" "),t?i+="z":e&&(i+="ZZ")),Ud(this,i,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():Sv}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const t={...this.c};return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,t="milliseconds",r={}){if(!this.isValid||!e.isValid)return rt.invalid("created by diffing an invalid DateTime");const i={locale:this.locale,numberingSystem:this.numberingSystem,...r},o=OF(t).map(rt.normalizeUnit),l=e.valueOf()>this.valueOf(),c=l?this:e,f=l?e:this,h=wV(c,f,o,i);return l?h.negate():h}diffNow(e="milliseconds",t={}){return this.diff(Pe.now(),e,t)}until(e){return this.isValid?Ht.fromDateTimes(this,e):this}hasSame(e,t,r){if(!this.isValid)return!1;const i=e.valueOf(),o=this.setZone(e.zone,{keepLocalTime:!0});return o.startOf(t,r)<=i&&i<=o.endOf(t,r)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const t=e.base||Pe.fromObject({},{zone:this.zone}),r=e.padding?this<t?-e.padding:e.padding:0;let i=["years","months","days","hours","minutes","seconds"],o=e.unit;return Array.isArray(e.unit)&&(i=e.unit,o=void 0),ow(t,this.plus(r),{...e,numeric:"always",units:i,unit:o})}toRelativeCalendar(e={}){return this.isValid?ow(e.base||Pe.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(Pe.isDateTime))throw new In("min requires all arguments be DateTimes");return GM(e,t=>t.valueOf(),Math.min)}static max(...e){if(!e.every(Pe.isDateTime))throw new In("max requires all arguments be DateTimes");return GM(e,t=>t.valueOf(),Math.max)}static fromFormatExplain(e,t,r={}){const{locale:i=null,numberingSystem:o=null}=r,l=mt.fromOpts({locale:i,numberingSystem:o,defaultToEN:!0});return ID(l,e,t)}static fromStringExplain(e,t,r={}){return Pe.fromFormatExplain(e,t,r)}static buildFormatParser(e,t={}){const{locale:r=null,numberingSystem:i=null}=t,o=mt.fromOpts({locale:r,numberingSystem:i,defaultToEN:!0});return new LD(o,e)}static fromFormatParser(e,t,r={}){if(je(e)||je(t))throw new In("fromFormatParser requires an input string and a format parser");const{locale:i=null,numberingSystem:o=null}=r,l=mt.fromOpts({locale:i,numberingSystem:o,defaultToEN:!0});if(!l.equals(t.locale))throw new In(`fromFormatParser called with a locale of ${l}, but the format parser was created for ${t.locale}`);const{result:c,zone:f,specificOffset:h,invalidReason:p}=t.explainFromTokens(e);return p?Pe.invalid(p):Tl(c,f,r,`format ${t.format}`,e,h)}static get DATE_SHORT(){return Yh}static get DATE_MED(){return Hk}static get DATE_MED_WITH_WEEKDAY(){return XH}static get DATE_FULL(){return Fk}static get DATE_HUGE(){return Vk}static get TIME_SIMPLE(){return qk}static get TIME_WITH_SECONDS(){return Gk}static get TIME_WITH_SHORT_OFFSET(){return Wk}static get TIME_WITH_LONG_OFFSET(){return Yk}static get TIME_24_SIMPLE(){return Kk}static get TIME_24_WITH_SECONDS(){return Zk}static get TIME_24_WITH_SHORT_OFFSET(){return Jk}static get TIME_24_WITH_LONG_OFFSET(){return Xk}static get DATETIME_SHORT(){return Qk}static get DATETIME_SHORT_WITH_SECONDS(){return $k}static get DATETIME_MED(){return eD}static get DATETIME_MED_WITH_SECONDS(){return tD}static get DATETIME_MED_WITH_WEEKDAY(){return QH}static get DATETIME_FULL(){return nD}static get DATETIME_FULL_WITH_SECONDS(){return rD}static get DATETIME_HUGE(){return iD}static get DATETIME_HUGE_WITH_SECONDS(){return aD}}function rc(n){if(Pe.isDateTime(n))return n;if(n&&n.valueOf&&fo(n.valueOf()))return Pe.fromJSDate(n);if(n&&typeof n=="object")return Pe.fromObject(n);throw new In(`Unknown datetime argument: ${n}, of type ${typeof n}`)}const Mb="Europe/London",WV=n=>{if(!n)return null;const e=Pe.fromISO(n,{zone:"utc"}).setZone(Mb);return new Date(e.year,e.month-1,e.day,e.hour,e.minute,0,0)},YV=n=>n?Pe.fromObject({year:n.getFullYear(),month:n.getMonth()+1,day:n.getDate(),hour:n.getHours(),minute:n.getMinutes()},{zone:Mb}).toUTC().toISO({suppressMilliseconds:!0}):null,KV=n=>n?Pe.fromISO(n,{zone:"utc"}).setZone(Mb).toFormat("dd-LL-yyyy HH:mm"):"",ZV=()=>{const[n,e]=L.useState(null),[t,r]=L.useState(!1),[i,o]=L.useState(!0),[l,c]=L.useState(!1),[f,h]=L.useState({h24:!0,h1:!0,h6:!1,h2:!1}),p=L.useRef(null),m=L.useMemo(()=>[{id:"h24",label:"24 hours before",minutes:1440},{id:"h1",label:"1 hour before",minutes:60},{id:"h6",label:"6 hours before",minutes:360},{id:"h2",label:"2 hours before",minutes:120}],[]),g=L.useMemo(()=>({inline:!0,enableTime:!0,time_24hr:!0,minuteIncrement:5,dateFormat:"d-m-Y H:i",disableMobile:!0}),[]);L.useEffect(()=>{if(!t)return;const S=A=>{const M=p.current;M&&M.contains(A.target)||r(!1)},T=A=>{A.key==="Escape"&&r(!1)};return document.addEventListener("mousedown",S,!0),document.addEventListener("keydown",T),()=>{document.removeEventListener("mousedown",S,!0),document.removeEventListener("keydown",T)}},[t]),L.useEffect(()=>{(async()=>{o(!0);try{const A=await Nt()("/api/workshop-settings",{method:"GET"}),M=await A.json();if(!A.ok||!M?.ok)throw new Error(M?.error||"load_failed");const w=M?.data?.workshop_at_utc||null,x=Array.isArray(M?.data?.notify_offsets_minutes)?M.data.notify_offsets_minutes:[];e(w);const N={h24:!1,h1:!1,h6:!1,h2:!1};m.forEach(P=>{N[P.id]=x.includes(P.minutes)});const z=Object.values(N).some(Boolean);h(z?N:{h24:!0,h1:!0,h6:!1,h2:!1}),ve.success("Workshop settings loaded")}catch(T){console.error("[workshop-settings] load failed",T),ve.error("Failed to load workshop settings")}finally{o(!1)}})()},[m]);const y=async()=>{c(!0);try{const S=Nt(),T=m.filter(x=>!!f[x.id]).map(x=>x.minutes),M=await S("/api/workshop-settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({workshop_at_utc:n,notify_offsets_minutes:T})}),w=await M.json();if(!M.ok||!w?.ok)throw new Error(w?.error||"save_failed");ve.success("Workshop settings saved")}catch(S){console.error("[workshop-settings] save failed",S),ve.error("Failed to save workshop settings")}finally{c(!1)}},b=L.useMemo(()=>WV(n),[n]);return C.jsxs("div",{className:"page",children:[C.jsx("div",{className:"page-bar",children:C.jsxs("div",{className:"flex flex-center",children:[C.jsx("h1",{className:"page-title page-title--bar ml-auto",children:"Workshop Settings"}),C.jsx("button",{className:"btn-save ml-auto",type:"button",onClick:y,disabled:l||i,title:l?"Saving...":"Save",children:l?"Saving...":"Save"})]})}),C.jsx("div",{className:"container",children:C.jsxs("div",{className:"settings-grid",children:[C.jsxs("div",{className:"panel",children:[C.jsx("div",{className:"panel-title",children:"Workshop Date & Time"}),C.jsxs("div",{className:"field",children:[C.jsx("label",{className:"label",children:"Select date and time (UK time)"}),C.jsxs("div",{className:"dt-wrap",ref:p,children:[C.jsx("input",{className:"input dt-input",value:KV(n),placeholder:"Select date & time",readOnly:!0,onClick:()=>r(!0),disabled:i}),t?C.jsxs("div",{className:"dt-popover",children:[C.jsx("div",{className:"dt-fp",children:C.jsx(YH,{value:b,options:g,onChange:S=>{const T=S?.[0]||null,A=YV(T);e(A)}})}),C.jsx("div",{className:"dt-actions",children:C.jsx("button",{type:"button",className:"btn dt-close",onClick:()=>r(!1),children:"Done"})})]}):null]})]}),C.jsx("div",{className:"hint",children:"Stored in DB as UTC, displayed/edited as Europe/London."})]}),C.jsxs("div",{className:"panel",children:[C.jsx("div",{className:"panel-title",children:"Notification Schedule"}),C.jsxs("div",{className:"field",children:[C.jsx("label",{className:"label",children:"Send notifications"}),C.jsx("div",{className:"checklist",children:m.map(S=>C.jsxs("label",{className:"check",children:[C.jsx("input",{type:"checkbox",checked:!!f[S.id],disabled:i,onChange:T=>h(A=>({...A,[S.id]:T.target.checked}))}),C.jsx("span",{children:S.label})]},S.id))})]}),C.jsx("div",{className:"hint",children:"Default is 24h and 1h. You can enable more if needed."})]})]})})]})},JV=()=>{const[n,e]=L.useState([]),[t,r]=L.useState([]),[i,o]=L.useState(""),[l,c]=L.useState(!0),[f,h]=L.useState(!1),[p,m]=L.useState({page:1,pageSize:50,total:0,totalPages:0}),[g,y]=L.useState(null),b=L.useRef(!1),S=()=>{const P=new Date,k=P.getFullYear(),j=String(P.getMonth()+1).padStart(2,"0");return`${k}-${j}`},T=async()=>{console.log("[registrations] fetching months");try{const k=await Nt()("/api/workshop-registrations/months",{method:"GET"}),j=await k.json().catch(()=>null);if(k.ok&&j?.ok){const B=j.months||[];if(console.log("[registrations] months:",B),r(B),B.length>0&&!i){const G=S(),$=B.includes(G);o($?G:B[0])}else B.length===0&&c(!1)}else c(!1)}catch(P){console.log("[registrations] fetch months error",P),c(!1)}},A=async(P,k=1)=>{console.log("[registrations] fetching registrations month=",P,"page=",k),c(!0);try{const j=Nt(),B=`/api/workshop-registrations?month=${P}&page=${k}&pageSize=50`,G=await j(B,{method:"GET"}),$=await G.json().catch(()=>null);if(!G.ok||!$?.ok){ve.error("Failed to load registrations"),console.log("[registrations] load failed",G.status,$);return}console.log("[registrations] loaded",$.data?.length,"registrations"),e($.data||[]),m($.pagination||{page:1,pageSize:50,total:0,totalPages:0})}catch(j){ve.error("Load error"),console.log("[registrations] load error",j)}finally{c(!1)}},M=async P=>{console.log("[registrations] fetching stats month=",P);try{const j=await Nt()(`/api/workshop-registrations/stats?month=${P}`,{method:"GET"}),B=await j.json().catch(()=>null);j.ok&&B?.ok&&(console.log("[registrations] stats:",B),y(B))}catch(k){console.log("[registrations] fetch stats error",k)}};L.useEffect(()=>{b.current||(b.current=!0,T())},[]),L.useEffect(()=>{i&&(A(i,1),M(i))},[i]);const w=P=>{const k=P.target.value;console.log("[registrations] month changed to",k),o(k)},x=P=>{A(i,P)},N=async()=>{if(!i){ve.error("Please select a month");return}if(!window.confirm(`Send registrant email to all registrations for ${i}?

This will use the "Workshop Registrant Broadcast" template.`))return;console.log("[registrations] broadcasting to month",i),h(!0);const k=ve.loading("Sending emails...");try{const B=await Nt()("/api/workshop-registrations/broadcast",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({month:i})}),G=await B.json().catch(()=>null);if(ve.dismiss(k),!B.ok||!G?.ok){ve.error(G?.error||"Broadcast failed"),console.log("[registrations] broadcast failed",B.status,G);return}const $=`Sent: ${G.sent}, Skipped: ${G.skipped}, Failed: ${G.failed}`;console.log("[registrations] broadcast result:",$),G.sent>0?ve.success(`Broadcast complete! ${$}`):G.skipped>0?ve.success(`All already sent. ${$}`):ve.success(`No emails to send. ${$}`),await M(i)}catch(j){ve.dismiss(k),ve.error("Broadcast error"),console.log("[registrations] broadcast error",j)}finally{h(!1)}},z=P=>P?new Date(P).toLocaleString("en-GB",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-";return C.jsxs("div",{className:"page",children:[C.jsx("div",{className:"page-bar",children:C.jsxs("div",{className:"flex flex-center",children:[C.jsx("h1",{className:"page-title page-title--bar ml-auto",children:"Workshop Registrations"}),C.jsx("button",{className:"btn-save ml-auto",type:"button",onClick:N,disabled:l||f||!i,children:f?"Sending...":"Send Emails"})]})}),C.jsxs("div",{className:"container",children:[C.jsx("div",{className:"panel",style:{marginBottom:"24px"},children:C.jsxs("div",{style:{display:"flex",gap:"24px",alignItems:"center",flexWrap:"wrap"},children:[C.jsxs("div",{className:"field",style:{marginBottom:0,minWidth:"200px"},children:[C.jsx("label",{className:"label",children:"Select Month"}),C.jsxs("select",{className:"input",value:i,onChange:w,disabled:l,children:[t.length===0&&C.jsx("option",{value:"",children:"No registrations yet"}),t.map(P=>C.jsx("option",{value:P,children:P},P))]})]}),g&&C.jsxs("div",{style:{display:"flex",gap:"24px",fontSize:"14px"},children:[C.jsxs("div",{children:[C.jsx("strong",{children:"Registrations:"})," ",g.registrations]}),C.jsxs("div",{children:[C.jsx("strong",{children:"Emails Sent:"})," ",g.broadcast?.sent||0]}),C.jsxs("div",{children:[C.jsx("strong",{children:"Failed:"})," ",g.broadcast?.failed||0]})]})]})}),C.jsxs("div",{className:"panel",children:[C.jsxs("h2",{className:"panel-title",children:["Registrations for ",i||"..."]}),l?C.jsx("p",{style:{textAlign:"center",padding:"40px 0",color:"var(--muted-text)"},children:"Loading..."}):n.length===0?C.jsx("p",{style:{textAlign:"center",padding:"40px 0",color:"var(--muted-text)"},children:"No registrations found for this month."}):C.jsxs(C.Fragment,{children:[C.jsx("div",{style:{overflowX:"auto"},children:C.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"14px"},children:[C.jsx("thead",{children:C.jsxs("tr",{style:{borderBottom:"2px solid var(--black)"},children:[C.jsx("th",{style:{textAlign:"left",padding:"10px 8px"},children:"Order"}),C.jsx("th",{style:{textAlign:"left",padding:"10px 8px"},children:"Customer"}),C.jsx("th",{style:{textAlign:"left",padding:"10px 8px"},children:"Email"}),C.jsx("th",{style:{textAlign:"left",padding:"10px 8px"},children:"Purchased At"}),C.jsx("th",{style:{textAlign:"left",padding:"10px 8px"},children:"Workshop At"})]})}),C.jsx("tbody",{children:n.map(P=>C.jsxs("tr",{style:{borderBottom:"1px solid #ddd"},children:[C.jsx("td",{style:{padding:"10px 8px"},children:P.order_name||P.order_id}),C.jsx("td",{style:{padding:"10px 8px"},children:[P.first_name,P.last_name].filter(Boolean).join(" ")||"-"}),C.jsx("td",{style:{padding:"10px 8px"},children:P.email||"-"}),C.jsx("td",{style:{padding:"10px 8px"},children:z(P.purchased_at||P.created_at)}),C.jsx("td",{style:{padding:"10px 8px"},children:z(P.workshop_at)})]},P.id))})]})}),p.totalPages>1&&C.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"8px",marginTop:"20px",paddingTop:"20px",borderTop:"1px solid #ddd"},children:[C.jsx("button",{className:"btn",style:{width:"auto",padding:"8px 16px"},onClick:()=>x(p.page-1),disabled:p.page<=1,children:"Previous"}),C.jsxs("span",{style:{padding:"8px 16px",fontSize:"14px"},children:["Page ",p.page," of ",p.totalPages," (",p.total," total)"]}),C.jsx("button",{className:"btn",style:{width:"auto",padding:"8px 16px"},onClick:()=>x(p.page+1),disabled:p.page>=p.totalPages,children:"Next"})]})]})]})]})]})},XV=()=>{const[n,e]=L.useState(null),[t,r]=L.useState(!1),[i,o]=L.useState(!1),[l,c]=L.useState(null),[f,h]=L.useState(null),[p,m]=L.useState(null),[g,y]=L.useState(null),[b,S]=L.useState(""),[T,A]=L.useState(!1),M=L.useRef(null),w=L.useRef(!1),x=()=>{const ee=new Date,I=ee.getFullYear(),W=String(ee.getMonth()+1).padStart(2,"0");return`${I}-${W}`};L.useEffect(()=>{w.current||(w.current=!0,S(x()),N())},[]),L.useEffect(()=>()=>{M.current&&clearInterval(M.current)},[]);const N=async()=>{console.log("[subsRemover] fetching table stats");try{const I=await Nt()("/api/subs/stats",{method:"GET"}),W=await I.json().catch(()=>null);I.ok&&W?.ok&&(console.log("[subsRemover] table stats:",W.stats),y(W.stats))}catch(ee){console.log("[subsRemover] fetch table stats error",ee)}},z=async ee=>{console.log("[subsRemover] fetching removal status month=",ee);try{const W=await Nt()(`/api/subs/remove/status?month=${ee}`,{method:"GET"}),ae=await W.json().catch(()=>null);W.ok&&ae?.ok&&(console.log("[subsRemover] removal status:",ae),m(ae),(ae.job?.status==="completed"||ae.job?.status==="failed")&&k())}catch(I){console.log("[subsRemover] fetch removal status error",I)}},P=ee=>{console.log("[subsRemover] starting polling for month",ee),A(!0),M.current&&clearInterval(M.current),M.current=setInterval(()=>{z(ee)},3e3)},k=()=>{console.log("[subsRemover] stopping polling"),A(!1),M.current&&(clearInterval(M.current),M.current=null)},j=ee=>{const I=ee.target.files?.[0]||null;console.log("[subsRemover] file selected:",I?.name),e(I),c(null)},B=async()=>{if(!n){ve.error("Please select a CSV file");return}console.log("[subsRemover] uploading file:",n.name),r(!0);const ee=ve.loading("Uploading and importing CSV...");try{const I=new FormData;I.append("file",n);const ae=await Nt()("/api/subs/import",{method:"POST",body:I}),de=await ae.json().catch(()=>null);if(ve.dismiss(ee),!ae.ok||!de?.ok){ve.error(de?.error||"Import failed"),console.log("[subsRemover] import failed",ae.status,de);return}console.log("[subsRemover] import success:",de.stats),c(de.stats),ve.success(`Imported ${de.stats?.validRows||0} subscriptions`),await N(),e(null);const xe=document.getElementById("csv-file-input");xe&&(xe.value="")}catch(I){ve.dismiss(ee),ve.error("Upload error"),console.log("[subsRemover] upload error",I)}finally{r(!1)}},G=async()=>{if(!b){ve.error("Please select a month");return}if(!window.confirm(`Start removal process for ${b}?

This will:
1. Filter cancelled subscriptions (skip if customer still active)
2. Remove them from AddEvent calendars`))return;console.log("[subsRemover] starting removal for month",b),o(!0),h(null);const I=ve.loading("Starting removal process...");try{const ae=await Nt()("/api/subs/remove",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({month:b})}),de=await ae.json().catch(()=>null);if(ve.dismiss(I),!ae.ok||!de?.ok){ve.error(de?.error||"Remove failed"),console.log("[subsRemover] remove failed",ae.status,de),o(!1);return}console.log("[subsRemover] remove started:",de),h(de.filterStats),ve.success("Removal job started"),P(b),await z(b)}catch(W){ve.dismiss(I),ve.error("Remove error"),console.log("[subsRemover] remove error",W),o(!1)}},$=async ee=>{const I=ee==="active_subs"?"Active Subs":"Currently Cancelled Subs";if(!window.confirm(`Clear all records from ${I}?`))return;console.log("[subsRemover] clearing table",ee);const ae=ve.loading(`Clearing ${I}...`);try{const xe=await Nt()("/api/subs/clear",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({table:ee})}),H=await xe.json().catch(()=>null);if(ve.dismiss(ae),!xe.ok||!H?.ok){ve.error(H?.error||"Clear failed");return}ve.success(`Cleared ${H.deleted} records`),await N()}catch(de){ve.dismiss(ae),ve.error("Clear error"),console.log("[subsRemover] clear error",de)}},ne=()=>{b&&z(b)},le={pageTitle:{textAlign:"center",width:"100%"},statsContainer:{display:"flex",flexWrap:"wrap",gap:"12px"},statRow:{display:"inline-flex",alignItems:"center",gap:"12px",padding:"10px 16px",background:"#f8f9fa",borderRadius:"8px",fontSize:"14px"},statLabel:{whiteSpace:"nowrap"},statValue:{fontWeight:"600",fontSize:"16px"},clearBtn:{flex:"0 0 auto",width:"auto",padding:"4px 10px",fontSize:"12px"}};return C.jsxs("div",{className:"page",children:[C.jsx("div",{className:"page-bar",children:C.jsx("div",{className:"flex flex-center",children:C.jsx("h1",{className:"page-title page-title--bar",style:le.pageTitle,children:"Subscription Remover"})})}),C.jsxs("div",{className:"container",children:[C.jsxs("div",{className:"panel",style:{marginBottom:"24px"},children:[C.jsx("h2",{className:"panel-title",children:"Current Stats"}),C.jsxs("div",{style:le.statsContainer,children:[C.jsxs("div",{style:le.statRow,children:[C.jsx("span",{style:le.statLabel,children:"Active Subs:"}),C.jsx("span",{style:le.statValue,children:g?.activeSubs||0}),C.jsx("button",{className:"btn",style:le.clearBtn,onClick:()=>$("active_subs"),children:"Clear"})]}),C.jsxs("div",{style:le.statRow,children:[C.jsx("span",{style:le.statLabel,children:"Currently Cancelled:"}),C.jsx("span",{style:le.statValue,children:g?.currentlyCancelled||0}),C.jsx("button",{className:"btn",style:le.clearBtn,onClick:()=>$("currently_cancelled_subs"),children:"Clear"})]}),C.jsxs("div",{style:{...le.statRow,background:"#e9ecef"},children:[C.jsx("span",{style:le.statLabel,children:"Previous Cancelled:"}),C.jsx("span",{style:le.statValue,children:g?.previousCancelled||0})]})]})]}),C.jsxs("div",{className:"panel",style:{marginBottom:"24px"},children:[C.jsx("h2",{className:"panel-title",children:"Step 1: Upload Subscription CSV"}),C.jsxs("p",{style:{fontSize:"14px",color:"var(--muted-text)",marginBottom:"16px"},children:["Upload a CSV with columns: ",C.jsx("code",{children:"handle"}),", ",C.jsx("code",{children:"line_variant_id"}),", ",C.jsx("code",{children:"customer_id"}),", ",C.jsx("code",{children:"status"})]}),C.jsxs("div",{style:{display:"flex",gap:"16px",alignItems:"center",flexWrap:"wrap"},children:[C.jsx("input",{id:"csv-file-input",type:"file",accept:".csv",onChange:j,disabled:t,style:{fontSize:"14px"}}),C.jsx("button",{className:"btn-save",onClick:B,disabled:t||!n,children:t?"Uploading...":"Upload CSV"})]}),l&&C.jsxs("div",{style:{marginTop:"20px",padding:"16px",background:"#f5f5f5",borderRadius:"8px"},children:[C.jsx("h3",{style:{fontSize:"14px",marginBottom:"12px"},children:"Import Results"}),C.jsxs("div",{style:{display:"flex",gap:"24px",flexWrap:"wrap",fontSize:"14px"},children:[C.jsxs("div",{children:[C.jsx("strong",{children:"Parsed:"})," ",l.totalParsed]}),C.jsxs("div",{children:[C.jsx("strong",{children:"Valid:"})," ",l.validRows]}),C.jsxs("div",{children:[C.jsx("strong",{children:"Skipped:"})," ",l.skippedRows]}),C.jsxs("div",{children:[C.jsx("strong",{children:"Active Inserted:"})," ",l.activeInserted]}),C.jsxs("div",{children:[C.jsx("strong",{children:"Cancelled Inserted:"})," ",l.cancelledInserted]})]})]})]}),C.jsxs("div",{className:"panel",style:{marginBottom:"24px"},children:[C.jsx("h2",{className:"panel-title",children:"Step 2: Remove Cancelled Subscriptions"}),C.jsx("p",{style:{fontSize:"14px",color:"var(--muted-text)",marginBottom:"16px"},children:"Filter cancelled subs (skip if customer is active) and remove from AddEvent calendars."}),C.jsxs("div",{style:{display:"flex",gap:"16px",alignItems:"center",flexWrap:"wrap"},children:[C.jsxs("div",{className:"field",style:{marginBottom:0,minWidth:"150px"},children:[C.jsx("label",{className:"label",children:"Month"}),C.jsx("input",{type:"month",className:"input",value:b,onChange:ee=>S(ee.target.value),disabled:i||T})]}),C.jsx("button",{className:"btn-save",onClick:G,disabled:i||T||!b,style:{marginTop:"20px"},children:i||T?"Processing...":"Remove Subs"}),T&&C.jsx("button",{className:"btn",onClick:k,style:{marginTop:"20px"},children:"Stop Polling"}),C.jsx("button",{className:"btn",onClick:ne,style:{marginTop:"20px"},children:"Refresh Status"})]}),f&&C.jsxs("div",{style:{marginTop:"20px",padding:"16px",background:"#f5f5f5",borderRadius:"8px"},children:[C.jsx("h3",{style:{fontSize:"14px",marginBottom:"12px"},children:"Filter Results"}),C.jsxs("div",{style:{display:"flex",gap:"24px",flexWrap:"wrap",fontSize:"14px"},children:[C.jsxs("div",{children:[C.jsx("strong",{children:"Total Cancelled:"})," ",f.total]}),C.jsxs("div",{children:[C.jsx("strong",{children:"Queued for Removal:"})," ",f.inserted]}),C.jsxs("div",{children:[C.jsx("strong",{children:"Skipped (Active):"})," ",f.skippedActive]}),C.jsxs("div",{children:[C.jsx("strong",{children:"Skipped (Duplicate):"})," ",f.skippedDuplicate]})]})]})]}),p&&C.jsxs("div",{className:"panel",children:[C.jsxs("h2",{className:"panel-title",children:["Removal Progress ",T&&C.jsx("span",{style:{fontSize:"12px",color:"var(--muted-text)"},children:"(polling...)"})]}),p.job&&C.jsxs("div",{style:{marginBottom:"16px",fontSize:"14px"},children:[C.jsx("strong",{children:"Job Status:"})," ",C.jsx("span",{style:{padding:"4px 8px",borderRadius:"4px",background:p.job.status==="completed"?"#d4edda":p.job.status==="failed"?"#f8d7da":p.job.status==="processing"?"#fff3cd":"#e2e3e5"},children:p.job.status}),p.job.lastError&&C.jsxs("span",{style:{color:"#dc3545",marginLeft:"12px"},children:["Error: ",p.job.lastError]})]}),C.jsxs("div",{style:{display:"flex",gap:"16px",flexWrap:"wrap",fontSize:"14px"},children:[C.jsxs("div",{style:{padding:"16px 24px",background:"#f5f5f5",borderRadius:"8px",textAlign:"center",minWidth:"100px"},children:[C.jsx("div",{style:{fontSize:"28px",fontWeight:"bold"},children:p.counts?.pending||0}),C.jsx("div",{style:{color:"var(--muted-text)",marginTop:"4px"},children:"Pending"})]}),C.jsxs("div",{style:{padding:"16px 24px",background:"#d4edda",borderRadius:"8px",textAlign:"center",minWidth:"100px"},children:[C.jsx("div",{style:{fontSize:"28px",fontWeight:"bold",color:"#155724"},children:p.counts?.done||0}),C.jsx("div",{style:{color:"#155724",marginTop:"4px"},children:"Done"})]}),C.jsxs("div",{style:{padding:"16px 24px",background:"#fff3cd",borderRadius:"8px",textAlign:"center",minWidth:"100px"},children:[C.jsx("div",{style:{fontSize:"28px",fontWeight:"bold",color:"#856404"},children:p.counts?.not_found||0}),C.jsx("div",{style:{color:"#856404",marginTop:"4px"},children:"Not Found"})]}),C.jsxs("div",{style:{padding:"16px 24px",background:"#f8d7da",borderRadius:"8px",textAlign:"center",minWidth:"100px"},children:[C.jsx("div",{style:{fontSize:"28px",fontWeight:"bold",color:"#721c24"},children:p.counts?.failed||0}),C.jsx("div",{style:{color:"#721c24",marginTop:"4px"},children:"Failed"})]}),C.jsxs("div",{style:{padding:"16px 24px",background:"#e2e3e5",borderRadius:"8px",textAlign:"center",minWidth:"100px"},children:[C.jsx("div",{style:{fontSize:"28px",fontWeight:"bold",color:"#383d41"},children:p.counts?.skipped||0}),C.jsx("div",{style:{color:"#383d41",marginTop:"4px"},children:"Skipped"})]})]})]})]})]})},QV=()=>{const[n,e]=L.useState([]),[t,r]=L.useState([]),[i,o]=L.useState(""),[l,c]=L.useState(!0),[f,h]=L.useState({page:1,pageSize:50,total:0,totalPages:0}),[p,m]=L.useState(null),[g,y]=L.useState(null),[b,S]=L.useState([]),[T,A]=L.useState(!1),M=L.useRef(!1),w=()=>{const ne=new Date,le=ne.getFullYear(),ee=String(ne.getMonth()+1).padStart(2,"0");return`${le}-${ee}`},x=async()=>{console.log("[removalResults] fetching months");try{const le=await Nt()("/api/removal-results/months",{method:"GET"}),ee=await le.json().catch(()=>null);if(le.ok&&ee?.ok){const I=ee.months||[];if(console.log("[removalResults] months:",I),r(I),I.length>0&&!i){const W=w(),ae=I.includes(W);o(ae?W:I[0])}else I.length===0&&o(w())}}catch(ne){console.log("[removalResults] fetch months error",ne)}},N=async(ne,le=1)=>{console.log("[removalResults] fetching results month=",ne,"page=",le),c(!0);try{const ee=Nt(),I=`/api/removal-results?month=${ne}&page=${le}&pageSize=50`,W=await ee(I,{method:"GET"}),ae=await W.json().catch(()=>null);if(!W.ok||!ae?.ok){ve.error("Failed to load results"),console.log("[removalResults] load failed",W.status,ae);return}console.log("[removalResults] loaded",ae.rows?.length,"results"),e(ae.rows||[]),h({page:ae.page,pageSize:ae.pageSize,total:ae.total,totalPages:ae.totalPages}),m(ae.summary)}catch(ee){ve.error("Load error"),console.log("[removalResults] load error",ee)}finally{c(!1)}},z=async ne=>{console.log("[removalResults] fetching logs for id=",ne),A(!0);try{const ee=await Nt()(`/api/removal-results/logs?prev_cancelled_id=${ne}`,{method:"GET"}),I=await ee.json().catch(()=>null);if(!ee.ok||!I?.ok){ve.error("Failed to load logs"),console.log("[removalResults] logs load failed",ee.status,I);return}console.log("[removalResults] loaded",I.logs?.length,"logs"),S(I.logs||[])}catch(le){ve.error("Logs load error"),console.log("[removalResults] logs load error",le)}finally{A(!1)}};L.useEffect(()=>{M.current||(M.current=!0,x())},[]),L.useEffect(()=>{i&&(N(i,1),y(null),S([]))},[i]);const P=ne=>{const le=ne.target.value;console.log("[removalResults] month changed to",le),o(le)},k=ne=>{N(i,ne)},j=ne=>{console.log("[removalResults] viewing logs for row",ne.id),y(ne),z(ne.id)},B=()=>{y(null),S([])},G=ne=>ne?new Date(ne).toLocaleString("en-GB",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",$=ne=>{const le={pending:{bg:"#e2e3e5",color:"#383d41"},done:{bg:"#d4edda",color:"#155724"},not_found:{bg:"#fff3cd",color:"#856404"},failed:{bg:"#f8d7da",color:"#721c24"},skipped:{bg:"#cce5ff",color:"#004085"}},ee=le[ne]||le.pending;return C.jsx("span",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"12px",background:ee.bg,color:ee.color},children:ne})};return C.jsxs("div",{className:"page",children:[C.jsx("div",{className:"page-bar",children:C.jsx("div",{className:"flex flex-center",children:C.jsx("h1",{className:"page-title page-title--bar",style:{textAlign:"center",width:"100%"},children:"Removal Results"})})}),C.jsxs("div",{className:"container",children:[C.jsx("div",{className:"panel",style:{marginBottom:"24px"},children:C.jsxs("div",{style:{display:"flex",gap:"24px",alignItems:"center",flexWrap:"wrap"},children:[C.jsxs("div",{className:"field",style:{marginBottom:0,minWidth:"200px"},children:[C.jsx("label",{className:"label",children:"Select Month"}),C.jsxs("select",{className:"input",value:i,onChange:P,disabled:l,children:[t.length===0&&C.jsx("option",{value:w(),children:w()}),t.map(ne=>C.jsx("option",{value:ne,children:ne},ne))]})]}),p&&C.jsxs("div",{style:{display:"flex",gap:"16px",fontSize:"14px",flexWrap:"wrap"},children:[C.jsxs("div",{children:[C.jsx("strong",{children:"Total:"})," ",p.total]}),C.jsxs("div",{style:{color:"#383d41"},children:[C.jsx("strong",{children:"Pending:"})," ",p.pending]}),C.jsxs("div",{style:{color:"#155724"},children:[C.jsx("strong",{children:"Done:"})," ",p.done]}),C.jsxs("div",{style:{color:"#856404"},children:[C.jsx("strong",{children:"Not Found:"})," ",p.not_found]}),C.jsxs("div",{style:{color:"#721c24"},children:[C.jsx("strong",{children:"Failed:"})," ",p.failed]}),C.jsxs("div",{style:{color:"#004085"},children:[C.jsx("strong",{children:"Skipped:"})," ",p.skipped]})]})]})}),C.jsxs("div",{className:"panel",children:[C.jsxs("h2",{className:"panel-title",children:["Results for ",i||"..."]}),l?C.jsx("p",{style:{textAlign:"center",padding:"40px 0",color:"var(--muted-text)"},children:"Loading..."}):n.length===0?C.jsx("p",{style:{textAlign:"center",padding:"40px 0",color:"var(--muted-text)"},children:"No removal results found for this month."}):C.jsxs(C.Fragment,{children:[C.jsx("div",{style:{overflowX:"auto"},children:C.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"13px"},children:[C.jsx("thead",{children:C.jsxs("tr",{style:{borderBottom:"2px solid var(--black)"},children:[C.jsx("th",{style:{textAlign:"left",padding:"10px 8px"},children:"Contract ID"}),C.jsx("th",{style:{textAlign:"left",padding:"10px 8px"},children:"Customer ID"}),C.jsx("th",{style:{textAlign:"left",padding:"10px 8px"},children:"Email"}),C.jsx("th",{style:{textAlign:"left",padding:"10px 8px"},children:"Variant ID"}),C.jsx("th",{style:{textAlign:"left",padding:"10px 8px"},children:"Status"}),C.jsx("th",{style:{textAlign:"left",padding:"10px 8px"},children:"Error"}),C.jsx("th",{style:{textAlign:"left",padding:"10px 8px"},children:"Removed At"}),C.jsx("th",{style:{textAlign:"left",padding:"10px 8px"},children:"Actions"})]})}),C.jsx("tbody",{children:n.map(ne=>C.jsxs("tr",{style:{borderBottom:"1px solid #ddd"},children:[C.jsx("td",{style:{padding:"10px 8px",fontFamily:"monospace",fontSize:"12px"},children:ne.contractId}),C.jsx("td",{style:{padding:"10px 8px",fontFamily:"monospace",fontSize:"12px"},children:ne.customerId}),C.jsx("td",{style:{padding:"10px 8px"},children:ne.email||"-"}),C.jsx("td",{style:{padding:"10px 8px",fontFamily:"monospace",fontSize:"12px"},children:ne.lineVariantId||"-"}),C.jsx("td",{style:{padding:"10px 8px"},children:$(ne.removalStatus)}),C.jsx("td",{style:{padding:"10px 8px",color:"#721c24",fontSize:"12px",maxWidth:"200px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:ne.removalError||"-"}),C.jsx("td",{style:{padding:"10px 8px"},children:G(ne.removedAt)}),C.jsx("td",{style:{padding:"10px 8px"},children:C.jsx("button",{className:"btn",style:{padding:"4px 8px",fontSize:"12px"},onClick:()=>j(ne),children:"Logs"})})]},ne.id))})]})}),f.totalPages>1&&C.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"8px",marginTop:"20px",paddingTop:"20px",borderTop:"1px solid #ddd"},children:[C.jsx("button",{className:"btn",style:{width:"auto",padding:"8px 16px"},onClick:()=>k(f.page-1),disabled:f.page<=1,children:"Previous"}),C.jsxs("span",{style:{padding:"8px 16px",fontSize:"14px"},children:["Page ",f.page," of ",f.totalPages," (",f.total," total)"]}),C.jsx("button",{className:"btn",style:{width:"auto",padding:"8px 16px"},onClick:()=>k(f.page+1),disabled:f.page>=f.totalPages,children:"Next"})]})]})]}),g&&C.jsxs("div",{className:"panel",style:{marginTop:"24px"},children:[C.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[C.jsxs("h2",{className:"panel-title",style:{marginBottom:0},children:["Logs for Contract ",g.contractId]}),C.jsx("button",{className:"btn",onClick:B,style:{padding:"4px 12px"},children:"Close"})]}),T?C.jsx("p",{style:{textAlign:"center",padding:"20px 0",color:"var(--muted-text)"},children:"Loading logs..."}):b.length===0?C.jsx("p",{style:{textAlign:"center",padding:"20px 0",color:"var(--muted-text)"},children:"No logs found for this entry."}):C.jsx("div",{style:{overflowX:"auto"},children:C.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"13px"},children:[C.jsx("thead",{children:C.jsxs("tr",{style:{borderBottom:"2px solid var(--black)"},children:[C.jsx("th",{style:{textAlign:"left",padding:"10px 8px"},children:"Calendar"}),C.jsx("th",{style:{textAlign:"left",padding:"10px 8px"},children:"Email"}),C.jsx("th",{style:{textAlign:"left",padding:"10px 8px"},children:"Subscriber ID"}),C.jsx("th",{style:{textAlign:"left",padding:"10px 8px"},children:"Status"}),C.jsx("th",{style:{textAlign:"left",padding:"10px 8px"},children:"Error"}),C.jsx("th",{style:{textAlign:"left",padding:"10px 8px"},children:"Created At"})]})}),C.jsx("tbody",{children:b.map(ne=>C.jsxs("tr",{style:{borderBottom:"1px solid #ddd"},children:[C.jsx("td",{style:{padding:"10px 8px"},children:ne.calendarKey||"-"}),C.jsx("td",{style:{padding:"10px 8px"},children:ne.email||"-"}),C.jsx("td",{style:{padding:"10px 8px",fontFamily:"monospace",fontSize:"12px"},children:ne.subscriberId||"-"}),C.jsx("td",{style:{padding:"10px 8px"},children:$(ne.status)}),C.jsx("td",{style:{padding:"10px 8px",color:"#721c24",fontSize:"12px"},children:ne.error||"-"}),C.jsx("td",{style:{padding:"10px 8px"},children:G(ne.createdAt)})]},ne.id))})]})})]})]})]})},$V=()=>{const[n,e]=L.useState([]),[t,r]=L.useState(!0),[i,o]=L.useState({page:1,pageSize:50,total:0,totalPages:0}),[l,c]=L.useState(null),[f,h]=L.useState(null),[p,m]=L.useState(""),[g,y]=L.useState(""),[b,S]=L.useState(""),T=L.useRef(!1),A=()=>{const B=new Date,G=new Date;return G.setDate(G.getDate()-30),{from:G.toISOString().slice(0,10),to:B.toISOString().slice(0,10)}},M=async(B=1,G=p,$=g,ne=b)=>{console.log("[orderOutcomes] fetching page=",B,"q=",G,"from=",$,"to=",ne),r(!0);try{const le=Nt();let ee=`/api/orders/outcomes?page=${B}&pageSize=50`;$&&(ee+=`&from=${$}`),ne&&(ee+=`&to=${ne}`),G&&(ee+=`&q=${encodeURIComponent(G)}`);const I=await le(ee,{method:"GET"}),W=await I.json().catch(()=>null);if(!I.ok||!W?.ok){ve.error("Failed to load order outcomes"),console.log("[orderOutcomes] load failed",I.status,W);return}console.log("[orderOutcomes] loaded",W.rows?.length,"rows"),e(W.rows||[]),o({page:W.page,pageSize:W.pageSize,total:W.total,totalPages:W.totalPages}),c(W.summary||null)}catch(le){ve.error("Load error"),console.log("[orderOutcomes] load error",le)}finally{r(!1)}};L.useEffect(()=>{if(T.current)return;T.current=!0;const B=A();y(B.from),S(B.to),M(1,"",B.from,B.to)},[]);const w=B=>{B.preventDefault(),h(null),M(1,p,g,b)},x=B=>{h(null),M(B,p,g,b)},N=B=>{h(f===B?null:B)},z=B=>B?new Date(B).toLocaleString("en-GB",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",P=B=>B==="completed"?"#28a745":B==="failed"?"#dc3545":B==="skipped"?"#6c757d":"#17a2b8",k=B=>{const G={display:"inline-block",padding:"2px 8px",borderRadius:"12px",fontSize:"11px",fontWeight:"500",marginRight:"4px",marginBottom:"2px"};return B.includes("email:")?{...G,background:"#e3f2fd",color:"#1565c0"}:B.includes("fulfill:")?{...G,background:"#fff3e0",color:"#ef6c00"}:B.includes("addevent:")?{...G,background:"#e8f5e9",color:"#2e7d32"}:{...G,background:"#f5f5f5",color:"#616161"}},j={pageTitle:{textAlign:"center",width:"100%"},filterRow:{display:"flex",gap:"16px",alignItems:"flex-end",flexWrap:"wrap",marginBottom:"16px"},field:{marginBottom:0},summaryContainer:{display:"flex",flexWrap:"wrap",gap:"12px",marginTop:"16px"},summaryItem:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"8px 14px",background:"#f8f9fa",borderRadius:"8px",fontSize:"13px"},table:{width:"100%",borderCollapse:"collapse",fontSize:"14px"},th:{textAlign:"left",padding:"10px 8px",borderBottom:"2px solid var(--black)"},td:{padding:"10px 8px",borderBottom:"1px solid #ddd",verticalAlign:"top"},expandBtn:{background:"none",border:"none",cursor:"pointer",padding:"4px 8px",fontSize:"12px",color:"#1565c0"},expandedRow:{background:"#f8f9fa",padding:"16px",borderBottom:"1px solid #ddd"},logEntry:{display:"flex",gap:"16px",padding:"8px 12px",background:"#fff",borderRadius:"4px",marginBottom:"8px",fontSize:"13px",border:"1px solid #eee"}};return C.jsxs("div",{className:"page",children:[C.jsx("div",{className:"page-bar",children:C.jsx("div",{className:"flex flex-center",children:C.jsx("h1",{className:"page-title page-title--bar",style:j.pageTitle,children:"Order Outcomes"})})}),C.jsxs("div",{className:"container",children:[C.jsxs("div",{className:"panel",style:{marginBottom:"24px"},children:[C.jsx("h2",{className:"panel-title",children:"Filters"}),C.jsx("form",{onSubmit:w,children:C.jsxs("div",{style:j.filterRow,children:[C.jsxs("div",{className:"field",style:j.field,children:[C.jsx("label",{className:"label",children:"From Date"}),C.jsx("input",{type:"date",className:"input",value:g,onChange:B=>y(B.target.value),style:{width:"150px"}})]}),C.jsxs("div",{className:"field",style:j.field,children:[C.jsx("label",{className:"label",children:"To Date"}),C.jsx("input",{type:"date",className:"input",value:b,onChange:B=>S(B.target.value),style:{width:"150px"}})]}),C.jsxs("div",{className:"field",style:{...j.field,flex:1,minWidth:"200px"},children:[C.jsx("label",{className:"label",children:"Search (email, order ID, order name)"}),C.jsx("input",{type:"text",className:"input",value:p,onChange:B=>m(B.target.value),placeholder:"Search..."})]}),C.jsx("button",{type:"submit",className:"btn",style:{width:"auto",padding:"8px 20px"},children:"Search"})]})}),l&&C.jsxs("div",{style:j.summaryContainer,children:[C.jsxs("div",{style:j.summaryItem,children:[C.jsx("strong",{children:"Total Orders:"})," ",l.total]}),C.jsxs("div",{style:{...j.summaryItem,background:"#e8f5e9"},children:[C.jsx("strong",{children:"Completed:"})," ",l.completed||0]}),C.jsxs("div",{style:{...j.summaryItem,background:"#ffebee"},children:[C.jsx("strong",{children:"Failed:"})," ",l.failed||0]}),C.jsxs("div",{style:{...j.summaryItem,background:"#eceff1"},children:[C.jsx("strong",{children:"Skipped:"})," ",l.skipped||0]})]})]}),C.jsxs("div",{className:"panel",children:[C.jsx("h2",{className:"panel-title",children:"Orders"}),t?C.jsx("p",{style:{textAlign:"center",padding:"40px 0",color:"var(--muted-text)"},children:"Loading..."}):n.length===0?C.jsx("p",{style:{textAlign:"center",padding:"40px 0",color:"var(--muted-text)"},children:"No orders found for this date range."}):C.jsxs(C.Fragment,{children:[C.jsx("div",{style:{overflowX:"auto"},children:C.jsxs("table",{style:j.table,children:[C.jsx("thead",{children:C.jsxs("tr",{children:[C.jsx("th",{style:j.th}),C.jsx("th",{style:j.th,children:"Order"}),C.jsx("th",{style:j.th,children:"Email"}),C.jsx("th",{style:j.th,children:"Created At"}),C.jsx("th",{style:j.th,children:"Actions"}),C.jsx("th",{style:j.th,children:"Last Status"})]})}),C.jsx("tbody",{children:n.map(B=>C.jsxs(C.Fragment,{children:[C.jsxs("tr",{children:[C.jsx("td",{style:j.td,children:C.jsx("button",{style:j.expandBtn,onClick:()=>N(B.id),children:f===B.id?"[-]":"[+]"})}),C.jsxs("td",{style:j.td,children:[C.jsx("div",{style:{fontWeight:500},children:B.orderName||B.orderId}),B.orderName&&C.jsx("div",{style:{fontSize:"11px",color:"#888"},children:B.orderId})]}),C.jsx("td",{style:j.td,children:B.email||"-"}),C.jsx("td",{style:j.td,children:z(B.createdAt)}),C.jsx("td",{style:j.td,children:B.actions.length===0?C.jsx("span",{style:{color:"#888"},children:"-"}):B.actions.map((G,$)=>C.jsx("span",{style:k(G),children:G},$))}),C.jsx("td",{style:j.td,children:B.lastStatus?C.jsx("span",{style:{color:P(B.lastStatus),fontWeight:500},children:B.lastStatus}):C.jsx("span",{style:{color:"#888"},children:"-"})})]},B.id),f===B.id&&C.jsx("tr",{children:C.jsxs("td",{colSpan:6,style:j.expandedRow,children:[C.jsxs("div",{style:{fontWeight:500,marginBottom:"12px"},children:["Action Log for ",B.orderName||B.orderId]}),B.actionDetails.length===0?C.jsx("p",{style:{color:"#888"},children:"No actions recorded."}):B.actionDetails.map((G,$)=>C.jsxs("div",{style:j.logEntry,children:[C.jsx("div",{style:{minWidth:"180px"},children:C.jsx("span",{style:k(G.action),children:G.action})}),C.jsx("div",{style:{minWidth:"80px",color:P(G.status)},children:G.status}),C.jsx("div",{style:{minWidth:"140px",color:"#666"},children:z(G.updatedAt||G.createdAt)}),C.jsx("div",{style:{flex:1,color:"#666",fontSize:"12px"},children:G.details?JSON.stringify(G.details):"-"})]},$))]})},`${B.id}-expanded`)]}))})]})}),i.totalPages>1&&C.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"8px",marginTop:"20px",paddingTop:"20px",borderTop:"1px solid #ddd"},children:[C.jsx("button",{className:"btn",style:{width:"auto",padding:"8px 16px"},onClick:()=>x(i.page-1),disabled:i.page<=1,children:"Previous"}),C.jsxs("span",{style:{padding:"8px 16px",fontSize:"14px"},children:["Page ",i.page," of ",i.totalPages," (",i.total," total)"]}),C.jsx("button",{className:"btn",style:{width:"auto",padding:"8px 16px"},onClick:()=>x(i.page+1),disabled:i.page>=i.totalPages,children:"Next"})]})]})]})]})]})},e5=()=>{const[n,e]=L.useState([]),[t,r]=L.useState([]),[i,o]=L.useState(""),[l,c]=L.useState(!0),[f,h]=L.useState({page:1,pageSize:50,total:0,totalPages:0}),[p,m]=L.useState(null),[g,y]=L.useState(null),[b,S]=L.useState([]),[T,A]=L.useState(!1),[M,w]=L.useState(""),x=L.useRef(!1),N=()=>{const I=new Date,W=I.getFullYear(),ae=String(I.getMonth()+1).padStart(2,"0");return`${W}-${ae}`},z=async()=>{console.log("[subsCancellations] fetching months");try{const W=await Nt()("/api/subs/cancellations/months",{method:"GET"}),ae=await W.json().catch(()=>null);if(W.ok&&ae?.ok){const de=ae.months||[];if(console.log("[subsCancellations] months:",de),r(de),de.length>0&&!i){const xe=N(),H=de.includes(xe);o(H?xe:de[0])}else de.length===0&&c(!1)}else c(!1)}catch(I){console.log("[subsCancellations] fetch months error",I),c(!1)}},P=async(I,W=1,ae=M)=>{console.log("[subsCancellations] fetching month=",I,"page=",W,"q=",ae),c(!0);try{const de=Nt();let xe=`/api/subs/cancellations?month=${I}&page=${W}&pageSize=50`;ae&&(xe+=`&q=${encodeURIComponent(ae)}`);const H=await de(xe,{method:"GET"}),Y=await H.json().catch(()=>null);if(!H.ok||!Y?.ok){ve.error("Failed to load cancellations"),console.log("[subsCancellations] load failed",H.status,Y);return}console.log("[subsCancellations] loaded",Y.rows?.length,"rows"),e(Y.rows||[]),h({page:Y.page,pageSize:Y.pageSize,total:Y.total,totalPages:Y.totalPages}),m(Y.summary||null)}catch(de){ve.error("Load error"),console.log("[subsCancellations] load error",de)}finally{c(!1)}},k=async I=>{console.log("[subsCancellations] fetching logs for",I),A(!0);try{const ae=await Nt()(`/api/subs/cancellations/logs/${I}`,{method:"GET"}),de=await ae.json().catch(()=>null);ae.ok&&de?.ok?(console.log("[subsCancellations] logs loaded",de.logs?.length),S(de.logs||[])):S([])}catch(W){console.log("[subsCancellations] logs error",W),S([])}finally{A(!1)}};L.useEffect(()=>{x.current||(x.current=!0,z())},[]),L.useEffect(()=>{i&&(y(null),S([]),P(i,1,""),w(""))},[i]);const j=I=>{const W=I.target.value;console.log("[subsCancellations] month changed to",W),o(W)},B=I=>{I.preventDefault(),y(null),S([]),P(i,1,M)},G=I=>{y(null),S([]),P(i,I,M)},$=async I=>{g===I?(y(null),S([])):(y(I),await k(I))},ne=I=>I?new Date(I).toLocaleString("en-GB",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",le=I=>{const W={display:"inline-block",padding:"3px 10px",borderRadius:"12px",fontSize:"12px",fontWeight:"500"};return I==="done"?{...W,background:"#d4edda",color:"#155724"}:I==="pending"?{...W,background:"#fff3cd",color:"#856404"}:I==="failed"?{...W,background:"#f8d7da",color:"#721c24"}:I==="not_found"?{...W,background:"#e2e3e5",color:"#383d41"}:I==="skipped"?{...W,background:"#cce5ff",color:"#004085"}:{...W,background:"#f5f5f5",color:"#616161"}},ee={pageTitle:{textAlign:"center",width:"100%"},filterRow:{display:"flex",gap:"16px",alignItems:"flex-end",flexWrap:"wrap"},field:{marginBottom:0},summaryContainer:{display:"flex",flexWrap:"wrap",gap:"10px",marginTop:"16px"},summaryItem:{display:"inline-flex",alignItems:"center",gap:"6px",padding:"6px 12px",borderRadius:"8px",fontSize:"13px"},table:{width:"100%",borderCollapse:"collapse",fontSize:"14px"},th:{textAlign:"left",padding:"10px 8px",borderBottom:"2px solid var(--black)"},td:{padding:"10px 8px",borderBottom:"1px solid #ddd",verticalAlign:"top"},expandBtn:{background:"none",border:"none",cursor:"pointer",padding:"4px 8px",fontSize:"12px",color:"#1565c0"},expandedRow:{background:"#f8f9fa",padding:"16px",borderBottom:"1px solid #ddd"},logEntry:{display:"flex",gap:"12px",padding:"8px 12px",background:"#fff",borderRadius:"4px",marginBottom:"6px",fontSize:"13px",border:"1px solid #eee",alignItems:"center"}};return C.jsxs("div",{className:"page",children:[C.jsx("div",{className:"page-bar",children:C.jsx("div",{className:"flex flex-center",children:C.jsx("h1",{className:"page-title page-title--bar",style:ee.pageTitle,children:"Cancelled Subscription Outcomes"})})}),C.jsxs("div",{className:"container",children:[C.jsxs("div",{className:"panel",style:{marginBottom:"24px"},children:[C.jsx("h2",{className:"panel-title",children:"Filters"}),C.jsx("form",{onSubmit:B,children:C.jsxs("div",{style:ee.filterRow,children:[C.jsxs("div",{className:"field",style:ee.field,children:[C.jsx("label",{className:"label",children:"Month"}),C.jsxs("select",{className:"input",value:i,onChange:j,disabled:l,style:{minWidth:"150px"},children:[t.length===0&&C.jsx("option",{value:"",children:"No data yet"}),t.map(I=>C.jsx("option",{value:I,children:I},I))]})]}),C.jsxs("div",{className:"field",style:{...ee.field,flex:1,minWidth:"200px"},children:[C.jsx("label",{className:"label",children:"Search (email, customer ID, contract ID, handle)"}),C.jsx("input",{type:"text",className:"input",value:M,onChange:I=>w(I.target.value),placeholder:"Search..."})]}),C.jsx("button",{type:"submit",className:"btn",style:{width:"auto",padding:"8px 20px"},children:"Search"})]})}),p&&C.jsxs("div",{style:ee.summaryContainer,children:[C.jsxs("div",{style:{...ee.summaryItem,background:"#f8f9fa"},children:[C.jsx("strong",{children:"Total:"})," ",p.total]}),C.jsxs("div",{style:{...ee.summaryItem,background:"#d4edda"},children:[C.jsx("strong",{children:"Done:"})," ",p.done||0]}),C.jsxs("div",{style:{...ee.summaryItem,background:"#fff3cd"},children:[C.jsx("strong",{children:"Pending:"})," ",p.pending||0]}),C.jsxs("div",{style:{...ee.summaryItem,background:"#f8d7da"},children:[C.jsx("strong",{children:"Failed:"})," ",p.failed||0]}),C.jsxs("div",{style:{...ee.summaryItem,background:"#e2e3e5"},children:[C.jsx("strong",{children:"Not Found:"})," ",p.not_found||0]}),C.jsxs("div",{style:{...ee.summaryItem,background:"#cce5ff"},children:[C.jsx("strong",{children:"Skipped:"})," ",p.skipped||0]})]})]}),C.jsxs("div",{className:"panel",children:[C.jsxs("h2",{className:"panel-title",children:["Cancellations for ",i||"..."]}),l?C.jsx("p",{style:{textAlign:"center",padding:"40px 0",color:"var(--muted-text)"},children:"Loading..."}):n.length===0?C.jsx("p",{style:{textAlign:"center",padding:"40px 0",color:"var(--muted-text)"},children:"No cancellations found for this month."}):C.jsxs(C.Fragment,{children:[C.jsx("div",{style:{overflowX:"auto"},children:C.jsxs("table",{style:ee.table,children:[C.jsx("thead",{children:C.jsxs("tr",{children:[C.jsx("th",{style:ee.th}),C.jsx("th",{style:ee.th,children:"Contract"}),C.jsx("th",{style:ee.th,children:"Customer"}),C.jsx("th",{style:ee.th,children:"Email"}),C.jsx("th",{style:ee.th,children:"Variant"}),C.jsx("th",{style:ee.th,children:"Status"}),C.jsx("th",{style:ee.th,children:"Removed At"})]})}),C.jsx("tbody",{children:n.map(I=>C.jsxs(C.Fragment,{children:[C.jsxs("tr",{children:[C.jsx("td",{style:ee.td,children:C.jsx("button",{style:ee.expandBtn,onClick:()=>$(I.id),children:g===I.id?"[-]":"[+]"})}),C.jsxs("td",{style:ee.td,children:[C.jsx("div",{style:{fontWeight:500},children:I.contractId}),I.handle&&C.jsx("div",{style:{fontSize:"11px",color:"#888"},children:I.handle})]}),C.jsx("td",{style:ee.td,children:I.customerId||"-"}),C.jsx("td",{style:ee.td,children:I.email||"-"}),C.jsx("td",{style:ee.td,children:C.jsx("span",{style:{fontSize:"12px",color:"#666"},children:I.lineVariantId||"-"})}),C.jsxs("td",{style:ee.td,children:[C.jsx("span",{style:le(I.removalStatus),children:I.removalStatus}),I.removalError&&C.jsxs("div",{style:{fontSize:"11px",color:"#dc3545",marginTop:"4px"},title:I.removalError,children:[I.removalError.slice(0,40),I.removalError.length>40?"...":""]})]}),C.jsx("td",{style:ee.td,children:ne(I.removedAt)})]},I.id),g===I.id&&C.jsx("tr",{children:C.jsxs("td",{colSpan:7,style:ee.expandedRow,children:[C.jsxs("div",{style:{fontWeight:500,marginBottom:"12px"},children:["Removal Logs for Contract ",I.contractId]}),T?C.jsx("p",{style:{color:"#888"},children:"Loading logs..."}):b.length===0?C.jsx("p",{style:{color:"#888"},children:"No removal logs recorded."}):b.map(W=>C.jsxs("div",{style:ee.logEntry,children:[C.jsx("div",{style:{minWidth:"80px"},children:C.jsx("span",{style:{background:"#e8f5e9",color:"#2e7d32",padding:"2px 8px",borderRadius:"8px",fontSize:"11px"},children:W.calendarKey||"lookup"})}),C.jsx("div",{style:{minWidth:"180px",color:"#666"},children:W.email||"-"}),C.jsx("div",{style:{minWidth:"100px"},children:C.jsx("span",{style:le(W.status),children:W.status})}),C.jsx("div",{style:{minWidth:"140px",color:"#666"},children:ne(W.createdAt)}),C.jsxs("div",{style:{flex:1,color:"#888",fontSize:"12px"},children:[W.subscriberId&&C.jsxs("span",{children:["Sub ID: ",W.subscriberId]}),W.error&&C.jsxs("span",{style:{color:"#dc3545"},children:[" ",W.error]})]})]},W.id))]})},`${I.id}-expanded`)]}))})]})}),f.totalPages>1&&C.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"8px",marginTop:"20px",paddingTop:"20px",borderTop:"1px solid #ddd"},children:[C.jsx("button",{className:"btn",style:{width:"auto",padding:"8px 16px"},onClick:()=>G(f.page-1),disabled:f.page<=1,children:"Previous"}),C.jsxs("span",{style:{padding:"8px 16px",fontSize:"14px"},children:["Page ",f.page," of ",f.totalPages," (",f.total," total)"]}),C.jsx("button",{className:"btn",style:{width:"auto",padding:"8px 16px"},onClick:()=>G(f.page+1),disabled:f.page>=f.totalPages,children:"Next"})]})]})]})]})]})};function t5(){const n=L.useRef(!1),e=window.location.search||"";return L.useEffect(()=>{if(n.current)return;n.current=!0,(async()=>{const r=ve.loading("Bootstrapping...");try{const o=await Nt()("/api/bootstrap",{method:"POST"}),l=await o.json().catch(()=>null);if(ve.dismiss(r),!o.ok||!l?.ok){ve.error("Bootstrap failed"),console.log("Bootstrap failed:",o.status,l);return}ve.success(l?.already?"Already connected":"Token saved"),console.log("Bootstrap ok:",l)}catch(i){ve.dismiss(r),ve.error("Bootstrap error"),console.log("Bootstrap error:",i)}})()},[]),C.jsxs(C.Fragment,{children:[C.jsx(Pk,{position:"top-right"}),C.jsxs(z2,{children:[C.jsx(Ti,{to:{pathname:"/",search:e},rel:"home",children:"Home"}),C.jsx(Ti,{to:{pathname:"/workshop",search:e},children:"Workshop Template"}),C.jsx(Ti,{to:{pathname:"/workshop-settings",search:e},children:"Workshop Settings"}),C.jsx(Ti,{to:{pathname:"/workshop-registrations",search:e},children:"Registrations"}),C.jsx(Ti,{to:{pathname:"/subs-remover",search:e},children:"Subs Remover"}),C.jsx(Ti,{to:{pathname:"/removal-results",search:e},children:"Removal Results"}),C.jsx(Ti,{to:{pathname:"/orders/outcomes",search:e},children:"Order Outcomes"}),C.jsx(Ti,{to:{pathname:"/subs/cancellations",search:e},children:"Cancellation Outcomes"})]}),C.jsxs(r2,{children:[C.jsx(oa,{path:"/",element:C.jsx(IH,{})}),C.jsx(oa,{path:"/workshop",element:C.jsx(BH,{})}),C.jsx(oa,{path:"/workshop-settings",element:C.jsx(ZV,{})}),C.jsx(oa,{path:"/workshop-registrations",element:C.jsx(JV,{})}),C.jsx(oa,{path:"/subs-remover",element:C.jsx(XV,{})}),C.jsx(oa,{path:"/removal-results",element:C.jsx(QV,{})}),C.jsx(oa,{path:"/orders/outcomes",element:C.jsx($V,{})}),C.jsx(oa,{path:"/subs/cancellations",element:C.jsx(e5,{})})]})]})}aP.createRoot(document.getElementById("root")).render(C.jsx(ho.StrictMode,{children:C.jsxs(w2,{children:[C.jsx(t5,{}),C.jsx(Pk,{position:"top-right"})]})}));
